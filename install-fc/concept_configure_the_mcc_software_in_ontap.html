<!DOCTYPE html>
<html lang="en">
  <head class="at-element-marker">
  <title>Configuring the MetroCluster software in ONTAP</title>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge,chrome=1">
  <meta http-equiv="language" content="en">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:title" content="Configuring the MetroCluster software in ONTAP" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://docs.netapp.com/us-en/ontap-metrocluster/install-fc/concept_configure_the_mcc_software_in_ontap.html" />
	<meta property="og:description" content="You must set up each node in the MetroCluster configuration in ONTAP, including the node-level configurations and the configuration of the nodes into two sit..." />
  <meta property="og:image" content="https://docs.netapp.com/us-en/ontap-metrocluster/images/logo-tophat-social.png" />
  <meta property="og:image:alt" content="NetApp Logo" />
  <meta name="format-detection" content="telephone=no">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="encoding" content="utf-8">
  <meta http-equiv="nss-type" content="Product Documentation"/>
  <meta http-equiv="nss-subtype" content="User Guide"/>
  
  <meta name="description" content="You must set up each node in the MetroCluster configuration in ONTAP, including the node-level configurations and the configuration of the nodes into two sit...">
  <meta name="keywords" content=" configure, configuring, metrocluster, software, ontap">
  
  

  <!-- Icons -->
  <link rel="icon" href="/us-en/ontap-metrocluster/images/favicon.ico" type="image/x-icon">

  <!-- RSS Feed -->
  

  <!-- CSS Definitions: NetApp CSS should be defined after generic css -->

  <!-- Elastic Search -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/searchkit/0.10.0/theme.css">

  <!-- Controls AsciiDoctor Admonition Blocks -->
  <link rel="stylesheet" type="text/css" href="/us-en/ontap-metrocluster/css/font-awesome.min.css">

  <!-- Controls the shadow effect for search dropdown menu -->
  <link rel="stylesheet" href="/us-en/ontap-metrocluster/css/boxshadowproperties.css">

  <!-- NetApp CSS controls the technical content -->
  <link rel="stylesheet" type="text/css" href="/us-en/ontap-metrocluster/css/netapp.css">

  <!-- WWW CSS Content -->
  <link rel="stylesheet" type="text/css" href="/us-en/ontap-metrocluster/css/www-luci-dotcom.min.css">
  <link rel="stylesheet" type="text/css" href="/us-en/ontap-metrocluster/css/www-netapp-dotcom.css">
  <link rel="stylesheet" href="/us-en/ontap-metrocluster/css/www-netapp-library-critical.min.css" media="all" >
  <link rel="stylesheet" href="/us-en/ontap-metrocluster/css/www-netapp-library-non-critical.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="stylesheet" href="/us-en/ontap-metrocluster/css/www-netapp-library-global-header-footer.min.css">

  <!-- NetApp IE Customizations -->
  <link rel="stylesheet" href='/us-en/ontap-metrocluster/css/na-utility.css' type='text/css'>
  <link rel="stylesheet" href='/us-en/ontap-metrocluster/css/na-sidebar.css' type='text/css'>
  <link rel='stylesheet' href='/us-en/ontap-metrocluster/css/clouddocs.css' type='text/css'>
  <link rel='stylesheet' href='/us-en/ontap-metrocluster/css/na-pagenav.css' type='text/css'>

  
  <link rel="stylesheet" href="/us-en/ontap-metrocluster/css/astra.css" type="text/css">
  

  
  <link rel='stylesheet' href='/us-en/ontap-metrocluster/css/na-feature.css' type='text/css'>
  


  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <!-- Used to import Promise for IE. Required for SearchKit -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.5/bluebird.min.js"></script>
  
    <script src='/us-en/ontap-metrocluster/js/na-search.js'></script>
  

  
  <script src='/us-en/ontap-metrocluster/js/na-pagenav.js'></script>
  

  <link rel='stylesheet' href='/us-en/ontap-metrocluster/css/prism.css' type='text/css'>
  <link rel='stylesheet' href='/us-en/ontap-metrocluster/css/prism-netapp.css' type='text/css'>


  <script src='/us-en/ontap-metrocluster/js/na-utility.js'></script>
  <script src='/us-en/ontap-metrocluster/js/clouddocs.js'></script>
  <script>
  if (document.location.hostname === "docs.netapp.com") {
    var head = document.getElementsByTagName('head')[0];
    var adobe = document.createElement("script");
    adobe.type = "text/javascript";
    adobe.src = "//assets.adobedtm.com/60287eadf1ee/c284da483c83/launch-e9ff3acac59f.min.js";
    head.appendChild(adobe);
  }
  </script>
  <script src='/us-en/ontap-metrocluster/js/jquery.navgoco.min.js'></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script src='/us-en/ontap-metrocluster/js/toc.js'></script>
  <script src='/us-en/ontap-metrocluster/js/customscripts.js'></script>

  <script>
      $(document).ready(function() {
          
          var collapseOnInit = true;
          

          var navSettings = {
              "caretHtml": '',
              "accordion": collapseOnInit,
              "openClass": 'active', // open
              "save": false, // leave false or nav highlighting doesn't work right
              "cookie": {
                  "name": 'navgoco',
                  "expires": false,
                  "path": '/'
              },
              "slide": {
                  "duration": 400,
                  "easing": 'swing'
              }
          };

          // Initialize navgoco with default options
          $("#mysidebar").navgoco(navSettings);
          

          $("#collapseAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', false);
          });

          $("#expandAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', true);
          });

      });

  </script>
  <script>
      $(document).ready(function() {
          $("#tg-sb-link").click(function() {
              $("#tg-sb-sidebar").toggle();
              $("#tg-sb-content").toggleClass('col-md-9');
              $("#tg-sb-content").toggleClass('col-md-12');
              $("#tg-sb-icon").toggleClass('fa-toggle-on');
              $("#tg-sb-icon").toggleClass('fa-toggle-off');
          });
      });
  </script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-81697994-3"></script>
  <script>
  if (document.location.hostname === "docs.netapp.com") {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-81697994-3');
  }
  </script>
</head>


  <body class role="document">
    <div id="page" class="n-off-canvas-menu">
      <div class="n-off-canvas-menu__menu"><!--TODO: Add offcanvas code --></div>
      <div class="n-off-canvas-menu__content-wrap">
        <header class="site-header" id="banner">
  <!-- Start top_hat -->
  <div class="n-top-hat">
    <div class="n-container">
      <div class="n-top-hat__cross-property-nav">
        <ul class="n-top-hat__list">
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/products-a-z/" class="n-top-hat__link">Product and Solutions</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/support-and-training/netapp-university/" class="n-top-hat__link">Support and Training</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://cloud.netapp.com" class="n-top-hat__link">Cloud Central</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://community.netapp.com/" class="n-top-hat__link">Community</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://blog.netapp.com/" class="n-top-hat__link">Blog</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://customers.netapp.com/en/" class="n-top-hat__link">Customer Stories</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/us/contact-us/index.aspx" target="_self" class="n-top-hat__link" data-ntap-ui="contact-us">Contact</a>
          </li>
        </ul>
      </div>
      <div class="n-top-hat__utils">
        <ul class="n-top-hat__list">
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/us/contact-us/index.aspx" target="_self" class="n-top-hat__link" data-ntap-ui="contact-us">Contact</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <!-- End top_hat -->

  <!-- Start property bar -->
  <style>
    .n-property-navigation-bar__menus--desktop-experience .n-menu--mega__default-content__heading span {
    color: #34B0FF;
    }
  </style>
  <div class="n-property-bar " data-ntap-ui="sticky-nav">
    <div class="n-property-bar__inner-wrap">
      <div class="n-property-bar__menu-toggle">
        <a href="#" class="n-property-bar__menu-toggle-link">
          <span class="n-property-bar__menu-toggle-text">Menu</span>
          <svg class="n-icon-bars n-property-bar__menu-toggle-icon" aria-labelledby="title">
            <title>bars</title>
            <use xlink:href="/us-en/ontap-metrocluster/common/svg/sprite.svg#bars"></use>
          </svg>
        </a>
      </div>
      <div class="n-property-bar__property-mark ">
        <a href="https://www.netapp.com" class="n-property-bar__property-link">
          <div class="n-property-bar__logo">
            <svg class="n-icon-netapp-mark n-icon-netapp-mark n-property-bar__netapp-mark-icon" aria-labelledby="title">
              <title>netapp-mark</title>
              <use xlink:href="/us-en/ontap-metrocluster/common/svg/sprite.svg#netapp-mark"></use>
            </svg>
            <svg class="n-icon-netapp-logo n-property-bar__logo-svg" aria-labelledby="title">
              <title>netapp-logo</title>
              <use xlink:href="/us-en/ontap-metrocluster/common/svg/sprite.svg#netapp-logo"></use>
            </svg>
          </div>
        </a>
      </div>

      
      <div class="search-property-bar">
        <div id="search-demo-container" class="searchbox n-property-bar__search">
          <div id="react-search" data-type="widget" data-placeholder="Search Documentation" data-no-results-found="No results were found for {query}" data-did-you-mean="Search for {suggestion}." data-no-results-found-did-you-mean="No results found for {query}. Did you mean {suggestion}?" data-results-found="{hitCount} results found"  ></div>
          <button class="n-property-bar__search-toggle-button" type="button">
            <svg class="n-icon-search n-property-bar__search-toggle-button-icon" aria-labelledby="title">
              <title>search</title>
              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-metrocluster/common/svg/sprite.svg#search"></use>
            </svg>
          </button>
        </div>
      </div>
      
    </div>
  </div>
  <div class="n-property-bar__toolbar"><!-- Start Language Selector --><!-- End Language Selector -->

    <div class="n-property-bar__cta"></div>
  </div>
  <script>
    $(function(){
        var currentLocalization = $('html').attr('lang');

        var localizationsDictionary = {
            "en-CA" : "https://www.netapp.com/search/index.aspx?for_cr=canada&",
            "en-IN" : "https://www.netapp.com/search/index.aspx?for_cr=india&",
            "nl-NL" : "https://www.netapp.com/search/index.aspx?for_cr=netherlands&",
            "ru-RU" : "https://www.netapp.com/search/index.aspx?for_cr=russia&",
            "sv-SE" : "https://www.netapp.com/search/index.aspx?for_cr=sweden&",
            "it-IT" : "https://www.netapp.com/search/index.aspx?for_cr=italy&",
            "he-IL" : "https://www.netapp.com/search/index.aspx?for_cr=israel&",
            "ko-KR" : "https://www.netapp.com/search/index.aspx?for_cr=korea&",
            "zh-TW" : "https://www.netapp.com/search/index.aspx?for_cr=taiwan&",
            "en-GB" : "https://www.netapp.com/search/index.aspx?for_cr=unitedkingdom&",
            "en-SG" : "https://www.netapp.com/search/index.aspx?for_cr=asean&",
            "en-AU" : "https://www.netapp.com/search/index.aspx?for_cr=australia&",
            "pt-BR" : "https://www.netapp.com/search/index.aspx?for_cr=brasil&",
            "de-CH" : "https://www.netapp.com/search/index.aspx?for_cr=switzerland&",
            "es-MX" : "https://www.netapp.com/search/index.aspx?for_cr=mexico&"
        };

        if($('html').hasClass('ntap-whitelisted') && localizationsDictionary.hasOwnProperty(currentLocalization)) {
            $('.n-property-bar__property-link').attr('href', '/');
        }
    });
  </script>
  <!-- End property bar -->
</header>

        <div class="ie-utility">
  <div class="ie-menu">
    <div class="n-breadcrumb">
      <ul class="n-breadcrumb__list">
        <li class="n-breadcrumb__list-item">
          <a href="https://www.netapp.com">Home</a>
        </li>
        <li class="n-breadcrumb__list-item">
          <a href="https://docs.netapp.com">Documentation</a>
        </li>
        

        <li class="n-breadcrumb__list-item">
          <a href="/us-en/ontap-metrocluster/">ONTAP&nbsp;MetroCluster</a>
        </li>
        <li class="n-breadcrumb__list-item">
          Configuring the MetroCluster software in ONTAP
        </li>
      </ul>
    </div>

    <div style="clear: both"></div><!-- Main needs to have height -->
  </div>
</div>


        <main id="n-main-content" class="n-main-content">
          <!-- Start Documentation Content -->
<div class="ie-main">
  <!-- Sidebar Column -->
  
  <div class="col-md-3" >
      <div class="n-pdf-header">
  <a id="toggleButtonPdf" class="n-pdf-button" type="button">PDFs<span>
    </span>
  </a>
</div>
<ul id="toggleContainerPdf" class="n-pdf-body" style="display:none;"><div class="n-pdf-section">
      <span class="n-pdf-section-title">Site</span>
    </div>
    <li>
      <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/fullsite-sidebar/MetroCluster_Documentation.pdf" >
        <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
        MetroCluster Documentation
      </a>
    </li>





    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              Sections
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Install_a_fabric_attached_MetroCluster.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Install a fabric-attached MetroCluster
          </a>
        </li>
        <span>
          







    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Cabling_a_fabric_attached_MetroCluster_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Cabling a fabric-attached MetroCluster configuration
          </a>
        </li>
        <span>
          

    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Parts_of_a_fabric_MetroCluster_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Parts of a fabric MetroCluster configuration
          </a>
        </li>
        <span>
          










          
        </span>
      </span>
    

  







    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Installing_and_cabling_MetroCluster_components.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Installing and cabling MetroCluster components
          </a>
        </li>
        <span>
          






















          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Configuring_the_FC_switches.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Configuring the FC switches
          </a>
        </li>
        <span>
          

    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Configuring_Brocade_FC_switches_with_RCF_files.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Configuring Brocade FC switches with RCF files
          </a>
        </li>
        <span>
          








          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Configuring_the_Cisco_FC_switches_with_RCF_files.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Configuring the Cisco FC switches with RCF files
          </a>
        </li>
        <span>
          








          
        </span>
      </span>
    

  








          
        </span>
      </span>
    

  






          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Configuring_hardware_for_sharing_a_Brocade_6510_FC_fabric_during_transition.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Configuring hardware for sharing a Brocade 6510 FC fabric during transition
          </a>
        </li>
        <span>
          







    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Configuring_switch_fabrics_sharing_between_the_7_Mode_and_clustered_MetroCluster_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Configuring switch fabrics sharing between the 7-Mode and clustered MetroCluster configuration
          </a>
        </li>
        <span>
          










          
        </span>
      </span>
    

  




          
        </span>
      </span>
    

  


    <div class="n-pdf-section">
  <span class="n-pdf-section-title">This page</span>
</div>

<li class="active">
  <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/pages/install-fc/concept_configure_the_mcc_software_in_ontap.pdf" >
    <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
    Configuring the MetroCluster software in ONTAP
  </a>
</li>


  









    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Planning_and_installing_a_MetroCluster_configuration_with_array_LUNs.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Planning and installing a MetroCluster configuration with array LUNs
          </a>
        </li>
        <span>
          







    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Installing_and_cabling_the_MetroCluster_components_in_a_configuration_with_array_LUNs.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Installing and cabling the MetroCluster components in a configuration with array LUNs
          </a>
        </li>
        <span>
          







    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Cabling_the_FC_VI_and_HBA_ports_in_a_MetroCluster_configuration_with_array_LUNs.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Cabling the FC-VI and HBA ports in a MetroCluster configuration with array LUNs
          </a>
        </li>
        <span>
          








          
        </span>
      </span>
    

  













    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Cabling_storage_arrays_to_FC_switches_in_a_MetroCluster_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Cabling storage arrays to FC switches in a MetroCluster configuration
          </a>
        </li>
        <span>
          








          
        </span>
      </span>
    

  




          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Switch_zoning_in_a_MetroCluster_configuration_with_array_LUNs.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Switch zoning in a MetroCluster configuration with array LUNs
          </a>
        </li>
        <span>
          










          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Setting_up_ONTAP_in_a_MetroCluster_configuration_with_array_LUNs.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Setting up ONTAP in a MetroCluster configuration with array LUNs
          </a>
        </li>
        <span>
          




















          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Implementing_a_MetroCluster_configuration_with_both_disks_and_array_LUNs.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Implementing a MetroCluster configuration with both disks and array LUNs
          </a>
        </li>
        <span>
          








          
        </span>
      </span>
    

  




          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Using_the_Active_IQ_Unified_Manager_and_ONTAP_System_Manager_for_further_configuration_and_monitoring.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Using the Active IQ Unified Manager and ONTAP System Manager for further configuration and monitoring
          </a>
        </li>
        <span>
          




          
        </span>
      </span>
    

  








          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              Sections
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Install_a_MetroCluster_IP_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Install a MetroCluster IP configuration
          </a>
        </li>
        <span>
          



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Preparing_for_the_MetroCluster_installation.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Preparing for the MetroCluster installation
          </a>
        </li>
        <span>
          




























          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Configuring_the_MetroCluster_hardware_components.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Configuring the MetroCluster hardware components
          </a>
        </li>
        <span>
          














          
        </span>
      </span>
    

  





    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Configuring_the_ONTAP_Mediator_service_for_unplanned_automatic_switchover.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Configuring the ONTAP Mediator service for unplanned automatic switchover
          </a>
        </li>
        <span>
          
















          
        </span>
      </span>
    

  












          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              Sections
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Install_a_stretch_MetroCluster_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Install a stretch MetroCluster configuration
          </a>
        </li>
        <span>
          







    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Cabling_a_two_node_SAS_attached_stretch_MetroCluster_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Cabling a two-node SAS-attached stretch MetroCluster configuration
          </a>
        </li>
        <span>
          





    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Installing_and_cabling_MetroCluster_components_for_two_node_SAS_attached_stretch_configurations.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Installing and cabling MetroCluster components for two-node SAS-attached stretch configurations
          </a>
        </li>
        <span>
          










          
        </span>
      </span>
    

  




          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Cabling_a_two_node_bridge_attached_stretch_MetroCluster_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Cabling a two-node bridge-attached stretch MetroCluster configuration
          </a>
        </li>
        <span>
          







    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Installing_and_cabling_MetroCluster_components.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Installing and cabling MetroCluster components
          </a>
        </li>
        <span>
          










          
        </span>
      </span>
    

  






          
        </span>
      </span>
    

  









    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Connections_in_a_stretch_MetroCluster_configurations_with_array_LUNs.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Connections in a stretch MetroCluster configurations with array LUNs
          </a>
        </li>
        <span>
          








          
        </span>
      </span>
    

  





    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Using_the_Active_IQ_Unified_Manager_and_ONTAP_System_Manager_for_further_configuration_and_monitoring.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Using the Active IQ Unified Manager and ONTAP System Manager for further configuration and monitoring
          </a>
        </li>
        <span>
          




          
        </span>
      </span>
    

  










          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              Sections
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Maintain_the_MetroCluster_components.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Maintain the MetroCluster components
          </a>
        </li>
        <span>
          







    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Performing_FC_to_SAS_bridge_maintenance.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Performing FC-to-SAS bridge maintenance
          </a>
        </li>
        <span>
          






















          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Performing_FC_switch_maintenance_and_replacement.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Performing FC switch maintenance and replacement
          </a>
        </li>
        <span>
          






















          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Performing_IP_switch_maintenance_and_replacement.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Performing IP switch maintenance and replacement
          </a>
        </li>
        <span>
          










          
        </span>
      </span>
    

  







    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Hot_adding_storage_to_a_MetroCluster_FC_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Hot-adding storage to a MetroCluster FC configuration
          </a>
        </li>
        <span>
          



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Hot_adding_SAS_storage_to_a_bridge_attached_MetroCluster_FC_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Hot-adding SAS storage to a bridge-attached MetroCluster FC configuration
          </a>
        </li>
        <span>
          





    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Hot_adding_a_SAS_disk_shelf_to_a_stack_of_SAS_disk_shelves.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Hot-adding a SAS disk shelf to a stack of SAS disk shelves
          </a>
        </li>
        <span>
          






          
        </span>
      </span>
    

  






          
        </span>
      </span>
    

  




          
        </span>
      </span>
    

  























    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Port_assignments_for_FC_switches.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Port assignments for FC switches
          </a>
        </li>
        <span>
          








          
        </span>
      </span>
    

  








          
        </span>
      </span>
    

  





    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              Sections
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Performing_switchover__healing__and_switchback.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Performing switchover, healing, and switchback
          </a>
        </li>
        <span>
          

    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Performing_switchover_for_tests_or_maintenance.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Performing switchover for tests or maintenance
          </a>
        </li>
        <span>
          











    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Healing_the_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Healing the configuration
          </a>
        </li>
        <span>
          

    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Healing_the_configuration_in_a_MetroCluster_FC_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Healing the configuration in a MetroCluster FC configuration
          </a>
        </li>
        <span>
          






          
        </span>
      </span>
    

  






          
        </span>
      </span>
    

  








          
        </span>
      </span>
    

  












          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              Sections
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Install_and_Configure_MetroCluster_Tiebreaker.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Install and Configure MetroCluster Tiebreaker
          </a>
        </li>
        <span>
          




















          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              Sections
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Transition_from_MetroCluster_FC_to_MetroCluster_IP.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Transition from MetroCluster FC to MetroCluster IP
          </a>
        </li>
        <span>
          



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Transitioning_nondisruptively_from_a_MetroCluster_FC_to_a_MetroCluster_IP_configuration__ONTAP_9_8_and_later_.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Transitioning nondisruptively from a MetroCluster FC to a MetroCluster IP configuration (ONTAP 9.8 and later)
          </a>
        </li>
        <span>
          

    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Preparing_for_transition_from_a_MetroCluster_FC_to_a_MetroCluster_IP_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Preparing for transition from a MetroCluster FC to a MetroCluster IP configuration
          </a>
        </li>
        <span>
          
















          
        </span>
      </span>
    

  










          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Disruptively_transitioning_from_a_two_node_MetroCluster_FC_to_a_four_node_MetroCluster_IP_configuration__ONTAP_9_8_and_later_.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Disruptively transitioning from a two-node MetroCluster FC to a four-node MetroCluster IP configuration (ONTAP 9.8 and later)
          </a>
        </li>
        <span>
          














          
        </span>
      </span>
    

  














          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              Sections
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Upgrade_or_expand_the_MetroCluster_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Upgrade or expand the MetroCluster configuration
          </a>
        </li>
        <span>
          











    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Expanding_a_two_node_MetroCluster_FC_configuration_to_a_four_node_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Expanding a two-node MetroCluster FC configuration to a four-node configuration
          </a>
        </li>
        <span>
          







    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Adding_a_new_controller_module_to_each_cluster.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Adding a new controller module to each cluster
          </a>
        </li>
        <span>
          













    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Installing_and_cabling_the_new_controller_module.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Installing and cabling the new controller module
          </a>
        </li>
        <span>
          






          
        </span>
      </span>
    

  

















    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Configuring_intercluster_LIFs.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Configuring intercluster LIFs
          </a>
        </li>
        <span>
          






          
        </span>
      </span>
    

  












          
        </span>
      </span>
    

  










          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Expanding_a_four_node_MetroCluster_FC_configuration_to_an_eight_node_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Expanding a four-node MetroCluster FC configuration to an eight-node configuration
          </a>
        </li>
        <span>
          











    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Recabling_and_zoning_a_switch_fabric_for_the_new_nodes.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Recabling and zoning a switch fabric for the new nodes
          </a>
        </li>
        <span>
          






          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Configuring_ONTAP_on_the_new_controllers.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Configuring ONTAP on the new controllers
          </a>
        </li>
        <span>
          











    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Configuring_the_clusters_into_a_MetroCluster_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Configuring the clusters into a MetroCluster configuration
          </a>
        </li>
        <span>
          

    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Configuring_intercluster_LIFs.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Configuring intercluster LIFs
          </a>
        </li>
        <span>
          






          
        </span>
      </span>
    

  
















          
        </span>
      </span>
    

  




          
        </span>
      </span>
    

  










          
        </span>
      </span>
    

  










          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              Sections
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Disaster_Recovery.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Disaster Recovery
          </a>
        </li>
        <span>
          







    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Recovering_from_a_multi_controller_or_storage_failure.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Recovering from a multi-controller or storage failure
          </a>
        </li>
        <span>
          












          
        </span>
      </span>
    

  






          
        </span>
      </span>
    

  




</ul>

<script>
  $("#toggleContainerPdf li.active").parents('li').toggle('display');
  $("#toggleContainerPdf li.active").parents('span.subfolders').toggle('display');
  $("#toggleButtonPdf").click(function () {
    $("#toggleContainerPdf").toggle('display');
  });
</script><ul id="mysidebar" class="nav"><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/index.html">
        MetroCluster
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/releasenotes.html">
        Release Notes
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/index.html">
        <div class="na-navbar-padding"> Install a fabric-attached MetroCluster</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_deciding_whether_to_use_this_guide_fabric_attached_mcc_installation_and_configuration_guide.html">
        Deciding whether to use the Fabric-attached MetroCluster Installation and Configuration Guide
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_prepare_for_the_mcc_installation.html">
        Preparing for the MetroCluster installation
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_choosing_the_correct_installation_procedure_for_your_configuration_mcc_install.html">
        Choosing the correct installation procedure for your configuration
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/task_configure_the_mcc_hardware_components_fabric.html">
        <div class="na-navbar-padding"> Cabling a fabric-attached MetroCluster configuration</div>
      </a>
      <ul><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/concept_parts_of_a_fabric_mcc_configuration.html">
        <div class="na-navbar-padding"> Parts of a fabric MetroCluster configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_illustration_of_the_local_ha_pairs_in_a_mcc_configuration.html">
        Illustration of the local HA pairs in a MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_illustration_of_redundant_fc_to_sas_bridges.html">
        Illustration of redundant FC-to-SAS bridges
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_redundant_fc_switch_fabrics.html">
        Redundant FC switch fabrics
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_cluster_peering_network_mcc.html">
        Illustration of the cluster peering network
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_required_mcc_components_and_naming_conventions_fabric_mcc.html">
        Required MetroCluster FC components and naming conventions
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/reference_configuration_gathering_worksheet_for_fc_switches_and_fc_to_sas_bridges.html">
        Configuration worksheet for FC switches and FC-to-SAS bridges
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/task_install_and_cable_the_mcc_components.html">
        <div class="na-navbar-padding"> Installing and cabling MetroCluster components</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_rack_the_hardware_components_mcc_fabric_and_ip.html">
        Racking the hardware components
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_controller_module_s_fc_vi_hba_ports_to_the_fc_switches_controller_to_fc_sw.html">
        Cabling the new controller module&#8217;s FC-VI and HBA ports to the FC switches
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_isl_between_the_mcc_sites_fabric_config.html">
        Cabling the ISLs between MetroCluster sites
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_port_assignments_for_systems_using_two_initiator_ports.html">
        Port assignments for systems using two initiator ports
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_port_assignments_for_fc_switches_when_using_ontap_9_0.html">
        Port assignments for FC switches when using ONTAP 9.0
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_port_assignments_for_fc_switches_when_using_ontap_9_1_and_later.html">
        Port assignments for FC switches when using ONTAP 9.1 and later
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_cluster_interconnect_in_four_node_configurations.html">
        Cabling the cluster interconnect in eight- or four-node configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_cluster_peering_connections.html">
        Cabling the cluster peering connections
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_ha_interconnect.html">
        Cabling the HA interconnect, if necessary
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_management_and_data_connections.html">
        Cabling the management and data connections
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/task_fcsw_configure_the_fc_switches_choice_topic.html">
        <div class="na-navbar-padding"> Configuring the FC switches</div>
      </a>
      <ul><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/task_fcsw_brocade_configure_the_brocade_fc_switches_with_rcf_files.html">
        <div class="na-navbar-padding"> Configuring Brocade FC switches with RCF files</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_reset_the_brocade_fc_switch_to_factory_defaults.html">
        Resetting the Brocade FC switch to factory defaults
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_download_the_brocade_fc_rcf_switch_software.html">
        Downloading the Brocade FC switch RCF file
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_install_the_brocade_fc_switch_rcf_file.html">
        Installing the Brocade FC switch RCF file
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/generaltask_fcsw_cisco_configure_the_cisco_fc_switches_with_rcf_files.html">
        <div class="na-navbar-padding"> Configuring the Cisco FC switches with RCF files</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_reset_the_cisco_fc_switch_to_factory_defaults.html">
        Resetting the Cisco FC switch to factory defaults
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_download_and_install_the_cisco_fc_switch_software.html">
        Downloading and installing the Cisco FC switch NX-OS software
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_download_and_install_the_cisco_fc_switch_rcf_files.html">
        Downloading and installing the Cisco FC RCF files
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_fcsw_brocade_configure_the_brocade_fc_switches_supertask.html">
        Configuring the Brocade FC switches manually
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_fcsw_cisco_configure_a_cisco_switch_supertask.html">
        Configuring the Cisco FC switches nanually
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_fb_new_install.html">
        Installing FC-to-SAS bridges and SAS disk shelves
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/task_fmc_mcc_transition_configure_the_mcc_hardware_for_share_a_7_mode_brocade_6510_fc_fabric_dure_transition.html">
        <div class="na-navbar-padding"> Configuring hardware for sharing a Brocade 6510 FC fabric during transition</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_fcsw_brocade_reviewing_brocade_license_requirements.html">
        Reviewing Brocade license requirements
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_rack_the_hardware_components_mcc_fabric_and_ip.html">
        Racking the hardware components
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_fmc_mcc_transition_cable_the_new_mcc_controllers_to_the_exist_fc_fabrics.html">
        Cabling the new MetroCluster controllers to the existing FC fabrics
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/task_fmc_mcc_transition_configure_a_switch_fabric_for_shar_with_the_7_mode_and_clustered_mcc_configuration.html">
        <div class="na-navbar-padding"> Configuring switch fabrics sharing between the 7-Mode and clustered MetroCluster configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_fmc_mcc_transition_disable_one_of_the_switch_fabrics.html">
        Disabling one of the switch fabrics
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_fmc_mcc_transition_configure_zone_and_qos.html">
        Deleting TI zoning and configuring IOD settings
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_fmc_mcc_transition_ensure_isls_are_in_the_same_port_group_and_configure_zon.html">
        Ensuring ISLs are in the same port group and configuring zoning
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_fmc_mcc_transition_reenable_the_switch_fabric_and_verify_operation.html">
        Reenabling the switch fabric and verify operation
      </a></li></ul></li></ul></li><li class="  active "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_configure_the_mcc_software_in_ontap.html">
        Configuring the MetroCluster software in ONTAP
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_considerations_for_using_virtual_ip_and_border_gateway_protocol_with_a_mcc_configuration.html">
        Considerations for using virtual IP and Border Gateway Protocol with a MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_test_the_mcc_configuration.html">
        Testing the MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_considerations_when_removing_mcc_configurations.html">
        Considerations when removing MetroCluster configurations
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/concept_planning_and_installing_a_mcc_configuration_with_array_luns.html">
        <div class="na-navbar-padding"> Planning and installing a MetroCluster configuration with array LUNs</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_planning_for_a_mcc_configuration_with_array_luns.html">
        Planning for a MetroCluster configuration with array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/reference_supported_mcc_configuration_with_array_luns.html">
        Supported MetroCluster configuration with array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/reference_requirements_for_a_mcc_configuration_with_array_luns_reference.html">
        Requirements for a MetroCluster configuration with array LUNs
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/task_install_and_cable_the_mcc_components_in_a_configuration_with_array_luns.html">
        <div class="na-navbar-padding"> Installing and cabling the MetroCluster components in a configuration with array LUNs</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_rack_the_hardware_components_in_a_mcc_configuration_with_array_luns.html">
        Racking the hardware components in a MetroCluster configuration with array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_prepare_a_storage_array_for_use_with_ontap_systems.html">
        Preparing a storage array for use with ONTAP systems
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_switch_ports_required_for_a_eight_node_mcc_configuration_with_array_luns.html">
        Switch ports required for a MetroCluster configuration with array LUNs
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/task_cable_the_fc_vi_and_hba_ports_in_a_mcc_configuration_with_array_luns.html">
        <div class="na-navbar-padding"> Cabling the FC-VI and HBA ports in a MetroCluster configuration with array LUNs</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_fc_vi_and_hba_ports_to_switches_in_a_two_node_fabric_attached_mcc_configuration_with_array_luns.html">
        Cabling the FC-VI and HBA ports in a two-node fabric-attached MetroCluster configuration with array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_fc_vi_and_hba_ports_to_switches_in_a_four_node_fabric_attached_mcc_configuration_with_array_luns.html">
        Cabling the FC-VI and HBA ports in a four-node fabric-attached MetroCluster configuration with array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_fc_vi_and_hba_ports_to_switches_in_an_eight_node_fabric_attached_mcc_configuration_with_array_luns.html">
        Cabling the FC-VI and HBA ports in an eight-node fabric-attached MetroCluster configuration with array LUNs
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_isls_in_a_mcc_configuration_with_array_luns.html">
        Cabling the ISLs in a MetroCluster configuration with array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_cluster_interconnect_in_four_node_configurations.html">
        Cabling the cluster interconnect in eight- or four-node configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_cluster_peering_connections.html">
        Cabling the cluster peering connections
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_ha_interconnect.html">
        Cabling the HA interconnect, if necessary
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_management_and_data_connections.html">
        Cabling the management and data connections
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/task_cable_storage_arrays_to_fc_switches_in_a_mcc_configuration.html">
        <div class="na-navbar-padding"> Cabling storage arrays to FC switches in a MetroCluster configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/reference_example_of_cabling_array_luns_to_fc_switches_in_a_two_node_mcc_configuration.html">
        Example of cabling storage array ports to FC switches in a two-node MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/reference_example_of_cabling_array_luns_to_fc_switches_in_a_four_node_mcc_configuration.html">
        Example of cabling storage array ports to FC switches in a four-node MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/reference_example_of_cabling_array_luns_to_fc_switches_in_an_eight_node_mcc_configuration.html">
        Example of cabling storage array ports to FC switches in an eight-node MetroCluster configuration
      </a></li></ul></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/concept_switch_zoning_in_a_mcc_configuration_with_array_luns.html">
        <div class="na-navbar-padding"> Switch zoning in a MetroCluster configuration with array LUNs</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/reference_requirements_for_switch_zoning_in_a_mcc_configuration_with_array_luns.html">
        Requirements for switch zoning in a MetroCluster configuration with array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_example_of_switch_zoning_in_a_two_node_mcc_configuration_with_array_luns.html">
        Example of switch zoning in a two-node MetroCluster configuration with array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_example_of_switch_zoning_in_a_four_node_mcc_configuration_with_array_luns.html">
        Example of switch zoning in a four-node MetroCluster configuration with array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_example_of_switch_zoning_in_an_eight_node_mcc_configuration_with_array_luns.html">
        Example of switch zoning in an eight-node MetroCluster configuration with array LUNs
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/task_configure_ontap_in_a_mcc_configuration_with_array_luns.html">
        <div class="na-navbar-padding"> Setting up ONTAP in a MetroCluster configuration with array LUNs</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_verify_the_ha_state_of_components_is_mcc_or_mcc_2n_in_maintenance_mode.html">
        Verifying and configuring the HA state of components in Maintenance mode
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_configure_ontap_on_a_system_that_uses_only_array_luns.html">
        Configuring ONTAP on a system that uses only array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_setting_up_the_cluster.html">
        Setting up the cluster
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_install_the_license_for_us_array_luns_in_a_mcc_configuration.html">
        Installing the license for using array LUNs in a MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_configure_fc_vi_ports_on_a_x1132a_r6_quad_port_card.html">
        Configuring FC-VI ports on a X1132A-R6 quad-port card on FAS8020 systems
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_assign_ownership_of_array_luns.html">
        Assigning ownership of array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_peer_the_clusters_mcc_with_array_luns.html">
        Peering the clusters
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_mirror_the_root_aggregates_mcc_with_array_luns.html">
        Mirroring the root aggregates
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_create_data_aggregates_and_implement_the_configuration_mcc_with_array_luns.html">
        Creating data aggregates on, implementing, and verifying the MetroCluster configuration
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/concept_implementing_a_mcc_configuration_with_both_disks_and_array_luns.html">
        <div class="na-navbar-padding"> Implementing a MetroCluster configuration with both disks and array LUNs</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_considerations_for_implementing_a_mcc_configuration_with_disks_and_array_luns.html">
        Considerations when implementing a MetroCluster configuration with disks and array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/reference_example_of_a_two_node_fabric_attached_mcc_configuration_with_disks_and_array_luns.html">
        Example of a two-node fabric-attached MetroCluster configuration with disks and array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_example_of_a_four_node_mcc_configuration_with_disks_and_array_luns.html">
        Example of a four-node MetroCluster configuration with disks and array LUNs
      </a></li></ul></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/concept_using_the_oncommand_management_tools_for_further_configuration_and_monitoring.html">
        <div class="na-navbar-padding"> Using the Active IQ Unified Manager and ONTAP System Manager for further configuration and monitoring</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_synchronize_the_system_time_us_ntp.html">
        Synchronizing the system time using NTP
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_considerations_when_using_ontap_in_a_mcc_configuration.html">
        Considerations when using ONTAP in a MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/reference_where_to_find_additional_information_icg.html">
        Where to find additional information
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-ip/index.html">
        <div class="na-navbar-padding"> Install a MetroCluster IP configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_deciding_whether_to_use_this_guide_mcc_ip_installation_and_configuration_guide.html">
        Deciding whether to use the MetroCluster IP Installation and Configuration Guide
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-ip/concept_prepare_for_the_mcc_installation.html">
        <div class="na-navbar-padding"> Preparing for the MetroCluster installation</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_differences.html">
        Differences among the ONTAP MetroCluster configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_mediator.html">
        Deciding between ONTAP Mediator and MetroCluster Tiebreaker
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_mcip.html">
        Considerations for MetroCluster IP configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_drive_assignment.html">
        Automatic drive assignment and ADP systems in ONTAP 9.4 and later
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_peering.html">
        Cluster peering
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_isls.html">
        ISL requirements
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_layer_3.html">
        Using layer 3 wide-area networks
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_layer_2.html">
        Sharing private layer 2 networks
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_mc_compliant_switches.html">
        Using MetroCluster-compliant switches
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_tdm_encryption.html">
        Using TDM/xWDM and encryption equipment with MetroCluster IP configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_unmirrored_aggrs.html">
        Unmirrored aggregates in a MetroCluster IP configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_firewalls.html">
        Firewall usage at MetroCluster sites
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_for_using_virtual_ip_and_border_gateway_protocol_with_a_mcc_configuration.html">
        Considerations for using virtual IP and Border Gateway Protocol with a MetroCluster configuration
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-ip/task_configure_the_mcc_hardware_components_mcc_ip.html">
        <div class="na-navbar-padding"> Configuring the MetroCluster hardware components</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_parts_of_an_ip_mcc_configuration_mcc_ip.html">
        Parts of a MetroCluster IP configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_required_mcc_ip_components_and_naming_guidelines_mcc_ip.html">
        Required MetroCluster IP components and naming conventions
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/task_rack_hw_components.html">
        Rack the hardware components
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/task_cable_ip_switches.html">
        Cable the MetroCluster IP switches
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/task_cable_other_connections.html">
        Cable the controller data and management ports
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/task_install_and_cable_the_mcc_components.html">
        Configure the MetroCluster IP switches
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_configure_the_mcc_software_in_ontap.html">
        Configuring the MetroCluster software in ONTAP
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-ip/concept_configure_the_ontap_mediator_for_unplanned_automatic_switchover.html">
        <div class="na-navbar-padding"> Configuring the ONTAP Mediator service for unplanned automatic switchover</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_mediator_requirements.html">
        Preparing to install the ONTAP Mediator service
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/task_install_configure_mediator.html">
        Installing or upgrading the ONTAP Mediator service
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/task_configuring_the_ontap_mediator_service_from_a_metrocluster_ip_configuration.html">
        Configuring the ONTAP Mediator service from a MetroCluster IP configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/task_connecting_mcc_to_different_mediator_instance.html">
        Connecting a MetroCluster configuration to a different ONTAP Mediator instance
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/task_changing_mediator_password.html">
        Changing the ONTAP Mediator password
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/task_changing_mediator_username.html">
        Changing the ONTAP Mediator user name
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/task_uninstall_mediator.html">
        Uninstalling the ONTAP Mediator service
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/task_test_the_mcc_configuration.html">
        Testing the MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_when_removing_mcc_configurations.html">
        Considerations when removing MetroCluster configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_when_using_ontap_in_a_mcc_configuration.html">
        Considerations when using ONTAP in a MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/reference_where_to_find_additional_information_mccip_icg.html">
        Where to find additional information
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-stretch/index.html">
        <div class="na-navbar-padding"> Install a stretch MetroCluster configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/concept_deciding_whether_to_use_this_guide_stretch_mcc_installation_and_configuration_guide.html">
        Deciding whether to use the Stretch MetroCluster Installation and Configuration Guide
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/concept_preparing_for_the_mcc_installation.html">
        Preparing for the MetroCluster installation
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/concept_choosing_the_correct_installation_procedure_for_your_configuration_mcc_install.html">
        Choosing the correct installation procedure for your configuration
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-stretch/task_configure_the_mcc_hardware_components_2_node_stretch_sas.html">
        <div class="na-navbar-padding"> Cabling a two-node SAS-attached stretch MetroCluster configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/concept_parts_of_a_two_node_sas_attached_stretch_mcc_configuration.html">
        Parts of a two-node SAS-attached stretch MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/concept_required_mcc_components_and_example_names_for_two_node_sas_attached_stretch_configurations_mcc.html">
        Required MetroCluster hardware components and naming guidelines for two-node SAS-attached stretch configurations
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-stretch/reference_sas_optical_mc_configuring_a_stretch_mcc_system_with_sas_disk_shelves_and_sas_optical_cables.html">
        <div class="na-navbar-padding"> Installing and cabling MetroCluster components for two-node SAS-attached stretch configurations</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_rack_the_hardware_components_2_node_stretch_sas.html">
        Racking the hardware components
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_cable_the_controllers_to_each_other_and_the_storage_shelves.html">
        Cabling the controllers to each other and the storage shelves
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_cable_the_cluster_peering_connections.html">
        Cabling the cluster peering connections
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_cable_the_management_and_data_connections.html">
        Cabling the management and data connections
      </a></li></ul></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-stretch/task_configure_the_mcc_hardware_components_2_node_stretch_atto.html">
        <div class="na-navbar-padding"> Cabling a two-node bridge-attached stretch MetroCluster configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/concept_parts_of_a_two_node_mcc_configuration_using_fc_to_sas_bridges.html">
        Parts of a two-node bridge-attached stretch MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/concept_required_mcc_components_and_naming_conventions_for_two_node_bridge_attached_stretch_configurations_mcc.html">
        Required MetroCluster hardware components and naming conventions for two-node bridge-attached stretch configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/reference_information_gathering_worksheet_for_fc_to_sas_bridges_2_node_atto.html">
        Information gathering worksheet for FC-to-SAS bridges
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-stretch/task_install_and_cable_the_mcc_components.html">
        <div class="na-navbar-padding"> Installing and cabling MetroCluster components</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_rack_the_hardware_components_mcc_2_node_stretch_atto.html">
        Racking the hardware components
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_cable_the_fc_vi_adapters_to_the_partner_controller_2_node_stretch_atto.html">
        Cabling the controllers to each other
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_cable_the_cluster_peering_connections.html">
        Cabling the cluster peering connections
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_cable_the_management_and_data_connections.html">
        Cabling the management and data connections
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_fb_new_install.html">
        Installing FC-to-SAS bridges and SAS disk shelves
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/concept_configuring_the_mcc_software_in_ontap.html">
        Configuring the MetroCluster software in ONTAP
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/concept_considerations_for_using_virtual_ip_and_border_gateway_protocol_with_a_mcc_configuration.html">
        Considerations for using virtual IP and Border Gateway Protocol with a MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_test_the_mcc_configuration.html">
        Testing the MetroCluster configuration
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-stretch/concept_stretch_mcc_configuration_with_array_luns.html">
        <div class="na-navbar-padding"> Connections in a stretch MetroCluster configurations with array LUNs</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/reference_example_of_a_stretch_mcc_configuration_with_array_luns.html">
        Example of a stretch MetroCluster configuration with array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/reference_examples_of_two_node_stretch_mcc_configurations_with_disks_and_array_luns.html">
        Examples of two-node stretch MetroCluster configurations with disks and array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/reference_example_of_a_stretch_mcc_configuration_with_e_series_storage_arrays.html">
        Example of a stretch MetroCluster configuration with E-Series storage arrays
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/concept_considerations_when_removing_mcc_configurations.html">
        Considerations when removing MetroCluster configurations
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-stretch/concept_using_the_oncommand_management_tools_for_further_configuration_and_monitoring.html">
        <div class="na-navbar-padding"> Using the Active IQ Unified Manager and ONTAP System Manager for further configuration and monitoring</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_synchronize_the_system_time_us_ntp.html">
        Synchronizing the system time using NTP
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/concept_considerations_when_using_ontap_in_a_mcc_configuration.html">
        Considerations when using ONTAP in a MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_upgrade_the_configuration_to_fabric_attached_mcc.html">
        Transitioning from a stretch to a fabric-attached MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/reference_where_to_find_additional_information_icg.html">
        Where to find additional information
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/maintain/index.html">
        <div class="na-navbar-padding"> Maintain the MetroCluster components</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/concept_deciding_whether_to_use_this_guide_mcc_service_guide.html">
        Deciding whether to use the MetroCluster Maintenance Guide
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/concept_where_to_find_procedures_for_mcc_maintenance_tasks.html">
        Where to find procedures for MetroCluster maintenance tasks
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/reference_mcc_failure_scenarios.html">
        MetroCluster failure and recovery scenarios
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/maintain/concept_performing_fc_to_sas_bridge_maintenance.html">
        <div class="na-navbar-padding"> Performing FC-to-SAS bridge maintenance</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/concept_using_fibrebridge_7600n_bridges_in_mcc_configurations.html">
        Support for FibreBridge 7600N bridges in MetroCluster configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/concept_using_fibrebridge_7500n_bridges_in_mcc_configurations.html">
        Support for FibreBridge 7500N bridges in MetroCluster configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_enable_ip_port_access_on_the_fibrebridge_7600n_bridge_guides.html">
        Enabling IP port access on the FibreBridge 7600N bridge if necessary
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_update_firmware_on_a_fibrebridge_bridge_parent_topic.html">
        Updating firmware on a FibreBridge bridge
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_replace_a_sle_fc_to_sas_bridge.html">
        Replacing a single FC-to-SAS bridge
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_fb_consolidate_replace_a_pair_of_fibrebridge_6500n_bridges_with_7500n_bridges.html">
        Replacing a pair of FibreBridge 6500N bridges with 7600N or 7500N bridges
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/reference_requirements_for_using_other_interfaces_to_configure_and_manage_fibrebridge_bridges.html">
        Requirements for using other interfaces to configure and manage FibreBridge bridges
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/reference_fb_replace_a_power_supply.html">
        Hot-replacing a failed power supply module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/concept_in_band_management_of_the_fc_to_sas_bridges.html">
        In-band management of the FC-to-SAS bridges
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_secur_or_unsecur_a_fibrebridge_bridge.html">
        Securing or unsecuring the FibreBridge bridge
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/maintain/concept_performing_fc_switch_maintenance.html">
        <div class="na-navbar-padding"> Performing FC switch maintenance and replacement</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_upgrade_or_downgrad_the_firmware_on_a_brocade_fc_switch_mcc.html">
        Upgrading or downgrading the firmware on a Brocade FC switch
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_upgrade_or_downgrad_the_firmware_on_a_cisco_fc_switch_mcc.html">
        Upgrading or downgrading the firmware on a Cisco FC switch
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_upgrade_to_new_brocade_switches.html">
        Upgrading to new Brocade FC switches
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_replace_a_brocade_fc_switch_mcc.html">
        Replacing a Brocade FC switch
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_rename_a_brocade_fc_switch.html">
        Renaming a Brocade FC switch
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_disable_encryption_on_brocade_fc_switches.html">
        Disabling encryption on Brocade FC switches
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_change_isl_properties_isl_ports_or_the_iod_ood_configuration_on_a_brocade_switch.html">
        Changing ISL properties, ISL ports, or the IOD/OOD configuration on a Brocade switch
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_replace_a_cisco_fc_switch_mcc.html">
        Replacing a Cisco FC switch
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_change_speed_of_isl_ports_on_a_cisco_fc_switch.html">
        Changing speed of ISL ports on a Cisco FC switch
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_add_lsls_to_a_cisco_fc_switch.html">
        Adding lSLs to a Cisco switch
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/maintain/concept_performing_ip_switch_maintenance.html">
        <div class="na-navbar-padding"> Performing IP switch maintenance and replacement</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_replace_an_ip_switch.html">
        Replacing an IP switch
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_upgrade_firmware_on_mcc_ip_switches.html">
        Upgrading firmware on MetroCluster IP switches
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_upgrade_rcf_files_on_mcc_ip_switches.html">
        Upgrading RCF files on MetroCluster IP switches
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_rename_a_cisco_ip_switch.html">
        Renaming a Cisco IP switch
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_add_remove_or_change_isl_ports_nondisruptively.html">
        Adding, removing, or changing ISL ports nondisruptively
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/concept_identifying_storage_in_a_mcc_ip_configuration.html">
        Identifying storage in a MetroCluster IP configuration
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/maintain/task_hot_add_storage_to_a_mcc_fc_configuration_container_topic.html">
        <div class="na-navbar-padding"> Hot-adding storage to a MetroCluster FC configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_hot_add_a_sas_disk_shelf_in_a_direct_attached_mcc_configuration_us_sas_optical_cables.html">
        Hot-adding a SAS disk shelf in a direct-attached MetroCluster FC configuration using SAS optical cables
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/maintain/concept_atto_mc_hot_adding_storage_shelves_to_a_bridge_attached_mcc_configuration.html">
        <div class="na-navbar-padding"> Hot-adding SAS storage to a bridge-attached MetroCluster FC configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_hot_add_a_stack_to_exist_7500n_pair.html">
        Hot-adding a stack of SAS disk shelves to an existing pair of FibreBridge 7500N bridges
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_fb_hot_add_stack_of_shelves_and_bridges.html">
        Hot-adding a stack of SAS disk shelves and bridges to a MetroCluster system
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/maintain/task_fb_hot_add_shelf.html">
        <div class="na-navbar-padding"> Hot-adding a SAS disk shelf to a stack of SAS disk shelves</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_fb_hot_add_shelf_prepare_7500n.html">
        Preparing to hot-add SAS disk shelves
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_fb_hot_add_a_disk_shelf_install_7500n.html">
        Hot-adding a disk shelf
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_hot_add_an_iom12_disk_shelf_to_a_stack_of_iom6_disk_shelves.html">
        Hot-adding an IOM12 disk shelf to a stack of IOM6 disk shelves in a bridge-attached MetroCluster configuration
      </a></li></ul></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_hot_remove_storage_from_a_mcc_fc_configuration.html">
        Hot-removing storage from a MetroCluster FC configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_replace_a_shelf_nondisruptively_in_a_stretch_mcc_configuration.html">
        Replacing a shelf nondisruptively in a stretch MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_replace_a_shelf_nondisruptively_in_a_mcc_fc_configuration.html">
        Replacing a shelf nondisruptively in a fabric-attached MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/concept_migrating_root_volumes_to_a_new_destination.html">
        When to migrate root volumes to a new destination
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_move_a_metadata_volume_in_mcc_configurations.html">
        Moving a metadata volume in MetroCluster configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_rename_the_cluster_for_mcc_configuration.html">
        Renaming a cluster in MetroCluster configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_power_on_and_power_off_a_data_center.html">
        Powering off and powering on a data center
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_power_off_an_entire_mcc_ip_configuration.html">
        Powering off an entire MetroCluster IP configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_power_off_an_entire_mcc_fc_configuration.html">
        Powering off an entire MetroCluster FC configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_do_not_use_for_9_8_and_later_reconfigure_the_fc_switch_layout_for_ontap_9_1_or_later.html">
        Reconfiguring an FC switch layout configured before ONTAP 9.x
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/maintain/concept_port_assignments_for_fc_switches_parent_topic.html">
        <div class="na-navbar-padding"> Port assignments for FC switches</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/concept_port_assignments_for_systems_using_two_initiator_ports.html">
        Port assignments for systems using two initiator ports
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/concept_port_assignments_for_fc_switches_when_using_ontap_9_0.html">
        Port assignments for FC switches when using ONTAP 9.0
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/concept_port_assignments_for_fc_switches_when_using_ontap_9_1_and_later.html">
        Port assignments for FC switches when using ONTAP 9.1 and later
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/concept_using_the_interoperability_matrix_tool_to_find_mcc_information.html">
        Using the Interoperability Matrix Tool to find MetroCluster information
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/reference_where_to_find_additional_information_mcc_service_guide.html">
        Where to find additional information
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/concept_understanding_mcc_data_protection_and_disaster_recovery.html">
        Understanding MetroCluster data protection and disaster recovery
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/manage/index.html">
        <div class="na-navbar-padding"> Performing switchover, healing, and switchback</div>
      </a>
      <ul><li class="subfolders "><a href="/us-en/ontap-metrocluster/manage/task_perform_switchover_for_tests_or_maintenance.html">
        <div class="na-navbar-padding"> Performing switchover for tests or maintenance</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/task_verifiy_that_your_system_is_ready_for_a_switchover.html">
        Verifying that your system is ready for a switchover
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/task_send_a_custom_autosupport_message_prior_to_negotiated_switchover.html">
        Sending a custom AutoSupport message prior to negotiated switchover
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/task_perform_a_negotiated_switchover.html">
        Performing a negotiated switchover
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/concept_output_for_storage_aggregate_plex_show_after_a_mcc_switchover.html">
        Output for the storage aggregate plex show command is indeterminate after a MetroCluster switchover
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/task_confirm_that_dr_partners_have_come_online.html">
        Confirming that the DR partners have come online
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/manage/task_heal_the_configuration_choice_task.html">
        <div class="na-navbar-padding"> Healing the configuration</div>
      </a>
      <ul><li class="subfolders "><a href="/us-en/ontap-metrocluster/manage/task_heal_the_configuration_in_a_mcc_fc_configuration_supertask.html">
        <div class="na-navbar-padding"> Healing the configuration in a MetroCluster FC configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/task_heal_the_data_aggregates_after_negotiated_switchover.html">
        Healing the data aggregates after negotiated switchover
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/task_heal_the_root_aggregates_after_negotiated_switchover.html">
        Healing the root aggregates after negotiated switchover
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/task_heal_the_configuration_in_a_mcc_ip_configuration_ontap_9_4_and_earlier.html">
        Healing the configuration in a MetroCluster IP configuration (ONTAP 9.4 and earlier)
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/task_perform_a_switchback.html">
        Performing a switchback
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/task_verify_a_successful_switchback.html">
        Verifying a successful switchback
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/reference_commands_for_switchover_healing_and_switchback.html">
        Commands for switchover, healing, and switchback
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/concept_monitoring_the_mcc_configuration.html">
        Monitoring the MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/concept_monitoring_and_protecting_database_validity_by_using_nvfail.html">
        Monitoring and protecting the file system consistency using NVFAIL
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/reference_where_to_find_additional_information_dr_guide.html">
        Where to find additional information
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/tiebreaker/index.html">
        <div class="na-navbar-padding"> Install and Configure MetroCluster Tiebreaker</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/tiebreaker/concept_deciding_whether_to_use_this_guide_mcc_tiebreaker_installation_and_configuration_guide.html">
        Deciding whether to use the MetroCluster Tiebreaker Software Installation and Configuration Guide
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/tiebreaker/concept_overview_of_the_tiebreaker_software.html">
        Overview of the Tiebreaker software
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/tiebreaker/task_install_the_tiebreaker_software.html">
        Installing the Tiebreaker software
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/tiebreaker/concept_configuring_the_tiebreaker_software.html">
        Configuring the Tiebreaker software
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/tiebreaker/task_configure_snmp_setts_for_tiebreaker_software.html">
        Configuring SNMP settings for Tiebreaker software
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/tiebreaker/concept_monitoring_the_mcc_configuration.html">
        Monitoring the MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/tiebreaker/concept_risks_and_limitation_of_using_mcc_tiebreaker_in_active_mode.html">
        Risks and limitations of using MetroCluster Tiebreaker in active mode
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/tiebreaker/reference_firewall_requirements_for_mcc_tiebreaker.html">
        Firewall requirements for MetroCluster Tiebreaker
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/tiebreaker/reference_where_to_find_additional_information_tb_icg.html">
        Where to find additional information
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/transition/index.html">
        <div class="na-navbar-padding"> Transition from MetroCluster FC to MetroCluster IP</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/concept_supported_platforms_for_transition.html">
        Supported platforms for nondisruptive transition
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/transition/concept_nondisruptively_transitioning_from_a_four_node_mcc_fc_to_a_mcc_ip_configuration.html">
        <div class="na-navbar-padding"> Transitioning nondisruptively from a MetroCluster FC to a MetroCluster IP configuration (ONTAP 9.8 and later)</div>
      </a>
      <ul><li class="subfolders "><a href="/us-en/ontap-metrocluster/transition/concept_preparing_for_transitioning_from_mcc_fc_to_an_mcc_ip_configuration.html">
        <div class="na-navbar-padding"> Preparing for transition from a MetroCluster FC to a MetroCluster IP configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/concept_requirements_for_fc_to_ip_transition_mcc.html">
        Requirements for nondisruptive FC-to-IP transition
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/concept_how_transition_impacts_the_mcc_hardware_components.html">
        How transition impacts the MetroCluster hardware components
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/concept_transition_workflow_fc_to_ip_transition.html">
        Workflow for nondisruptive MetroCluster transition
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/concept_considerations_for_using_existing_ip_switches.html">
        Considerations for IP switches
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/concept_switchover_and_switchback_operations_during_transition.html">
        Switchover, healing, and switchback operations during nondisruptive transition
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/concept_mcc_operation_during_transition.html">
        Alert messages and tool support during transition
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/concept_example_naming_in_this_procedure_mcc_ip_transition.html">
        Example naming in this procedure
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/task_transition_from_mcc_fc_to_mcc_ip_configurations.html">
        Transitioning from MetroCluster FC to MetroCluster IP configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/task_send_a_custom_autosupport_message_after_maintenance_4n_nondisruptive_mcc_transition.html">
        Sending a custom AutoSupport message after maintenance
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/task_restore_tiebreaker_monitor_4n_nondisruptive_mcc_transition.html">
        Restoring Tiebreaker or Mediator monitoring
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/transition/task_disruptively_transition_from_a_two_node_mcc_fc_to_a_four_node_mcc_ip_configuration.html">
        <div class="na-navbar-padding"> Disruptively transitioning from a two-node MetroCluster FC to a four-node MetroCluster IP configuration (ONTAP 9.8 and later)</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/concept_example_naming_in_this_procedure_2n_mcc_transition_disruptive.html">
        Example naming in this procedure
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/concept_requirements_for_fc_to_ip_transition_2n_mcc_transition.html">
        Preparing for disruptive FC-to-IP transition
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/task_transition_the_mcc_fc_nodes_2n_mcc_transition_supertask.html">
        Transitioning the MetroCluster FC nodes
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/task_connect_the_mcc_ip_controller_modules_2n_mcc_transition_supertask.html">
        Connecting the MetroCluster IP controller modules
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/task_configure_the_new_nodes_and_complete_transition.html">
        Configuring the new nodes and completing transition
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/task_return_the_system_to_normal_operation_2n_mcc_transition_supertask.html">
        Returning the system to normal operation
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/task_disruptively_transition_while_move_volumes_from_old_shelves_to_new_shelves.html">
        Disruptively transitioning from MetroCluster FC to MetroCluster IP when retiring storage shelves (ONTAP 9.8 and later)
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/task_disruptively_transition_when_exist_shelves_are_not_supported_on_new_controllers.html">
        Disruptively transitioning when existing shelves are not supported on new controllers (ONTAP 9.8 and later)
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/task_move_an_fc_san_workload_from_mcc_fc_to_mcc_ip_nodes.html">
        Moving an FC SAN workload from MetroCluster FC to MetroCluster IP nodes
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/task_move_linux_iscsi_hosts_from_mcc_fc_to_mcc_ip_nodes.html">
        Moving Linux iSCSI hosts from MetroCluster FC to MetroCluster IP nodes
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/reference_where_to_find_additional_information_mcc_ug.html">
        Where to find additional information
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/upgrade/index.html">
        <div class="na-navbar-padding"> Upgrade or expand the MetroCluster configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/concept_choosing_an_upgrade_method_mcc.html">
        Choosing an upgrade or refresh method
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_upgrade_controllers_in_a_four_node_fc_mcc_us_switchover_and_switchback_mcc_fc_4n_cu.html">
        Upgrading controllers in a MetroCluster FC configuration using switchover and switchback
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_upgrade_controllers_in_a_four_node_ip_mcc_us_switchover_and_switchback_mcc_ip.html">
        Upgrading controllers in a MetroCluster IP configuration using switchover and switchback (ONTAP 9.8 and later)
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_refresh_4n_mcc_fc.html">
        Refreshing a four-node MetroCluster FC configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_refresh_4n_mcc_ip.html">
        Refreshing a four-node MetroCluster IP configuration (ONTAP 9.8 and later)
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/upgrade/task_expand_a_two_node_mcc_fc_configuration_to_a_four_node_fc_configuration_supertask.html">
        <div class="na-navbar-padding"> Expanding a two-node MetroCluster FC configuration to a four-node configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_verify_the_state_of_the_mcc_configuration_mcc_expansion.html">
        Verifying the state of the MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_send_a_custom_autosupport_message_before_add_nodes_to_the_mcc_configuration_2_node_to_4_node.html">
        Sending a custom AutoSupport message before adding nodes to the MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_zone_for_the_new_controller_ports_in_a_fabric_attached_mcc_configuration_four_node_expansion.html">
        Zoning for the new controller ports when adding a controller module in a fabric-attached MetroCluster configuration
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/upgrade/task_add_a_new_controller_to_each_cluster_mcc_expansion.html">
        <div class="na-navbar-padding"> Adding a new controller module to each cluster</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_prepare_for_the_upgrade_add_2nd_controller_to_create_ha_pair.html">
        Preparing for the upgrade
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_clear_the_configuration_on_a_controller_module_mcc.html">
        Clearing the configuration on a controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_prepare_cluster_ports_on_the_exist_controller.html">
        Preparing cluster ports on an existing controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_prepare_the_netboot_server_cluster_mode.html">
        Preparing the netboot server to download the image
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_enable_the_ha_mode_on_the_exist_controller_mcc_when_add_a_2nd_controller.html">
        Setting the HA mode on the existing controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_shut_down_the_exist_controller_when_add_a_2nd_controller_in_c_mode.html">
        Shutting down the existing controller module
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/upgrade/task_install_and_cable_the_new_controller.html">
        <div class="na-navbar-padding"> Installing and cabling the new controller module</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_cable_the_controller_module_s_fc_vi_hba_ports_to_the_fc_switches_controller_to_fc_sw.html">
        Cabling the new controller module&#8217;s FC-VI and HBA ports to the FC switches
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_cable_the_cluster_peering_connections.html">
        Cabling the new controller module&#8217;s cluster peering connections
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_power_up_both_controller_modules_and_display_the_loader_prompt_2_node_mcc_expansion.html">
        Powering up both controller modules and displaying the LOADER prompt
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_change_the_ha_config_setts_mcc_add_a_2nd_controller.html">
        Changing the ha-config setting on the existing and new controller modules
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_set_the_partner_system_id_for_both_controller_modules.html">
        Setting the partner system ID for both controller modules
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_boot_the_exist_controller_module.html">
        Booting the existing controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_assign_disks_to_the_new_controller_mcc_expansion.html">
        Assigning disks to the new controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_netboot_and_set_up_ontap_on_the_new_controller_module_mcc.html">
        Netbooting and setting up ONTAP on the new controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_mirror_the_root_aggregates_mcc_expansion_procedure.html">
        Mirroring the root aggregate on the new controller
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/upgrade/task_configure_intercluster_lifs.html">
        <div class="na-navbar-padding"> Configuring intercluster LIFs</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_configure_intercluster_lifs_to_use_dedicated_intercluster_ports.html">
        Configuring intercluster LIFs on dedicated ports
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_configure_intercluster_lifs_to_share_data_ports.html">
        Configuring intercluster LIFs on shared data ports
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_create_a_mirrored_data_aggregate_on_each_node_mcc.html">
        Creating a mirrored data aggregate on each node
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_install_licenses_on_the_new_controller_module_cluster_mode.html">
        Installing licenses for the new controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_create_unmirrored_data_aggregates_mcc.html">
        Creating unmirrored data aggregates
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_install_firmware_after_add_a_controller_module.html">
        Installing the firmware after adding a controller module
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_refresh_the_mcc_configuration_mcc_configure_refresh.html">
        Refreshing the MetroCluster configuration with new controllers
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_enable_storage_failover_both_controller_modules_and_set_cluster_ha.html">
        Enabling storage failover on both controller modules and enabling cluster HA
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_restart_the_svms.html">
        Restarting the SVMs
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/upgrade/task_expand_a_four_node_mcc_fc_configuration_to_an_eight_node_configuration.html">
        <div class="na-navbar-padding"> Expanding a four-node MetroCluster FC configuration to an eight-node configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_determin_the_new_cable_layout_mcc_expansion.html">
        Determining the new cabling layout
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_rack_the_new_equipment_mcc_expansion.html">
        Racking the new equipment
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_verify_the_health_of_the_mcc_configuration.html">
        Verifying the health of the MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_check_for_mcc_configuration_errors_with_config_advisor.html">
        Checking for MetroCluster configuration errors with Config Advisor
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_send_a_custom_autosupport_message_before_add_nodes_to_the_mcc_configuration.html">
        Sending a custom AutoSupport message prior to adding nodes to the MetroCluster configuration
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/upgrade/task_recable_and_zone_a_switch_fabric_mcc_expansion.html">
        <div class="na-navbar-padding"> Recabling and zoning a switch fabric for the new nodes</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_disconnect_the_exist_dr_group_mcc_expansion.html">
        Disconnecting the existing DR group from the fabric
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_apply_the_rcf_files_and_recable_the_switches.html">
        Applying the RCF files and recabling the switches
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/upgrade/task_configure_ontap_on_the_new_controllers_mcc_expansion.html">
        <div class="na-navbar-padding"> Configuring ONTAP on the new controllers</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_clear_the_configuration_on_a_controller_module_mcc.html">
        Clearing the configuration on a controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_assign_disk_ownership_in_aff_systems_mcc.html">
        Assigning disk ownership in AFF systems
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_assign_disk_ownership_to_non_aff_systems_mcc.html">
        Assigning disk ownership in non-AFF systems
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_verify_that_the_ha_state_of_components_is_mcc_dr_smok_crater_or_mcc_expansion.html">
        Verifying the ha-config state of components
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_boot_the_new_controllers_and_join_them_to_the_cluster.html">
        Booting the new controllers and joining them to the cluster
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/upgrade/task_configure_the_clusters_into_a_mcc_configuration.html">
        <div class="na-navbar-padding"> Configuring the clusters into a MetroCluster configuration</div>
      </a>
      <ul><li class="subfolders "><a href="/us-en/ontap-metrocluster/upgrade/task_configure_intercluster_lifs.html">
        <div class="na-navbar-padding"> Configuring intercluster LIFs</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_configure_intercluster_lifs_to_use_dedicated_intercluster_ports.html">
        Configuring intercluster LIFs on dedicated ports
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_configure_intercluster_lifs_to_share_data_ports.html">
        Configuring intercluster LIFs on shared data ports
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_mirror_the_root_aggregates_mcc.html">
        Mirroring the root aggregates
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_implement_the_mcc_configuration_mcc_refresh_mcc_expansion.html">
        Implementing the MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_create_a_mirrored_data_aggregate_on_each_node_mcc.html">
        Creating a mirrored data aggregate on each node
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_configure_the_fc_to_sas_bridges_for_health_monitor.html">
        Configuring FC-to-SAS bridges for health monitoring
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_move_a_metadata_volume_in_mcc_configurations.html">
        Moving a metadata volume in MetroCluster configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_check_the_mcc_configuration.html">
        Checking the MetroCluster configuration
      </a></li></ul></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_check_for_mcc_configuration_errors_with_config_advisor.html">
        Checking for MetroCluster configuration errors with Config Advisor
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_send_a_custom_autosupport_message_after_add_nodes_to_the_mcc_configuration.html">
        Sending a custom AutoSupport message after to adding nodes to the MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_verify_switchover_heal_and_switchback.html">
        Verifying switchover, healing, and switchback
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_expand_a_four_node_mcc_ip_configuration.html">
        Expanding a four-node MetroCluster IP configuration to an eight-node configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/concept_removing_a_disaster_recovery_group.html">
        Removing a Disaster Recovery group
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/reference_where_to_find_additional_information_mcc_ug.html">
        Where to find additional information
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/disaster-recovery/index.html">
        <div class="na-navbar-padding"> Disaster Recovery</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/disaster-recovery/concept_dr_workflow.html">
        Workflow for disaster recovery
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/disaster-recovery/task_perform_a_forced_switchover_after_a_disaster.html">
        Performing a forced switchover after a disaster
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/disaster-recovery/concept_choosing_the_correct_recovery_procedure_parent_concept.html">
        Choosing the correct recovery procedure
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/disaster-recovery/task_recover_from_a_multi_controller_and_or_storage_failure.html">
        <div class="na-navbar-padding"> Recovering from a multi-controller or storage failure</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/disaster-recovery/task_replace_hardware_and_boot_new_controllers.html">
        Replacing hardware and booting new controllers
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/disaster-recovery/task_prepare_for_switchback_in_a_mcc_ip_configuration_supertask.html">
        Preparing for switchback in a MetroCluster IP configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/disaster-recovery/task_prepare_for_switchback_in_a_mcc_fc_configuration_supertask.html">
        Preparing for switchback in a MetroCluster FC configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/disaster-recovery/task_prepare_the_nodes_for_switchback_in_a_mixed_configuration.html">
        Preparing the nodes for switchback in a mixed configuration (recovery during transition)
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/disaster-recovery/task_complete_recovery.html">
        Completing recovery
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/disaster-recovery/task_recover_from_a_non_controller_failure_mcc_dr.html">
        Recovering from a non-controller failure
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/reference_legal_notices.html">
        Legal notices
      </a></li></ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

  </div>
  

  <div class="ie-content-pane n-doc__component-detail-content n-doc__component-detail-content--show-code">
    <!-- Begin of page container -->
    <article class="page-content">
      



<div class="n-doc__component-detail-heading-wrap">
  <h1 class="n-doc__component-detail-heading">Configuring the MetroCluster software in ONTAP</h1>
</div>


<p class="page-details">
  
    
    <time datetime="2021-04-29 16:30:07 +0000">04/29/2021</time>
    
  


  <span>
    <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/pages/install-fc/concept_configure_the_mcc_software_in_ontap.pdf" role="button">
      <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>Download PDF of this page</a>
  </span>


</p>


<div id="preamble">
<div class="sectionbody">
<div class="paragraph lead">
<p>You must set up each node in the MetroCluster configuration in ONTAP, including the node-level configurations and the configuration of the nodes into two sites. You must also implement the MetroCluster relationship between the two sites. The steps for systems with native disk shelves are slightly different from those for systems with array LUNs.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../media/workflow_high_level_node_and_cluster_configuration_software.gif" alt="workflow high level node and cluster configuration software">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gathering-required-information">Gathering required information</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>You need to gather the required IP addresses for the controller modules before you begin the configuration process.</p>
</div>
<div class="sect2">
<h3 id="ip-network-information-worksheet-for-site-a">IP network information worksheet for site A</h3>
<div class="paragraph lead">
<p>You must obtain IP addresses and other network information for the first MetroCluster site (site A) from your network administrator before you configure the system.</p>
</div>
<div class="sect3">
<h4 id="site-a-switch-information-switched-clusters">Site A switch information (switched clusters)</h4>
<div class="paragraph">
<p>When you cable the system, you need a host name and management IP address for each cluster switch. This information is not needed if you are using a two-node switchless cluster or have a two-node MetroCluster configuration (one node at each site).</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Cluster switch</th>
<th class="tableblock halign-left valign-top">Host name</th>
<th class="tableblock halign-left valign-top">IP address</th>
<th class="tableblock halign-left valign-top">Network mask</th>
<th class="tableblock halign-left valign-top">Default gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Interconnect 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Interconnect 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Management 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Management 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-a-cluster-creation-information">Site A cluster creation information</h4>
<div class="paragraph">
<p>When you first create the cluster, you need the following information:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type of information</th>
<th class="tableblock halign-left valign-top">Your values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Cluster name</p>
</div>
<div class="paragraph">
<p>Example used in this guide: site_A</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DNS domain</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DNS name servers</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Location</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Administrator password</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-a-node-information">Site A node information</h4>
<div class="paragraph">
<p>For each node in the cluster, you need a management IP address, a network mask, and a default gateway.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node</th>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top">IP address</th>
<th class="tableblock halign-left valign-top">Network mask</th>
<th class="tableblock halign-left valign-top">Default gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 1 Example used in this guide: controller_A_1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 2Not required if using two-node MetroCluster configuration (one node at each site).</p>
</div>
<div class="paragraph">
<p>Example used in this guide: controller_A_2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-a-lifs-and-ports-for-cluster-peering">Site A LIFs and ports for cluster peering</h4>
<div class="paragraph">
<p>For each node in the cluster, you need the IP addresses of two intercluster LIFs, including a network mask and a default gateway. The intercluster LIFs are used to peer the clusters.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node</th>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top">IP address of intercluster LIF</th>
<th class="tableblock halign-left valign-top">Network mask</th>
<th class="tableblock halign-left valign-top">Default gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 1 IC LIF 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 1 IC LIF 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 2 IC LIF 1Not required for two-node MetroCluster configurations (one node at each site).</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 2 IC LIF 2Not required for two-node MetroCluster configurations (one node at each site).</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-a-time-server-information">Site A time server information</h4>
<div class="paragraph">
<p>You must synchronize the time, which requires one or more NTP time servers.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node</th>
<th class="tableblock halign-left valign-top">Host name</th>
<th class="tableblock halign-left valign-top">IP address</th>
<th class="tableblock halign-left valign-top">Network mask</th>
<th class="tableblock halign-left valign-top">Default gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>NTP server 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>NTP server 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-a-autosupport-information">Site A AutoSupport information</h4>
<div class="paragraph">
<p>You must configure AutoSupport on each node, which requires the following information:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2">Type of information</th>
<th class="tableblock halign-left valign-top">Your values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>From email address</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mail hosts</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>IP addresses or names</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Transport protocol</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>HTTP, HTTPS, or SMTP</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Proxy server</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p>Recipient email addresses or distribution lists</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Full-length messages</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Concise messages</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Partners</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-a-sp-information">Site A SP information</h4>
<div class="paragraph">
<p>You must enable access to the Service Processor (SP) of each node for troubleshooting and maintenance, which requires the following network information for each node:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node</th>
<th class="tableblock halign-left valign-top">IP address</th>
<th class="tableblock halign-left valign-top">Network mask</th>
<th class="tableblock halign-left valign-top">Default gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 2</p>
</div>
<div class="paragraph">
<p>Not required for two-node MetroCluster configurations (one node at each site).</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="ip-network-information-worksheet-for-site-b">IP network information worksheet for site B</h3>
<div class="paragraph lead">
<p>You must obtain IP addresses and other network information for the second MetroCluster site (site B) from your network administrator before you configure the system.</p>
</div>
<div class="sect3">
<h4 id="site-b-switch-information-switched-clusters">Site B switch information (switched clusters)</h4>
<div class="paragraph">
<p>When you cable the system, you need a host name and management IP address for each cluster switch. This information is not needed if you are using a two-node switchless cluster or you have a two-node MetroCluster configuration (one node at each site).</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Cluster switch</th>
<th class="tableblock halign-left valign-top">Host name</th>
<th class="tableblock halign-left valign-top">IP address</th>
<th class="tableblock halign-left valign-top">Network mask</th>
<th class="tableblock halign-left valign-top">Default gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Interconnect 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Interconnect 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Management 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Management 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-b-cluster-creation-information">Site B cluster creation information</h4>
<div class="paragraph">
<p>When you first create the cluster, you need the following information:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type of information</th>
<th class="tableblock halign-left valign-top">Your values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Cluster name</p>
</div>
<div class="paragraph">
<p>Example used in this guide: site_B</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DNS domain</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DNS name servers</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Location</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Administrator password</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-b-node-information">Site B node information</h4>
<div class="paragraph">
<p>For each node in the cluster, you need a management IP address, a network mask, and a default gateway.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node</th>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top">IP address</th>
<th class="tableblock halign-left valign-top">Network mask</th>
<th class="tableblock halign-left valign-top">Default gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 1</p>
</div>
<div class="paragraph">
<p>Example used in this guide: controller_B_1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 2</p>
</div>
<div class="paragraph">
<p>Not required for two-node MetroCluster configurations (one node at each site).</p>
</div>
<div class="paragraph">
<p>Example used in this guide: controller_B_2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-b-lifs-and-ports-for-cluster-peering">Site B LIFs and ports for cluster peering</h4>
<div class="paragraph">
<p>For each node in the cluster, you need the IP addresses of two intercluster LIFs, including a network mask and a default gateway. The intercluster LIFs are used to peer the clusters.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node</th>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top">IP address of intercluster LIF</th>
<th class="tableblock halign-left valign-top">Network mask</th>
<th class="tableblock halign-left valign-top">Default gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 1 IC LIF 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 1 IC LIF 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 2 IC LIF 1</p>
</div>
<div class="paragraph">
<p>Not required for two-node MetroCluster configurations (one node at each site).</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 2 IC LIF 2</p>
</div>
<div class="paragraph">
<p>Not required for two-node MetroCluster configurations (one node at each site).</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-b-time-server-information">Site B time server information</h4>
<div class="paragraph">
<p>You must synchronize the time, which requires one or more NTP time servers.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node</th>
<th class="tableblock halign-left valign-top">Host name</th>
<th class="tableblock halign-left valign-top">IP address</th>
<th class="tableblock halign-left valign-top">Network mask</th>
<th class="tableblock halign-left valign-top">Default gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>NTP server 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>NTP server 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-b-autosupport-information">Site B AutoSupport information</h4>
<div class="paragraph">
<p>You must configure AutoSupport on each node, which requires the following information:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type of information</th>
<th class="tableblock halign-left valign-top">Your values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>From email address</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mail hosts</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>IP addresses or names</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Transport protocol</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>HTTP, HTTPS, or SMTP</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Proxy server</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p>Recipient email addresses or distribution lists</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Full-length messages</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Concise messages</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Partners</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-b-sp-information">Site B SP information</h4>
<div class="paragraph">
<p>You must enable access to the Service Processor (SP) of each node for troubleshooting and maintenance, which requires the following network information for each node:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node</th>
<th class="tableblock halign-left valign-top">IP address</th>
<th class="tableblock halign-left valign-top">Network mask</th>
<th class="tableblock halign-left valign-top">Default gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 1 (controller_B_1)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 2 (controller_B_2)</p>
</div>
<div class="paragraph">
<p>Not required for two-node MetroCluster configurations (one node at each site).</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="similarities-and-differences-between-standard-cluster-and-metrocluster-configurations">Similarities and differences between standard cluster and MetroCluster configurations</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>The configuration of the nodes in each cluster in a MetroCluster configuration is similar to that of nodes in a standard cluster.</p>
</div>
<div class="paragraph">
<p>The MetroCluster configuration is built on two standard clusters. Physically, the configuration must be symmetrical, with each node having the same hardware configuration, and all of the MetroCluster components must be cabled and configured. However, the basic software configuration for nodes in a MetroCluster configuration is the same as that for nodes in a standard cluster.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration step</th>
<th class="tableblock halign-left valign-top">Standard cluster configuration</th>
<th class="tableblock halign-left valign-top">MetroCluster configuration</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Configure management, cluster, and data LIFs on each node.</p>
</div></div></td>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Same in both types of clusters</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Configure the root aggregate.</p>
</div></div></td>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Same in both types of clusters</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Configure nodes in the cluster as HA pairs</p>
</div></div></td>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Same in both types of clusters</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set up the cluster on one node in the cluster.</p>
</div></div></td>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Same in both types of clusters</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Join the other node to the cluster.</p>
</div></div></td>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Same in both types of clusters</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Create a mirrored root aggregate.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Required</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Peer the clusters.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Required</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Enable the MetroCluster configuration.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Does not apply</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Required</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="restoring-system-defaults-and-configuring-the-hba-type-on-a-controller-module">Restoring system defaults and configuring the HBA type on a controller module</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>To ensure a successful MetroCluster installation, reset and restore defaults on the controller modules. This task is only required for stretch configurations using FC-to-SAS bridges.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>At the LOADER prompt, return the environmental variables to their default setting: <code>set-defaults</code></p>
</li>
<li>
<p>Boot the node into Maintenance mode, and then configure the settings for any HBAs in the system:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Boot into Maintenance mode: <code>boot_ontap maint</code></p>
</li>
<li>
<p>Check the current settings of the ports: <code>ucadmin show</code></p>
</li>
<li>
<p>Update the port settings as needed.</p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">If you have this type of HBA and desired mode&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use this command&#8230;&#8203;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>CNA FC</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>ucadmin modify -m fc -t initiator adapter_name</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>CNA Ethernet</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>ucadmin modify -mode cna adapter_name</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>FC target</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>fcadmin config -t target adapter_name</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>FC initiator</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>fcadmin config -t initiator adapter_name</p>
</div></div></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Exit Maintenance mode: <code>halt</code></p>
<div class="paragraph">
<p>After you run the command, wait until the node stops at the LOADER prompt.</p>
</div>
</li>
<li>
<p>Boot the node back into Maintenance mode to enable the configuration changes to take effect: <code>boot_ontap maint</code></p>
</li>
<li>
<p>Verify the changes you made:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">If you have this type of HBA&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use this command&#8230;&#8203;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>CNA</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>ucadmin show</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>FC</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>fcadmin show</p>
</div></div></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Exit Maintenance mode: <code>halt</code></p>
<div class="paragraph">
<p>After you run the command, wait until the node stops at the LOADER prompt.</p>
</div>
</li>
<li>
<p>Boot the node to the boot menu: <code>boot_ontap menu</code></p>
<div class="paragraph">
<p>After you run the command, wait until the boot menu is shown.</p>
</div>
</li>
<li>
<p>Clear the node configuration by typing wipeconfig at the boot menu prompt, and then press Enter.</p>
<div class="paragraph">
<p>The following screen shows the boot menu prompt:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Please choose one of the following:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>     (1) Normal Boot.
     (2) Boot without /etc/rc.
     (3) Change password.
     (4) Clean configuration and initialize all disks.
     (5) Maintenance mode boot.
     (6) Update flash from backup config.
     (7) Install new software first.
     (8) Reboot node.
     (9) Configure Advanced Drive Partitioning.
     Selection (1-9)?  wipeconfig
 This option deletes critical system configuration, including cluster membership.
 Warning: do not run this option on a HA node that has been taken over.
 Are you sure you want to continue?: yes
 Rebooting to finish wipeconfig request.
// end include reference
== Configuring FC-VI ports on a X1132A-R6 quad-port card on FAS8020 systems</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph lead">
<p>If you are using the X1132A-R6 quad-port card on a FAS8020 system, you can enter Maintenance mode to configure the 1a and 1b ports for FC-VI and initiator usage. This is not required on MetroCluster systems received from the factory, in which the ports are set appropriately for your configuration.</p>
</div>
<div class="paragraph">
<p>This task must be performed in Maintenance mode.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Converting an FC port to an FC-VI port with the ucadmin command is only supported on the FAS8020 and AFF 8020 systems. Converting FC ports to FCVI ports is not supported on any other platform.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Disable the ports:</p>
<div class="paragraph">
<p><code><strong>storage disable adapter 1a</strong></code></p>
</div>
<div class="paragraph">
<p><code><strong>storage disable adapter 1b</strong></code></p>
</div>
<div class="listingblock">
<div class="content">
<pre>*&gt; storage disable adapter 1a
Jun 03 02:17:57 [controller_B_1:fci.adapter.offlining:info]: Offlining Fibre Channel adapter 1a.
Host adapter 1a disable succeeded
Jun 03 02:17:57 [controller_B_1:fci.adapter.offline:info]: Fibre Channel adapter 1a is now offline.
*&gt; storage disable adapter 1b
Jun 03 02:18:43 [controller_B_1:fci.adapter.offlining:info]: Offlining Fibre Channel adapter 1b.
Host adapter 1b disable succeeded
Jun 03 02:18:43 [controller_B_1:fci.adapter.offline:info]: Fibre Channel adapter 1b is now offline.
*&gt;</pre>
</div>
</div>
</li>
<li>
<p>Verify that the ports are disabled:</p>
<div class="paragraph">
<p><code><strong>ucadmin show</strong></code></p>
</div>
<div class="listingblock">
<div class="content">
<pre>*&gt; ucadmin show
         Current  Current    Pending  Pending    Admin
Adapter  Mode     Type       Mode     Type       Status
-------  -------  ---------  -------  ---------  -------
  ...
  1a     fc       initiator  -        -          offline
  1b     fc       initiator  -        -          offline
  1c     fc       initiator  -        -          online
  1d     fc       initiator  -        -          online</pre>
</div>
</div>
</li>
<li>
<p>Set the a and b ports to FC-VI mode:</p>
<div class="paragraph">
<p><code><strong>ucadmin modify -adapter 1a -type fcvi</strong></code></p>
</div>
<div class="paragraph">
<p>The command sets the mode on both ports in the port pair, 1a and 1b (even though only 1a is specified in the command).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>*&gt; ucadmin modify -t fcvi 1a
Jun 03 02:19:13 [controller_B_1:ucm.type.changed:info]: FC-4 type has changed to fcvi on adapter 1a. Reboot the controller for the changes to take effect.
Jun 03 02:19:13 [controller_B_1:ucm.type.changed:info]: FC-4 type has changed to fcvi on adapter 1b. Reboot the controller for the changes to take effect.</pre>
</div>
</div>
</li>
<li>
<p>Confirm that the change is pending:</p>
<div class="paragraph">
<p><code><strong>ucadmin show</strong></code></p>
</div>
<div class="listingblock">
<div class="content">
<pre>*&gt; ucadmin show
         Current  Current    Pending  Pending    Admin
Adapter  Mode     Type       Mode     Type       Status
-------  -------  ---------  -------  ---------  -------
  ...
  1a     fc       initiator  -        fcvi       offline
  1b     fc       initiator  -        fcvi       offline
  1c     fc       initiator  -        -          online
  1d     fc       initiator  -        -          online</pre>
</div>
</div>
</li>
<li>
<p>Shut down the controller, and then reboot into Maintenance mode.</p>
</li>
<li>
<p>Confirm the configuration change:</p>
<div class="paragraph">
<p><code><strong>ucadmin show local</strong></code></p>
</div>
<div class="listingblock">
<div class="content">
<pre>Node           Adapter  Mode     Type       Mode     Type       Status
------------   -------  -------  ---------  -------  ---------  -----------
...
controller_B_1
               1a       fc       fcvi       -        -          online
controller_B_1
               1b       fc       fcvi       -        -          online
controller_B_1
               1c       fc       initiator  -        -          online
controller_B_1
               1d       fc       initiator  -        -          online
6 entries were displayed.</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="verifying-disk-assignment-in-maintenance-mode-in-an-eight-node-or-a-four-node-configuration">Verifying disk assignment in Maintenance mode in an eight-node or a four-node configuration</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>Before fully booting the system to ONTAP, you can optionally boot to Maintenance mode and verify the disk assignment on the nodes. The disks should be assigned to create a fully symmetric active-active configuration, where each pool has an equal number of disks assigned to them.</p>
</div>
<div class="paragraph">
<p>New MetroCluster systems have disk assignment completed prior to shipment.</p>
</div>
<div class="paragraph">
<p>The following table shows example pool assignments for a MetroCluster configuration. Disks are assigned to pools on a per-shelf basis.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Disk shelf (sample_shelf_name)&#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">At site&#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">Belongs to&#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">And is assigned to that node&#8217;s&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 1 (shelf_A_1_1)</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="16"><div class="content"><div class="paragraph">
<p>Site A</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Node A 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Pool 0</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 2 (shelf_A_1_3)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 3 (shelf_B_1_1)</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Node B 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Pool 1</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 4 (shelf_B_1_3)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 5 (shelf_A_2_1)</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Node A 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Pool 0</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 6 (shelf_A_2_3)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 7 (shelf_B_2_1)</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Node B 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Pool 1</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 8 (shelf_B_2_3)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 1 (shelf_A_3_1)</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Node A 3</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Pool 0</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 2 (shelf_A_3_3)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 3 (shelf_B_3_1)</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Node B 3</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Pool 1</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 4 (shelf_B_3_3)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 5 (shelf_A_4_1)</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Node A 4</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Pool 0</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 6 (shelf_A_4_3)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 7 (shelf_B_4_1)</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Node B 4</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Pool 1</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 8 (shelf_B_4_3)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 9 (shelf_B_1_2)</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="16"><div class="content"><div class="paragraph">
<p>Site B</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Node B 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Pool 0</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 10 (shelf_B_1_4)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 11 (shelf_A_1_2)</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Node A 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Pool 1</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 12 (shelf_A_1_4)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 13 (shelf_B_2_2)</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Node B 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Pool 0</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 14 (shelf_B_2_4)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 15 (shelf_A_2_2)</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Node A 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Pool 1</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 16 (shelf_A_2_4)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 1 (shelf_B_3_2)</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Node A 3</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Pool 0</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 2 (shelf_B_3_4)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 3 (shelf_A_3_2)</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Node B 3</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Pool 1</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 4 (shelf_A_3_4)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 5 (shelf_B_4_2)</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Node A 4</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Pool 0</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 6 (shelf_B_4_4)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 7 (shelf_A_4_2)</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Node B 4</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Pool 1</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 8 (shelf_A_4_4)</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Confirm the shelf assignments: <code><strong>disk show v</strong></code></p>
</li>
<li>
<p>If necessary, explicitly assign disks on the attached disk shelves to the appropriate pool by using the <code>disk assign</code> command.</p>
<div class="paragraph">
<p>Using wildcards in the command enables you to assign all of the disks on a disk shelf with one command. You can identify the disk shelf IDs and bays for each disk with the <code>storage show disk --x</code> command.</p>
</div>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="assigning-disk-ownership-in-non-aff-systems">Assigning disk ownership in non-AFF systems</h3>
<div class="paragraph lead">
<p>If the MetroCluster nodes do not have the disks correctly assigned, or if you are using DS460C disk shelves in your configuration, you must assign disks to each of the nodes in the MetroCluster configuration on a shelf-by-shelf basis. You will create a configuration in which each node has the same number of disks in its local and remote disk pools.</p>
</div>
<div class="paragraph">
<p>The storage controllers must be in Maintenance mode.</p>
</div>
<div class="paragraph">
<p>If your configuration does not include DS460C disk shelves, this task is not required if disks were correctly assigned when received from the factory.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pool 0 always contains the disks that are found at the same site as the storage system that owns them.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Pool 1 always contains the disks that are remote to the storage system that owns them.</p>
</div>
<div class="paragraph">
<p>If your configuration includes DS460C disk shelves, you should manually assign the disks using the following guidelines for each 12-disk drawer:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assign these disks in the drawer&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To this node and pool&#8230;&#8203;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>0 - 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Local node&#8217;s pool 0</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>3 - 5</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>HA partner node&#8217;s pool 0</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>6 - 8</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DR partner of the local node&#8217;s pool 1</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>9 - 11</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DR partner of the HA partner&#8217;s pool 1</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This disk assignment pattern ensures that an aggregate is minimally affected in case a drawer goes offline.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If you have not done so, boot each system into Maintenance mode.</p>
</li>
<li>
<p>Assign the disk shelves to the nodes located at the first site (site A):</p>
<div class="paragraph">
<p>Disk shelves at the same site as the node are assigned to pool 0 and disk shelves located at the partner site are assigned to pool 1.</p>
</div>
<div class="paragraph">
<p>You should assign an equal number of shelves to each pool.</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>On the first node, systematically assign the local disk shelves to pool 0 and the remote disk shelves to pool 1: <code>disk assign -shelf local-switch-name:shelf-name.port -p pool</code></p>
<div class="paragraph">
<p>If storage controller Controller_A_1 has four shelves, you issue the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>*&gt; disk assign -shelf FC_switch_A_1:1-4.shelf1 -p 0
*&gt; disk assign -shelf FC_switch_A_1:1-4.shelf2 -p 0

*&gt; disk assign -shelf FC_switch_B_1:1-4.shelf1 -p 1
*&gt; disk assign -shelf FC_switch_B_1:1-4.shelf2 -p 1</pre>
</div>
</div>
</li>
<li>
<p>Repeat the process for the second node at the local site, systematically assigning the local disk shelves to pool 0 and the remote disk shelves to pool 1: <code>disk assign -shelf local-switch-name:shelf-name.port -p pool</code></p>
<div class="paragraph">
<p>If storage controller Controller_A_2 has four shelves, you issue the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>*&gt; disk assign -shelf FC_switch_A_1:1-4.shelf3 -p 0
*&gt; disk assign -shelf FC_switch_B_1:1-4.shelf4 -p 1

*&gt; disk assign -shelf FC_switch_A_1:1-4.shelf3 -p 0
*&gt; disk assign -shelf FC_switch_B_1:1-4.shelf4 -p 1</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Assign the disk shelves to the nodes located at the second site (site B):</p>
<div class="paragraph">
<p>Disk shelves at the same site as the node are assigned to pool 0 and disk shelves located at the partner site are assigned to pool 1.</p>
</div>
<div class="paragraph">
<p>You should assign an equal number of shelves to each pool.</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>On the first node at the remote site, systematically assign its local disk shelves to pool 0 and its remote disk shelves to pool 1: <code>disk assign -shelf local-switch-nameshelf-name -p pool</code></p>
<div class="paragraph">
<p>If storage controller Controller_B_1 has four shelves, you issue the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>*&gt; disk assign -shelf FC_switch_B_1:1-5.shelf1 -p 0
*&gt; disk assign -shelf FC_switch_B_1:1-5.shelf2 -p 0

*&gt; disk assign -shelf FC_switch_A_1:1-5.shelf1 -p 1
*&gt; disk assign -shelf FC_switch_A_1:1-5.shelf2 -p 1</pre>
</div>
</div>
</li>
<li>
<p>Repeat the process for the second node at the remote site, systematically assigning its local disk shelves to pool 0 and its remote disk shelves to pool 1: <code>disk assign -shelf shelf-name -p pool</code></p>
<div class="paragraph">
<p>If storage controller Controller_B_2 has four shelves, you issue the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>*&gt; disk assign -shelf FC_switch_B_1:1-5.shelf3 -p 0
*&gt; disk assign -shelf FC_switch_B_1:1-5.shelf4 -p 0

*&gt; disk assign -shelf FC_switch_A_1:1-5.shelf3 -p 1
*&gt; disk assign -shelf FC_switch_A_1:1-5.shelf4 -p 1</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Confirm the shelf assignments: <code>storage show shelf</code></p>
</li>
<li>
<p>Exit Maintenance mode: <code>halt</code></p>
</li>
<li>
<p>Display the boot menu: <code>boot_ontap menu</code></p>
</li>
<li>
<p>On each node, select option <strong>4</strong> to initialize all disks.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="assigning-disk-ownership-in-aff-systems">Assigning disk ownership in AFF systems</h3>
<div class="paragraph lead">
<p>If you are using AFF systems in a configuration with mirrored aggregates and the nodes do not have the disks (SSDs) correctly assigned, you should assign half the disks on each shelf to one local node and the other half of the disks to its HA partner node. You should create a configuration in which each node has the same number of disks in its local and remote disk pools.</p>
</div>
<div class="paragraph">
<p>The storage controllers must be in Maintenance mode.</p>
</div>
<div class="paragraph">
<p>This does not apply to configurations which have unmirrored aggregates, an active/passive configuration, or that have an unequal number of disks in local and remote pools.</p>
</div>
<div class="paragraph">
<p>This task is not required if disks were correctly assigned when received from the factory.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pool 0 always contains the disks that are found at the same site as the storage system that owns them, while Pool 1 always contains the disks that are remote to the storage system that owns them.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If you have not done so, boot each system into Maintenance mode.</p>
</li>
<li>
<p>Assign the disks to the nodes located at the first site (site A):</p>
<div class="paragraph">
<p>You should assign an equal number of disks to each pool.</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>On the first node, systematically assign half the disks on each shelf to pool 0 and the other half to the HA partner&#8217;s pool 0: <code>disk assign -disk disk-name -p pool -n number-of-disks</code></p>
<div class="paragraph">
<p>If storage controller Controller_A_1 has four shelves, each with 8 SSDs, you issue the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>*&gt; disk assign -shelf FC_switch_A_1:1-4.shelf1 -p 0 -n 4
*&gt; disk assign -shelf FC_switch_A_1:1-4.shelf2 -p 0 -n 4

*&gt; disk assign -shelf FC_switch_B_1:1-4.shelf1 -p 1 -n 4
*&gt; disk assign -shelf FC_switch_B_1:1-4.shelf2 -p 1 -n 4</pre>
</div>
</div>
</li>
<li>
<p>Repeat the process for the second node at the local site, systematically assigning half the disks on each shelf to pool 1 and the other half to the HA partner&#8217;s pool 1: <code>disk assign -disk disk-name -p pool</code></p>
<div class="paragraph">
<p>If storage controller Controller_A_1 has four shelves, each with 8 SSDs, you issue the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>*&gt; disk assign -shelf FC_switch_A_1:1-4.shelf3 -p 0 -n 4
*&gt; disk assign -shelf FC_switch_B_1:1-4.shelf4 -p 1 -n 4

*&gt; disk assign -shelf FC_switch_A_1:1-4.shelf3 -p 0 -n 4
*&gt; disk assign -shelf FC_switch_B_1:1-4.shelf4 -p 1 -n 4</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Assign the disks to the nodes located at the second site (site B):</p>
<div class="paragraph">
<p>You should assign an equal number of disks to each pool.</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>On the first node at the remote site, systematically assign half the disks on each shelf to pool 0 and the other half to the HA partner&#8217;s pool 0: <code>disk assign -disk disk-name -p pool</code></p>
<div class="paragraph">
<p>If storage controller Controller_B_1 has four shelves, each with 8 SSDs, you issue the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>*&gt; disk assign -shelf FC_switch_B_1:1-5.shelf1 -p 0 -n 4
*&gt; disk assign -shelf FC_switch_B_1:1-5.shelf2 -p 0 -n 4

*&gt; disk assign -shelf FC_switch_A_1:1-5.shelf1 -p 1 -n 4
*&gt; disk assign -shelf FC_switch_A_1:1-5.shelf2 -p 1 -n 4</pre>
</div>
</div>
</li>
<li>
<p>Repeat the process for the second node at the remote site, systematically assigning half the disks on each shelf to pool 1 and the other half to the HA partner&#8217;s pool 1: <code>disk assign -disk disk-name -p pool</code></p>
<div class="paragraph">
<p>If storage controller Controller_B_2 has four shelves, each with 8 SSDs, you issue the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>*&gt; disk assign -shelf FC_switch_B_1:1-5.shelf3 -p 0 -n 4
*&gt; disk assign -shelf FC_switch_B_1:1-5.shelf4 -p 0 -n 4

*&gt; disk assign -shelf FC_switch_A_1:1-5.shelf3 -p 1 -n 4
*&gt; disk assign -shelf FC_switch_A_1:1-5.shelf4 -p 1 -n 4</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Confirm the disk assignments: <code>storage show disk</code></p>
</li>
<li>
<p>Exit Maintenance mode: <code>halt</code></p>
</li>
<li>
<p>Display the boot menu: <code>boot_ontap menu</code></p>
</li>
<li>
<p>On each node, select option <strong>4</strong> to initialize all disks.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="verifying-disk-assignment-in-maintenance-mode-in-a-two-node-configuration">Verifying disk assignment in Maintenance mode in a two-node configuration</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>Before fully booting the system to ONTAP, you can optionally boot the system to Maintenance mode and verify the disk assignment on the nodes. The disks should be assigned to create a fully symmetric configuration with both sites owning their own disk shelves and serving data, where each node and each pool have an equal number of mirrored disks assigned to them.</p>
</div>
<div class="paragraph">
<p>The system must be in Maintenance mode.</p>
</div>
<div class="paragraph">
<p>New MetroCluster systems have disk assignment completed prior to shipment.</p>
</div>
<div class="paragraph">
<p>The following table shows example pool assignments for a MetroCluster configuration. Disks are assigned to pools on a per-shelf basis.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disk shelf (example name)&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">At site&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Belongs to&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">And is assigned to that node&#8217;s&#8230;&#8203;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 1 (shelf_A_1_1)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Site A</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node A 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Pool 0</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 2 (shelf_A_1_3)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 3 (shelf_B_1_1)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node B 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Pool 1</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 4 (shelf_B_1_3)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 9 (shelf_B_1_2)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Site B</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node B 1</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Pool 0</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 10 (shelf_B_1_4)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disk shelf 11 (shelf_A_1_2)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node A 1</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If your configuration includes DS460C disk shelves, you should manually assign the disks using the following guidelines for each 12-disk drawer:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assign these disks in the drawer&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To this node and pool&#8230;&#8203;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>1 - 6</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Local node&#8217;s pool 0</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>7 - 12</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DR partner&#8217;s pool 1</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This disk assignment pattern minimizes the effect on an aggregate if a drawer goes offline.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If your system was received from the factory, confirm the shelf assignments: <code>disk show v</code></p>
</li>
<li>
<p>If necessary, you can explicitly assign disks on the attached disk shelves to the appropriate pool by using the disk assign command.</p>
<div class="paragraph">
<p>Disk shelves at the same site as the node are assigned to pool 0 and disk shelves located at the partner site are assigned to pool 1. You should assign an equal number of shelves to each pool.</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If you have not done so, boot each system into Maintenance mode.</p>
</li>
<li>
<p>On the node on site A, systematically assign the local disk shelves to pool 0 and the remote disk shelves to pool 1: <code>disk assign -shelf disk_shelf_name -p pool</code></p>
<div class="paragraph">
<p>If storage controller node_A_1 has four shelves, you issue the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>*&gt; disk assign -shelf shelf_A_1_1 -p 0
*&gt; disk assign -shelf shelf_A_1_3 -p 0

*&gt; disk assign -shelf shelf_A_1_2 -p 1
*&gt; disk assign -shelf shelf_A_1_4 -p 1</pre>
</div>
</div>
</li>
<li>
<p>On the node at the remote site (site B), systematically assign its local disk shelves to pool 0 and its remote disk shelves to pool 1: <code>disk assign -shelf disk_shelf_name -p pool</code></p>
<div class="paragraph">
<p>If storage controller node_B_1 has four shelves, you issue the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>*&gt; disk assign -shelf shelf_B_1_2   -p 0
*&gt; disk assign -shelf shelf_B_1_4  -p 0

*&gt; disk assign -shelf shelf_B_1_1 -p 1
 *&gt; disk assign -shelf shelf_B_1_3 -p 1</pre>
</div>
</div>
</li>
<li>
<p>Show the disk shelf IDs and bays for each disk: <code>disk show v</code></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="verifying-and-configuring-the-ha-state-of-components-in-maintenance-mode">Verifying and configuring the HA state of components in Maintenance mode</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>When configuring a storage system in a MetroCluster configuration, you must make sure that the high-availability (HA) state of the controller module and chassis components is mcc or mcc-2n so that these components boot properly.</p>
</div>
<div class="paragraph">
<p>The system must be in Maintenance mode.</p>
</div>
<div class="paragraph">
<p>This task is not required on systems that are received from the factory.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In Maintenance mode, display the HA state of the controller module and chassis: <code>ha-config show</code></p>
<div class="paragraph">
<p>The correct HA state depends on your MetroCluster configuration.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of controllers in the MetroCluster configuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HA state for all components should be&#8230;&#8203;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Eight- or four-node MetroCluster FC configuration</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>mcc</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Two-node MetroCluster FC configuration</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>mcc-2n</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>MetroCluster IP configuration</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>mccip</p>
</div></div></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>If the displayed system state of the controller is not correct, set the HA state for the controller module:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of controllers in the MetroCluster configuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Eight- or four-node MetroCluster FC configuration</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>ha-config modify controller mcc</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Two-node MetroCluster FC configuration</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>ha-config modify controller mcc-2n</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>MetroCluster IP configuration</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>ha-config modify controller mccip</p>
</div></div></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>If the displayed system state of the chassis is not correct, set the HA state for the chassis:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of controllers in the MetroCluster configuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Eight- or four-node MetroCluster FC configuration</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>ha-config modify chassis mcc</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Two-node MetroCluster FC configuration</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>ha-config modify chassis mcc-2n</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>MetroCluster IP configuration</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>ha-config modify chassis mccip</p>
</div></div></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Boot the node to ONTAP: <code>boot_ontap</code></p>
</li>
<li>
<p>Repeat these steps on each node in the MetroCluster configuration.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting-up-ontap">Setting up ONTAP</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>You must set up ONTAP on each controller module.</p>
</div>
<div class="paragraph">
<p>If you need to netboot the new controllers, see <a href="http://docs.netapp.com/ontap-9/topic/com.netapp.doc.dot-mcc-upgrade/GUID-3370EC34-310E-4F09-829F-F632EC8CDD9B.html">Netbooting the new controller modules</a> in the <em>MetroCluster Upgrade, Transition, and Expansion Guide</em>.</p>
</div>
<div class="sect2">
<h3 id="setting-up-ontap-in-a-two-node-metrocluster-configuration">Setting up ONTAP in a two-node MetroCluster configuration</h3>
<div class="paragraph lead">
<p>In a two-node MetroCluster configuration, on each cluster you must boot up the node, exit the Cluster Setup wizard, and use the cluster setup command to configure the node into a single-node cluster.</p>
</div>
<div class="paragraph">
<p>You must not have configured the Service Processor.</p>
</div>
<div class="paragraph">
<p>This task is for two-node MetroCluster configurations using native NetApp storage.</p>
</div>
<div class="paragraph">
<p>New MetroCluster systems are preconfigured; you do not need to perform these steps. However, you should configure AutoSupport.</p>
</div>
<div class="paragraph">
<p>This task must be performed on both clusters in the MetroCluster configuration.</p>
</div>
<div class="paragraph">
<p>For more general information about setting up ONTAP, see the <em>Software Setup Guide</em></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Power on the first node.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You must repeat this step on the node at the disaster recovery (DR) site.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The node boots, and then the Cluster Setup wizard starts on the console, informing you that AutoSupport will be enabled automatically.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>::&gt; Welcome to the cluster setup wizard.

You can enter the following commands at any time:
  "help" or "?" - if you want to have a question clarified,
  "back" - if you want to change previously answered questions, and
  "exit" or "quit" - if you want to quit the cluster setup wizard.
     Any changes you made before quitting will be saved.

You can return to cluster setup at any time by typing "cluster setup".
To accept a default or omit a question, do not enter a value.

This system will send event messages and periodic reports to NetApp Technical
Support. To disable this feature, enter
autosupport modify -support disable
within 24 hours.

Enabling AutoSupport can significantly speed problem determination and
resolution, should a problem occur on your system.
For further information on AutoSupport, see:
http://support.netapp.com/autosupport/

Type yes to confirm and continue {yes}: yes

Enter the node management interface port [e0M]:
Enter the node management interface IP address [10.101.01.01]:

Enter the node management interface netmask [101.010.101.0]:
Enter the node management interface default gateway [10.101.01.0]:



Do you want to create a new cluster or join an existing cluster? {create, join}:</pre>
</div>
</div>
</li>
<li>
<p>Create a new cluster: <code>create</code></p>
</li>
<li>
<p>Choose whether the node is to be used as a single node cluster.</p>
<div class="listingblock">
<div class="content">
<pre>Do you intend for this node to be used as a single node cluster? {yes, no} [yes]:</pre>
</div>
</div>
</li>
<li>
<p>Accept the system default <code>yes</code> by pressing Enter, or enter your own values by typing <code>no</code>, and then pressing Enter.</p>
</li>
<li>
<p>Follow the prompts to complete the Cluster Setup wizard, pressing Enter to accept the default values or typing your own values and then pressing Enter.</p>
<div class="paragraph">
<p>The default values are determined automatically based on your platform and network configuration.</p>
</div>
</li>
<li>
<p>After you complete the Cluster Setup wizard and it exits, verify that the cluster is active and the first node is healthy: <code>cluster show</code></p>
<div class="paragraph">
<p>The following example shows a cluster in which the first node (cluster1-01) is healthy and eligible to participate:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster1::&gt; cluster show
Node                  Health  Eligibility
--------------------- ------- ------------
cluster1-01           true    true</pre>
</div>
</div>
<div class="paragraph">
<p>If it becomes necessary to change any of the settings you entered for the admin SVM or node SVM, you can access the Cluster Setup wizard by using the cluster setup command.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><a href="https://docs.netapp.com/ontap-9/topic/com.netapp.doc.dot-cm-ssg/home.html">Software setup</a></p>
</div>
</div>
<div class="sect2">
<h3 id="setting-up-ontap-in-an-eight-node-or-four-node-metrocluster-configuration">Setting up ONTAP in an eight-node or four-node MetroCluster configuration</h3>
<div class="paragraph lead">
<p>After you boot each node, you are prompted to run the System Setup tool to perform basic node and cluster configuration. After configuring the cluster, you return to the ONTAP CLI to create aggregates and create the MetroCluster configuration.</p>
</div>
<div class="paragraph">
<p>You must have cabled the MetroCluster configuration.</p>
</div>
<div class="paragraph">
<p>This task is for eight-node or four-node MetroCluster configurations using native NetApp storage.</p>
</div>
<div class="paragraph">
<p>New MetroCluster systems are preconfigured; you do not need to perform these steps. However, you should configure the AutoSupport tool.</p>
</div>
<div class="paragraph">
<p>This task must be performed on both clusters in the MetroCluster configuration.</p>
</div>
<div class="paragraph">
<p>This procedure uses the System Setup tool. If desired, you can use the CLI cluster setup wizard instead.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If you have not already done so, power up each node and let them boot completely.</p>
<div class="paragraph">
<p>If the system is in Maintenance mode, issue the halt command to exit Maintenance mode, and then issue the following command from the LOADER prompt: <code>boot_ontap</code></p>
</div>
<div class="paragraph">
<p>The output should be similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Welcome to node setup

You can enter the following commands at any time:
  "help" or "?" - if you want to have a question clarified,
  "back" - if you want to change previously answered questions, and
  "exit" or "quit" - if you want to quit the setup wizard.
				Any changes you made before quitting will be saved.

To accept a default or omit a question, do not enter a value.
.
.
.</pre>
</div>
</div>
</li>
<li>
<p>Enable the AutoSupport tool by following the directions provided by the system.</p>
</li>
<li>
<p>Respond to the prompts to configure the node management interface.</p>
<div class="paragraph">
<p>The prompts are similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Enter the node management interface port: [e0M]:
Enter the node management interface IP address: 10.228.160.229
Enter the node management interface netmask: 225.225.252.0
Enter the node management interface default gateway: 10.228.160.1</pre>
</div>
</div>
</li>
<li>
<p>Confirm that nodes are configured in high-availability mode: <code>storage failover show -fields mode</code></p>
<div class="paragraph">
<p>If not, you must issue the following command on each node and reboot the node: <code>storage failover modify -mode ha -node localhost</code></p>
</div>
<div class="paragraph">
<p>This command configures high availability mode but does not enable storage failover. Storage failover is automatically enabled when the MetroCluster configuration is performed later in the configuration process.</p>
</div>
</li>
<li>
<p>Confirm that you have four ports configured as cluster interconnects: <code>network port show</code></p>
<div class="paragraph">
<p>The following example shows output for cluster_A:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; network port show
                                                             Speed (Mbps)
Node   Port      IPspace      Broadcast Domain Link   MTU    Admin/Oper
------ --------- ------------ ---------------- ----- ------- ------------
node_A_1
       **e0a       Cluster      Cluster          up       1500  auto/1000
       e0b       Cluster      Cluster          up       1500  auto/1000**
       e0c       Default      Default          up       1500  auto/1000
       e0d       Default      Default          up       1500  auto/1000
       e0e       Default      Default          up       1500  auto/1000
       e0f       Default      Default          up       1500  auto/1000
       e0g       Default      Default          up       1500  auto/1000
node_A_2
       **e0a       Cluster      Cluster          up       1500  auto/1000
       e0b       Cluster      Cluster          up       1500  auto/1000**
       e0c       Default      Default          up       1500  auto/1000
       e0d       Default      Default          up       1500  auto/1000
       e0e       Default      Default          up       1500  auto/1000
       e0f       Default      Default          up       1500  auto/1000
       e0g       Default      Default          up       1500  auto/1000
14 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>If you are creating a two-node switchless cluster (a cluster without cluster interconnect switches), enable the switchless-cluster networking mode:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Change to the advanced privilege level: <code>set -privilege advanced</code></p>
<div class="paragraph">
<p>You can respond <code>y</code> when prompted to continue into advanced mode. The advanced mode prompt appears (*&gt;).</p>
</div>
</li>
<li>
<p>Enable switchless-cluster mode: <code>network options switchless-cluster modify -enabled true</code></p>
</li>
<li>
<p>Return to the admin privilege level: <code>set -privilege admin</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Launch the System Setup tool as directed by the information that appears on the system console after the initial boot.</p>
</li>
<li>
<p>Use the System Setup tool to configure each node and create the cluster, but do not create aggregates.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You create mirrored aggregates in later tasks.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Return to the ONTAP command-line interface and complete the MetroCluster configuration by performing the tasks that follow.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-the-clusters-into-a-metrocluster-configuration">Configuring the clusters into a MetroCluster configuration</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>You must peer the clusters, mirror the root aggregates, create a mirrored data aggregate, and then issue the command to implement the MetroCluster operations.</p>
</div>
<div class="sect2">
<h3 id="peering-the-clusters">Peering the clusters</h3>
<div class="paragraph lead">
<p>The clusters in the MetroCluster configuration must be in a peer relationship so that they can communicate with each other and perform the data mirroring essential to MetroCluster disaster recovery.</p>
</div>
<div class="paragraph">
<p><strong>Related information</strong></p>
</div>
<div class="paragraph">
<p><a href="http://docs.netapp.com/ontap-9/topic/com.netapp.doc.exp-clus-peer/home.html">Cluster and SVM peering express configuration</a></p>
</div>
<div class="paragraph">
<p><a href="concept_prepare_for_the_mcc_installation.html">Considerations when using dedicated ports</a></p>
</div>
<div class="paragraph">
<p><a href="concept_prepare_for_the_mcc_installation.html">Considerations when sharing data ports</a></p>
</div>
<div class="sect3">
<h4 id="configuring-intercluster-lifs">Configuring intercluster LIFs</h4>
<div class="paragraph lead">
<p>You must create intercluster LIFs on ports used for communication between the MetroCluster partner clusters. You can use dedicated ports or ports that also have data traffic.</p>
</div>
<div class="sect4">
<h5 id="configuring-intercluster-lifs-on-dedicated-ports">Configuring intercluster LIFs on dedicated ports</h5>
<div class="paragraph lead">
<p>You can configure intercluster LIFs on dedicated ports. Doing so typically increases the available bandwidth for replication traffic.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>List the ports in the cluster:<code>network port show</code></p>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="paragraph">
<p>The following example shows the network ports in cluster01:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; network port show
                                                             Speed (Mbps)
Node   Port      IPspace      Broadcast Domain Link   MTU    Admin/Oper
------ --------- ------------ ---------------- ----- ------- ------------
cluster01-01
       e0a       Cluster      Cluster          up     1500   auto/1000
       e0b       Cluster      Cluster          up     1500   auto/1000
       e0c       Default      Default          up     1500   auto/1000
       e0d       Default      Default          up     1500   auto/1000
       e0e       Default      Default          up     1500   auto/1000
       e0f       Default      Default          up     1500   auto/1000
cluster01-02
       e0a       Cluster      Cluster          up     1500   auto/1000
       e0b       Cluster      Cluster          up     1500   auto/1000
       e0c       Default      Default          up     1500   auto/1000
       e0d       Default      Default          up     1500   auto/1000
       e0e       Default      Default          up     1500   auto/1000
       e0f       Default      Default          up     1500   auto/1000</pre>
</div>
</div>
</li>
<li>
<p>Determine which ports are available to dedicate to intercluster communication:<code>network interface show -fields home-port,curr-port</code></p>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="paragraph">
<p>The following example shows that ports e0e and e0f have not been assigned LIFs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; network interface show -fields home-port,curr-port
vserver lif                  home-port curr-port
------- -------------------- --------- ---------
Cluster cluster01-01_clus1   e0a       e0a
Cluster cluster01-01_clus2   e0b       e0b
Cluster cluster01-02_clus1   e0a       e0a
Cluster cluster01-02_clus2   e0b       e0b
cluster01
        cluster_mgmt         e0c       e0c
cluster01
        cluster01-01_mgmt1   e0c       e0c
cluster01
        cluster01-02_mgmt1   e0c       e0c</pre>
</div>
</div>
</li>
<li>
<p>Create a failover group for the dedicated ports:<code>network interface failover-groups create -vserver system_SVM -failover-group failover_group -targets physical_or_logical_ports</code></p>
<div class="paragraph">
<p>The following example assigns ports e0e and e0f to the failover group intercluster01 on the system SVMcluster01:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; network interface failover-groups create -vserver cluster01 -failover-group
intercluster01 -targets
cluster01-01:e0e,cluster01-01:e0f,cluster01-02:e0e,cluster01-02:e0f</pre>
</div>
</div>
</li>
<li>
<p>Verify that the failover group was created:<code>network interface failover-groups show</code></p>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; network interface failover-groups show
                                  Failover
Vserver          Group            Targets
---------------- ---------------- --------------------------------------------
Cluster
                 Cluster
                                  cluster01-01:e0a, cluster01-01:e0b,
                                  cluster01-02:e0a, cluster01-02:e0b
cluster01
                 Default
                                  cluster01-01:e0c, cluster01-01:e0d,
                                  cluster01-02:e0c, cluster01-02:e0d,
                                  cluster01-01:e0e, cluster01-01:e0f
                                  cluster01-02:e0e, cluster01-02:e0f
                 intercluster01
                                  cluster01-01:e0e, cluster01-01:e0f
                                  cluster01-02:e0e, cluster01-02:e0f</pre>
</div>
</div>
</li>
<li>
<p>Create intercluster LIFs on the system SVM and assign them to the failover group.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ONTAP version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>9.6 and later</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface create -vserver system_SVM -lif LIF_name -service-policy default-intercluster -home-node node -home-port port -address port_IP -netmask netmask -failover-group failover_group</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>9.5 and earlier</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface create -vserver system_SVM -lif LIF_name -role intercluster -home-node node -home-port port -address port_IP -netmask netmask -failover-group failover_group</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="paragraph">
<p>The following example creates intercluster LIFs cluster01_icl01 and cluster01_icl02 in the failover group intercluster01:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; network interface create -vserver cluster01 -lif cluster01_icl01 -service-
policy default-intercluster -home-node cluster01-01 -home-port e0e -address 192.168.1.201
-netmask 255.255.255.0 -failover-group intercluster01

cluster01::&gt; network interface create -vserver cluster01 -lif cluster01_icl02 -service-
policy default-intercluster -home-node cluster01-02 -home-port e0e -address 192.168.1.202
-netmask 255.255.255.0 -failover-group intercluster01</pre>
</div>
</div>
</li>
<li>
<p>Verify that the intercluster LIFs were created:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>In ONTAP 9.6 and later:</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface show -service-policy default-intercluster</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>In ONTAP 9.5 and earlier:</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface show -role intercluster</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; network interface show -service-policy default-intercluster
            Logical    Status     Network            Current       Current Is
Vserver     Interface  Admin/Oper Address/Mask       Node          Port    Home
----------- ---------- ---------- ------------------ ------------- ------- ----
cluster01
            cluster01_icl01
                       up/up      192.168.1.201/24   cluster01-01  e0e     true
            cluster01_icl02
                       up/up      192.168.1.202/24   cluster01-02  e0f     true</pre>
</div>
</div>
</li>
<li>
<p>Verify that the intercluster LIFs are redundant:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>In ONTAP 9.6 and later:</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface show -service-policy default-intercluster -failover</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>In ONTAP 9.5 and earlier:</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface show -role intercluster -failover</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="paragraph">
<p>The following example shows that the intercluster LIFs cluster01_icl01 and cluster01_icl02 on the SVMe0e port will fail over to the e0f port.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; network interface show -service-policy default-intercluster failover
         Logical         Home                  Failover        Failover
Vserver  Interface       Node:Port             Policy          Group
-------- --------------- --------------------- --------------- --------
cluster01
         cluster01_icl01 cluster01-01:e0e   local-only      intercluster01
                            Failover Targets:  cluster01-01:e0e,
                                               cluster01-01:e0f
         cluster01_icl02 cluster01-02:e0e   local-only      intercluster01
                            Failover Targets:  cluster01-02:e0e,
                                               cluster01-02:e0f</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Related information</strong></p>
</div>
<div class="paragraph">
<p><a href="concept_prepare_for_the_mcc_installation.html">Considerations when using dedicated ports</a></p>
</div>
</div>
<div class="sect4">
<h5 id="configuring-intercluster-lifs-on-shared-data-ports">Configuring intercluster LIFs on shared data ports</h5>
<div class="paragraph lead">
<p>You can configure intercluster LIFs on ports shared with the data network. Doing so reduces the number of ports you need for intercluster networking.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>List the ports in the cluster:<code>network port show</code></p>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="paragraph">
<p>The following example shows the network ports in cluster01:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; network port show
                                                             Speed (Mbps)
Node   Port      IPspace      Broadcast Domain Link   MTU    Admin/Oper
------ --------- ------------ ---------------- ----- ------- ------------
cluster01-01
       e0a       Cluster      Cluster          up     1500   auto/1000
       e0b       Cluster      Cluster          up     1500   auto/1000
       e0c       Default      Default          up     1500   auto/1000
       e0d       Default      Default          up     1500   auto/1000
cluster01-02
       e0a       Cluster      Cluster          up     1500   auto/1000
       e0b       Cluster      Cluster          up     1500   auto/1000
       e0c       Default      Default          up     1500   auto/1000
       e0d       Default      Default          up     1500   auto/1000</pre>
</div>
</div>
</li>
<li>
<p>Create intercluster LIFs on the system SVM:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>In ONTAP 9.6 and later:</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface create -vserver system_SVM -lif LIF_name -service-policy default-intercluster -home-node node -home-port port -address port_IP -netmask netmask</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>In ONTAP 9.5 and earlier:</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface create -vserver system_SVM -lif LIF_name -role intercluster -home-node node -home-port port -address port_IP -netmask netmask</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="paragraph">
<p>The following example creates intercluster LIFs cluster01_icl01 and cluster01_icl02:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; network interface create -vserver cluster01 -lif cluster01_icl01 -service-
policy default-intercluster -home-node cluster01-01 -home-port e0c -address 192.168.1.201
-netmask 255.255.255.0

cluster01::&gt; network interface create -vserver cluster01 -lif cluster01_icl02 -service-
policy default-intercluster -home-node cluster01-02 -home-port e0c -address 192.168.1.202
-netmask 255.255.255.0</pre>
</div>
</div>
</li>
<li>
<p>Verify that the intercluster LIFs were created:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>In ONTAP 9.6 and later:</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface show -service-policy default-intercluster</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>In ONTAP 9.5 and earlier:</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface show -role intercluster</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; network interface show -service-policy default-intercluster
            Logical    Status     Network            Current       Current Is
Vserver     Interface  Admin/Oper Address/Mask       Node          Port    Home
----------- ---------- ---------- ------------------ ------------- ------- ----
cluster01
            cluster01_icl01
                       up/up      192.168.1.201/24   cluster01-01  e0c     true
            cluster01_icl02
                       up/up      192.168.1.202/24   cluster01-02  e0c     true</pre>
</div>
</div>
</li>
<li>
<p>Verify that the intercluster LIFs are redundant:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>In ONTAP 9.6 and later:</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface show service-policy default-intercluster -failover</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>In ONTAP 9.5 and earlier:</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface show -role intercluster -failover</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="paragraph">
<p>The following example shows that the intercluster LIFs cluster01_icl01 and cluster01_icl02 on the e0c port will fail over to the e0d port.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; network interface show -service-policy default-intercluster failover
         Logical         Home                  Failover        Failover
Vserver  Interface       Node:Port             Policy          Group
-------- --------------- --------------------- --------------- --------
cluster01
         cluster01_icl01 cluster01-01:e0c   local-only      192.168.1.201/24
                            Failover Targets: cluster01-01:e0c,
                                              cluster01-01:e0d
         cluster01_icl02 cluster01-02:e0c   local-only      192.168.1.201/24
                            Failover Targets: cluster01-02:e0c,
                                              cluster01-02:e0d</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Related information</strong></p>
</div>
<div class="paragraph">
<p><a href="concept_prepare_for_the_mcc_installation.html">Considerations when sharing data ports</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="creating-a-cluster-peer-relationship">Creating a cluster peer relationship</h4>
<div class="paragraph lead">
<p>You must create the cluster peer relationship between the MetroCluster clusters.</p>
</div>
<div class="sect4">
<h5 id="creating-a-cluster-peer-relationship-2">Creating a cluster peer relationship</h5>
<div class="paragraph lead">
<p>You can use the cluster peer create command to create a peer relationship between a local and remote cluster. After the peer relationship has been created, you can run cluster peer create on the remote cluster to authenticate it to the local cluster.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You must have created intercluster LIFs on every node in the clusters that are being peered.</p>
</li>
<li>
<p>The clusters must be running ONTAP 9.3 or later.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>On the destination cluster, create a peer relationship with the source cluster: <code>cluster peer create -generate-passphrase -offer-expiration MM/DD/YYYY HH:MM:SS|1...7days|1...168hours -peer-addrs peer_LIF_IPs -ipspace ipspace</code></p>
<div class="paragraph">
<p>If you specify both -generate-passphrase and -peer-addrs, only the cluster whose intercluster LIFs are specified in -peer-addrs can use the generated password.</p>
</div>
<div class="paragraph">
<p>You can ignore the -ipspace option if you are not using a custom IPspace. For complete command syntax, see the man page.</p>
</div>
<div class="paragraph">
<p>The following example creates a cluster peer relationship on an unspecified remote cluster:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster02::&gt; cluster peer create -generate-passphrase -offer-expiration 2days

                     Passphrase: UCa+6lRVICXeL/gq1WrK7ShR
                Expiration Time: 6/7/2017 08:16:10 EST
  Initial Allowed Vserver Peers: -
            Intercluster LIF IP: 192.140.112.101
              Peer Cluster Name: Clus_7ShR (temporary generated)

Warning: make a note of the passphrase - it cannot be displayed again.</pre>
</div>
</div>
</li>
<li>
<p>On source cluster, authenticate the source cluster to the destination cluster: <code>cluster peer create -peer-addrs peer_LIF_IPs -ipspace ipspace</code></p>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="paragraph">
<p>The following example authenticates the local cluster to the remote cluster at intercluster LIF IP addresses 192.140.112.101 and 192.140.112.102:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; cluster peer create -peer-addrs 192.140.112.101,192.140.112.102

Notice: Use a generated passphrase or choose a passphrase of 8 or more characters.
        To ensure the authenticity of the peering relationship, use a phrase or sequence of characters that would be hard to guess.

Enter the passphrase:
Confirm the passphrase:

Clusters cluster02 and cluster01 are peered.</pre>
</div>
</div>
<div class="paragraph">
<p>Enter the passphrase for the peer relationship when prompted.</p>
</div>
</li>
<li>
<p>Verify that the cluster peer relationship was created: <code>cluster peer show -instance</code></p>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; cluster peer show -instance

                               Peer Cluster Name: cluster02
                   Remote Intercluster Addresses: 192.140.112.101, 192.140.112.102
              Availability of the Remote Cluster: Available
                             Remote Cluster Name: cluster2
                             Active IP Addresses: 192.140.112.101, 192.140.112.102
                           Cluster Serial Number: 1-80-123456
                  Address Family of Relationship: ipv4
            Authentication Status Administrative: no-authentication
               Authentication Status Operational: absent
                                Last Update Time: 02/05 21:05:41
                    IPspace for the Relationship: Default</pre>
</div>
</div>
</li>
<li>
<p>Check the connectivity and status of the nodes in the peer relationship: <code>cluster peer health show</code></p>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; cluster peer health show
Node       cluster-Name                Node-Name
             Ping-Status               RDB-Health Cluster-Health  Avail
---------- --------------------------- ---------  --------------- --------
cluster01-01
           cluster02                   cluster02-01
             Data: interface_reachable
             ICMP: interface_reachable true       true            true
                                       cluster02-02
             Data: interface_reachable
             ICMP: interface_reachable true       true            true
cluster01-02
           cluster02                   cluster02-01
             Data: interface_reachable
             ICMP: interface_reachable true       true            true
                                       cluster02-02
             Data: interface_reachable
             ICMP: interface_reachable true       true            true</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="creating-a-cluster-peer-relationship-ontap-9-2-and-earlier">Creating a cluster peer relationship (ONTAP 9.2 and earlier)</h5>
<div class="paragraph lead">
<p>You can use the cluster peer create command to initiate a request for a peering relationship between a local and remote cluster. After the peer relationship has been requested by the local cluster, you can run cluster peer create on the remote cluster to accept the relationship.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You must have created intercluster LIFs on every node in the clusters being peered.</p>
</li>
<li>
<p>The cluster administrators must have agreed on the passphrase each cluster will use to authenticate itself to the other.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>On the data protection destination cluster, create a peer relationship with the data protection source cluster:<code>cluster peer create -peer-addrs peer_LIF_IPs -ipspace ipspace</code></p>
<div class="paragraph">
<p>You can ignore the -ipspace option if you are not using a custom IPspace. For complete command syntax, see the man page.</p>
</div>
<div class="paragraph">
<p>The following example creates a cluster peer relationship with the remote cluster at intercluster LIF IP addresses 192.168.2.201 and 192.168.2.202:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster02::&gt; cluster peer create -peer-addrs 192.168.2.201,192.168.2.202
Enter the passphrase:
Please enter the passphrase again:</pre>
</div>
</div>
<div class="paragraph">
<p>Enter the passphrase for the peer relationship when prompted.</p>
</div>
</li>
<li>
<p>On the data protection source cluster, authenticate the source cluster to the destination cluster:<code>cluster peer create -peer-addrs peer_LIF_IPs -ipspace ipspace</code></p>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="paragraph">
<p>The following example authenticates the local cluster to the remote cluster at intercluster LIF IP addresses 192.140.112.203 and 192.140.112.204:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; cluster peer create -peer-addrs 192.168.2.203,192.168.2.204
Please confirm the passphrase:
Please confirm the passphrase again:</pre>
</div>
</div>
<div class="paragraph">
<p>Enter the passphrase for the peer relationship when prompted.</p>
</div>
</li>
<li>
<p>Verify that the cluster peer relationship was created:<code>cluster peer show instance</code></p>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; cluster peer show instance
Peer Cluster Name: cluster01
Remote Intercluster Addresses: 192.168.2.201,192.168.2.202
Availability: Available
Remote Cluster Name: cluster02
Active IP Addresses: 192.168.2.201,192.168.2.202
Cluster Serial Number: 1-80-000013</pre>
</div>
</div>
</li>
<li>
<p>Check the connectivity and status of the nodes in the peer relationship:<code>cluster peer health show</code></p>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; cluster peer health show
Node       cluster-Name                Node-Name
             Ping-Status               RDB-Health Cluster-Health  Avail
---------- --------------------------- ---------  --------------- --------
cluster01-01
           cluster02                   cluster02-01
             Data: interface_reachable
             ICMP: interface_reachable true       true            true
                                       cluster02-02
             Data: interface_reachable
             ICMP: interface_reachable true       true            true
cluster01-02
           cluster02                   cluster02-01
             Data: interface_reachable
             ICMP: interface_reachable true       true            true
                                       cluster02-02
             Data: interface_reachable
             ICMP: interface_reachable true       true            true</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="mirroring-the-root-aggregates">Mirroring the root aggregates</h3>
<div class="paragraph lead">
<p>You must mirror the root aggregates to provide data protection.</p>
</div>
<div class="paragraph">
<p>By default, the root aggregate is created as RAID-DP type aggregate. You can change the root aggregate from RAID-DP to RAID4 type aggregate. The following command modifies the root aggregate for RAID4 type aggregate:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>storage aggregate modify aggregate aggr_name -raidtype raid4</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
On non-ADP systems, the RAID type of the aggregate can be modified from the default RAID-DP to RAID4 before or after the aggregate is mirrored.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Mirror the root aggregate: <code>storage aggregate mirror aggr_name</code></p>
<div class="paragraph">
<p>The following command mirrors the root aggregate for controller_A_1:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>controller_A_1::&gt; storage aggregate mirror aggr0_controller_A_1</pre>
</div>
</div>
<div class="paragraph">
<p>This mirrors the aggregate, so it consists of a local plex and a remote plex located at the remote MetroCluster site.</p>
</div>
</li>
<li>
<p>Repeat the previous step for each node in the MetroCluster configuration.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Related information</strong></p>
</div>
<div class="paragraph">
<p><a href="https://docs.netapp.com/ontap-9/topic/com.netapp.doc.dot-cm-vsmg/home.html">Logical storage management</a></p>
</div>
</div>
<div class="sect2">
<h3 id="creating-a-mirrored-data-aggregate-on-each-node">Creating a mirrored data aggregate on each node</h3>
<div class="paragraph lead">
<p>You must create a mirrored data aggregate on each node in the DR group.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You should know what drives or array LUNs will be used in the new aggregate.</p>
</li>
<li>
<p>If you have multiple drive types in your system (heterogeneous storage), you should understand how you can ensure that the correct drive type is selected.</p>
</li>
<li>
<p>Drives and array LUNs are owned by a specific node; when you create an aggregate, all drives in that aggregate must be owned by the same node, which becomes the home node for that aggregate.</p>
</li>
<li>
<p>Aggregate names should conform to the naming scheme you determined when you planned your MetroCluster configuration.
See <a href="https://docs.netapp.com/ontap-9/topic/com.netapp.doc.dot-cm-psmg/home.html">Disk and aggregate management</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Display a list of available spares: <code>storage disk show -spare -owner node_name</code></p>
</li>
<li>
<p>Create the aggregate by using the storage aggregate create -mirror true command.</p>
<div class="paragraph">
<p>If you are logged in to the cluster on the cluster management interface, you can create an aggregate on any node in the cluster. To ensure that the aggregate is created on a specific node, use the -node parameter or specify drives that are owned by that node.</p>
</div>
<div class="paragraph">
<p>You can specify the following options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Aggregate&#8217;s home node (that is, the node that owns the aggregate in normal operation)</p>
</li>
<li>
<p>List of specific drives or array LUNs that are to be added to the aggregate</p>
</li>
<li>
<p>Number of drives to include</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In the minimum-supported configuration, in which a limited number of drives are available, you must use the force-small-aggregate option to allow the creation of a three disk RAID-DP aggregate.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Checksum style to use for the aggregate</p>
</li>
<li>
<p>Type of drives to use</p>
</li>
<li>
<p>Size of drives to use</p>
</li>
<li>
<p>Drive speed to use</p>
</li>
<li>
<p>RAID type for RAID groups on the aggregate</p>
</li>
<li>
<p>Maximum number of drives or array LUNs that can be included in a RAID group</p>
</li>
<li>
<p>Whether drives with different RPM are allowed</p>
<div class="paragraph">
<p>For more information about these options, see the <code>storage aggregate create</code> man page.</p>
</div>
<div class="paragraph">
<p>The following command creates a mirrored aggregate with 10 disks:</p>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; storage aggregate create aggr1_node_A_1 -diskcount 10 -node node_A_1 -mirror true
[Job 15] Job is queued: Create aggr1_node_A_1.
[Job 15] The job is starting.
[Job 15] Job succeeded: DONE</pre>
</div>
</div>
</li>
<li>
<p>Verify the RAID group and drives of your new aggregate: <code>storage aggregate show-status -aggregate aggregate-name</code></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="creating-unmirrored-data-aggregates">Creating unmirrored data aggregates</h3>
<div class="paragraph lead">
<p>You can optionally create unmirrored data aggregates for data that does not require the redundant mirroring provided by MetroCluster configurations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You should know what drives or array LUNs will be used in the new aggregate.</p>
</li>
<li>
<p>If you have multiple drive types in your system (heterogeneous storage), you should understand how you can verify that the correct drive type is selected.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>IMPORTANT:</p>
</div>
<div class="paragraph">
<p>In MetroCluster FC configurations, the unmirrored aggregates will only be online after a switchover if the remote disks in the aggregate are accessible. If the ISLs fail, the local node may be unable to access the data in the unmirrored remote disks. The failure of an aggregate can lead to a reboot of the local node.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The unmirrored aggregates must be local to the node owning them.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Drives and array LUNs are owned by a specific node; when you create an aggregate, all drives in that aggregate must be owned by the same node, which becomes the home node for that aggregate.</p>
</li>
<li>
<p>Aggregate names should conform to the naming scheme you determined when you planned your MetroCluster configuration.</p>
</li>
<li>
<p>The <em>Disks and Aggregates Power Guide</em> contains more information about mirroring aggregates.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Display a list of available spares: <code>storage disk show -spare -owner node_name</code></p>
</li>
<li>
<p>Create the aggregate: <code>storage aggregate create</code></p>
<div class="paragraph">
<p>If you are logged in to the cluster on the cluster management interface, you can create an aggregate on any node in the cluster. To verify that the aggregate is created on a specific node, you should use the -node parameter or specify drives that are owned by that node.</p>
</div>
<div class="paragraph">
<p>You can specify the following options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Aggregate&#8217;s home node (that is, the node that owns the aggregate in normal operation)</p>
</li>
<li>
<p>List of specific drives or array LUNs that are to be added to the aggregate</p>
</li>
<li>
<p>Number of drives to include</p>
</li>
<li>
<p>Checksum style to use for the aggregate</p>
</li>
<li>
<p>Type of drives to use</p>
</li>
<li>
<p>Size of drives to use</p>
</li>
<li>
<p>Drive speed to use</p>
</li>
<li>
<p>RAID type for RAID groups on the aggregate</p>
</li>
<li>
<p>Maximum number of drives or array LUNs that can be included in a RAID group</p>
</li>
<li>
<p>Whether drives with different RPM are allowed
For more information about these options, see the storage aggregate create man page.</p>
<div class="paragraph">
<p>The following command creates a unmirrored aggregate with 10 disks:</p>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>controller_A_1::&gt; storage aggregate create aggr1_controller_A_1 -diskcount 10 -node controller_A_1
[Job 15] Job is queued: Create aggr1_controller_A_1.
[Job 15] The job is starting.
[Job 15] Job succeeded: DONE</pre>
</div>
</div>
</li>
<li>
<p>Verify the RAID group and drives of your new aggregate: <code>storage aggregate show-status -aggregate aggregate-name</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Related information</strong></p>
</div>
<div class="paragraph">
<p><a href="https://docs.netapp.com/ontap-9/topic/com.netapp.doc.dot-cm-psmg/home.html">Disk and aggregate management</a></p>
</div>
</div>
<div class="sect2">
<h3 id="implementing-the-metrocluster-configuration">Implementing the MetroCluster configuration</h3>
<div class="paragraph lead">
<p>You must run the metrocluster configure command to start data protection in a MetroCluster configuration.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>There should be at least two non-root mirrored data aggregates on each cluster.</p>
<div class="paragraph">
<p>Additional data aggregates can be either mirrored or unmirrored.</p>
</div>
<div class="paragraph">
<p>You can verify this with the storage aggregate show command.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you want to use a single mirrored data aggregate, then see <a href="concept_configure_the_mcc_software_in_ontap.adocSTEP_429E7F7532ED4B468B67B9B22968D686">step 1</a> for instructions.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>The ha-config state of the controllers and chassis must be mcc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You issue the metrocluster configure command once, on any of the nodes, to enable the MetroCluster configuration. You do not need to issue the command on each of the sites or nodes, and it does not matter which node or site you choose to issue the command on.</p>
</div>
<div class="paragraph">
<p>The metrocluster configure command automatically pairs the two nodes with the lowest system IDs in each of the two clusters as disaster recovery (DR) partners. In a four-node MetroCluster configuration, there are two DR partner pairs. The second DR pair is created from the two nodes with higher system IDs.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Configure the MetroCluster in the following format:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">If your MetroCluster configuration has&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Then do this&#8230;&#8203;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Multiple data aggregates</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>From any node&#8217;s prompt, configure MetroCluster: <code>metrocluster configure node-name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A single mirrored data aggregate</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>From any node&#8217;s prompt, change to the advanced privilege level: <code>set -privilege advanced</code></p>
<div class="paragraph">
<p>You need to respond with <code>y</code> when you are prompted to continue into advanced mode and you see the advanced mode prompt (*&gt;).</p>
</div>
</li>
<li>
<p>Configure the MetroCluster with the -allow-with-one-aggregate true parameter: <code>metrocluster configure -allow-with-one-aggregate true node-name</code></p>
</li>
<li>
<p>Return to the admin privilege level: <code>set -privilege admin</code></p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Note:</strong> The best practice is to have multiple data aggregates. If the first DR group has only one aggregate and you want to add a DR group with one aggregate, you must move the metadata volume off the single data aggregate. For more information on this procedure, see <a href="http://docs.netapp.com/ontap-9/topic/com.netapp.doc.hw-metrocluster-service/GUID-114DAE6E-F105-4908-ABB1-CE1D7B5C7048.html">Moving a metadata volume in MetroCluster configurations</a>.</p>
</div>
<div class="paragraph">
<p>The following command enables the MetroCluster configuration on all of the nodes in the DR group that contains controller_A_1:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::*&gt; metrocluster configure -node-name controller_A_1

[Job 121] Job succeeded: Configure is successful.</pre>
</div>
</div>
</li>
<li>
<p>Verify the networking status on site A: <code>network port show</code></p>
<div class="paragraph">
<p>The following example shows the network port usage on a four-node MetroCluster configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; network port show
                                                          Speed (Mbps)
Node   Port      IPspace   Broadcast Domain Link   MTU    Admin/Oper
------ --------- --------- ---------------- ----- ------- ------------
controller_A_1
       e0a       Cluster   Cluster          up     9000  auto/1000
       e0b       Cluster   Cluster          up     9000  auto/1000
       e0c       Default   Default          up     1500  auto/1000
       e0d       Default   Default          up     1500  auto/1000
       e0e       Default   Default          up     1500  auto/1000
       e0f       Default   Default          up     1500  auto/1000
       e0g       Default   Default          up     1500  auto/1000
controller_A_2
       e0a       Cluster   Cluster          up     9000  auto/1000
       e0b       Cluster   Cluster          up     9000  auto/1000
       e0c       Default   Default          up     1500  auto/1000
       e0d       Default   Default          up     1500  auto/1000
       e0e       Default   Default          up     1500  auto/1000
       e0f       Default   Default          up     1500  auto/1000
       e0g       Default   Default          up     1500  auto/1000
14 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>Verify the MetroCluster configuration from both sites in the MetroCluster configuration.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Verify the configuration from site A: <code>metrocluster show</code></p>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; metrocluster show

Cluster                   Entry Name          State
------------------------- ------------------- -----------
 Local: cluster_A         Configuration state configured
                          Mode                normal
                          AUSO Failure Domain auso-on-cluster-disaster
Remote: cluster_B         Configuration state configured
                          Mode                normal
                          AUSO Failure Domain auso-on-cluster-disaster</pre>
</div>
</div>
</li>
<li>
<p>Verify the configuration from site B: <code>metrocluster show</code></p>
<div class="listingblock">
<div class="content">
<pre>cluster_B::&gt; metrocluster show
Cluster                   Entry Name          State
------------------------- ------------------- -----------
 Local: cluster_B         Configuration state configured
                          Mode                normal
                          AUSO Failure Domain auso-on-cluster-disaster
Remote: cluster_A         Configuration state configured
                          Mode                normal
                          AUSO Failure Domain auso-on-cluster-disaster</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="configuring-in-order-delivery-or-out-of-order-delivery-of-frames-on-ontap-software">Configuring in-order delivery or out-of-order delivery of frames on ONTAP software</h3>
<div class="paragraph lead">
<p>You must configure either in-order delivery (IOD) or out-of-order delivery (OOD) of frames according to the fibre channel (FC) switch configuration. If the FC switch is configured for IOD, then the ONTAP software must be configured for IOD. Similarly, if the FC switch is configured for OOD, then ONTAP must be configured for OOD.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Configure ONTAP to operate either IOD or OOD of frames.</p>
<div class="ulist">
<ul>
<li>
<p>By default, IOD of frames is enabled in ONTAP. To check the configuration details:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Enter advanced mode: <code>set advanced</code></p>
</li>
<li>
<p>Verify the settings: <code>metrocluster interconnect adapter show</code></p>
<div class="listingblock">
<div class="content">
<pre>mcc4-b12_siteB::*&gt; metrocluster interconnect adapter show
                             Adapter Link   Is OOD
Node         Adapter Name    Type    Status Enabled? IP Address  Port Number
------------ --------------- ------- ------ -------- ----------- -----------
mcc4-b1      fcvi_device_0   FC-VI    Up    false    17.0.1.2 	   	6a
mcc4-b1      fcvi_device_1   FC-VI    Up    false    18.0.0.2   	 	6b
mcc4-b1      mlx4_0          IB       Down  false    192.0.5.193 	 ib2a
mcc4-b1      mlx4_0          IB       Up    false    192.0.5.194 	 ib2b
mcc4-b2      fcvi_device_0   FC-VI    Up    false    17.0.2.2		    6a
mcc4-b2      fcvi_device_1   FC-VI    Up    false    18.0.1.2    	 6b
mcc4-b2      mlx4_0          IB       Down  false    192.0.2.9   	 ib2a
mcc4-b2      mlx4_0          IB       Up    false    192.0.2.10  	 ib2b
8 entries were displayed.</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>The following steps must be performed on each node to configure OOD of frames:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Enter advanced mode: <code>set advanced</code></p>
</li>
<li>
<p>Verify the MetroCluster configuration settings: <code>metrocluster interconnect adapter show</code></p>
<div class="listingblock">
<div class="content">
<pre>mcc4-b12_siteB::*&gt; metrocluster interconnect adapter show
                             Adapter Link   Is OOD
Node         Adapter Name    Type    Status Enabled? IP Address  Port Number
------------ --------------- ------- ------ -------- ----------- -----------
mcc4-b1      fcvi_device_0   FC-VI    Up    false    17.0.1.2 	   	6a
mcc4-b1      fcvi_device_1   FC-VI    Up    false    18.0.0.2   	 	6b
mcc4-b1      mlx4_0          IB       Down  false    192.0.5.193 	 ib2a
mcc4-b1      mlx4_0          IB       Up    false    192.0.5.194 	 ib2b
mcc4-b2      fcvi_device_0   FC-VI    Up    false    17.0.2.2		    6a
mcc4-b2      fcvi_device_1   FC-VI    Up    false    18.0.1.2    	 6b
mcc4-b2      mlx4_0          IB       Down  false    192.0.2.9   	 ib2a
mcc4-b2      mlx4_0          IB       Up    false    192.0.2.10  	 ib2b
8 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>Enable OOD on node &#8220;mcc4-b1&#8221; and node &#8220;mcc4-b2&#8221;: <code>metrocluster interconnect adapter modify -node node name -is-ood-enabled true</code></p>
<div class="listingblock">
<div class="content">
<pre>mcc4-b12_siteB::*&gt; metrocluster interconnect adapter modify -node mcc4-b1 -is-ood-enabled true
mcc4-b12_siteB::*&gt; metrocluster interconnect adapter modify -node mcc4-b2 -is-ood-enabled true</pre>
</div>
</div>
</li>
<li>
<p>Verify the settings: <code>metrocluster interconnect adapter show</code></p>
<div class="listingblock">
<div class="content">
<pre>mcc4-b12_siteB::*&gt; metrocluster interconnect adapter show
                             Adapter Link   Is OOD
Node         Adapter Name    Type    Status Enabled? IP Address  Port Number
------------ --------------- ------- ------ -------- ----------- -----------
mcc4-b1      fcvi_device_0   FC-VI   Up     true      17.0.1.2   	 6a
mcc4-b1      fcvi_device_1   FC-VI   Up     true      18.0.0.2    	6b
mcc4-b1      mlx4_0          IB      Down   false     192.0.5.193 	ib2a
mcc4-b1      mlx4_0          IB      Up     false     192.0.5.194 	ib2b
mcc4-b2      fcvi_device_0   FC-VI   Up     true      17.0.2.2    	6a
mcc4-b2      fcvi_device_1   FC-VI   Up     true      18.0.1.2    	6b
mcc4-b2      mlx4_0          IB      Down   false     192.0.2.9   	ib2a
mcc4-b2      mlx4_0          IB      Up     false     192.0.2.10  	ib2b
8 entries were displayed.</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="configuring-snmpv3-in-a-metrocluster-configuration">Configuring SNMPv3 in a MetroCluster configuration</h3>
<div class="paragraph lead">
<p>The authentication and privacy protocols on the switches and on the ONTAP system must be the same.</p>
</div>
<div class="paragraph">
<p>ONTAP currently supports AES-128 and AES-256 encryption.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create an SNMP user for each switch from the controller prompt: <code>security login create</code></p>
<div class="listingblock">
<div class="content">
<pre>Controller_A_1::&gt; security login create -user-or-group-name snmpv3user -application snmp -authentication-method usm -role none -remote-switch-ipaddress 10.10.10.10</pre>
</div>
</div>
</li>
<li>
<p>Respond to the following prompts as required at your site:</p>
<div class="listingblock">
<div class="content">
<pre>Enter the authoritative entity's EngineID [remote EngineID]:

Which authentication protocol do you want to choose (none, md5, sha, sha2-256) [none]: sha

Enter the authentication protocol password (minimum 8 characters long):

Enter the authentication protocol password again:

Which privacy protocol do you want to choose (none, des, aes128) [none]: aes128

Enter privacy protocol password (minimum 8 characters long):

Enter privacy protocol password again:</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The same username can be added to different switches with different IP addresses.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create an SNMP user for the rest of the switches.</p>
<div class="paragraph">
<p>The following example shows how to create a username for a switch with the IP address 10.10.10.11.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Controller_A_1::&gt; security login create -user-or-group-name snmpv3user -application snmp -authentication-method usm -role none -remote-switch-ipaddress 10.
10.10.11</pre>
</div>
</div>
</li>
<li>
<p>Check that there is one login entry for each switch: <code>security login show</code></p>
<div class="listingblock">
<div class="content">
<pre>Controller_A_1::&gt; security login show -user-or-group-name snmpv3user -fields remote-switch-ipaddress

vserver      user-or-group-name application authentication-method remote-switch-ipaddress

------------ ------------------ ----------- --------------------- -----------------------

node_A_1 SVM 1 snmpv3user     snmp        usm                   10.10.10.10

node_A_1 SVM 2 snmpv3user     snmp        usm                   10.10.10.11

node_A_1 SVM 3 snmpv3user    snmp        usm                   10.10.10.12

node_A_1 SVM 4 snmpv3user     snmp        usm                   10.10.10.13

4 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>Configure SNMPv3 on the switches from the switch prompt: <code>snmpconfig --set snmpv3</code></p>
<div class="paragraph">
<p>If you require RO access, after 'User (ro):' specify the 'snmpv3user' as shown in the example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Switch-A1:admin&gt; snmpconfig --set snmpv3
SNMP Informs Enabled (true, t, false, f): [false] true
SNMPv3 user configuration(snmp user not configured in FOS user database will have physical AD and admin role as the default):
User (rw): [snmpadmin1]
Auth Protocol [MD5(1)/SHA(2)/noAuth(3)]: (1..3) [3]
Priv Protocol [DES(1)/noPriv(2)/AES128(3)/AES256(4)]): (2..2) [2]
Engine ID: [00:00:00:00:00:00:00:00:00]
User (ro): [snmpuser2] snmpv3user
Auth Protocol [MD5(1)/SHA(2)/noAuth(3)]: (1..3) [2]
Priv Protocol [DES(1)/noPriv(2)/AES128(3)/AES256(4)]): (2..2) [3]</pre>
</div>
</div>
<div class="paragraph">
<p>The example shows how to configure a read-only user. You can adjust the RW users if needed. You should also set passwords on unused accounts to secure them and use the best encryption available in your ONTAP release.</p>
</div>
</li>
<li>
<p>Configure encryption and passwords on the remaining switch users as required on your site.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="configuring-metrocluster-components-for-health-monitoring">Configuring MetroCluster components for health monitoring</h3>
<div class="paragraph lead">
<p>You must perform some special configuration steps before monitoring the components in a MetroCluster configuration.</p>
</div>
<div class="paragraph">
<p>These tasks apply only to systems with FC-to-SAS bridges.</p>
</div>
<div class="paragraph">
<p>NOTE:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You should place bridges and a node management LIF in a dedicated network to avoid interference from other sources.</p>
</li>
<li>
<p>If you use a dedicated network for Health Monitoring, then each node must have a node management LIF in that dedicated network.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="configuring-the-metrocluster-fc-switches-for-health-monitoring">Configuring the MetroCluster FC switches for health monitoring</h4>
<div class="paragraph lead">
<p>In a fabric-attached MetroCluster configuration, you must perform some additional configuration steps to monitor the FC switches.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Starting with ONTAP 9.8, the <code>storage switch</code> command is replaced with <code>system switch</code>. The following steps show the <code>storage switch</code> command, but if you are running ONTAP 9.8 or later, the <code>system switch</code> command is preferred.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add a switch with an IP address to each MetroCluster node: <code>storage switch add -address ipaddress</code></p>
<div class="paragraph">
<p>This command must be repeated on all four switches in the MetroCluster configuration.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Brocade 7840 FC switches and all alerts are supported in health monitoring, except NoISLPresent_Alert
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following example shows the command to add a switch with IP address 10.10.10.10:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>controller_A_1::&gt; storage switch add -address 10.10.10.10</pre>
</div>
</div>
</li>
<li>
<p>Verify that all switches are properly configured: <code>storage switch show</code></p>
<div class="paragraph">
<p>It might take up to 15 minutes to reflect all data due to the 15-minute polling interval.</p>
</div>
<div class="paragraph">
<p>The following example shows the command given to verify that the MetroCluster FC switches are configured:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>controller_A_1::&gt; storage switch show
Fabric           Switch Name     Vendor  Model        Switch WWN       Status
---------------- --------------- ------- ------------ ---------------- ------
1000000533a9e7a6 brcd6505-fcs40  Brocade Brocade6505  1000000533a9e7a6 OK
1000000533a9e7a6 brcd6505-fcs42  Brocade Brocade6505  1000000533d3660a OK
1000000533ed94d1 brcd6510-fcs44  Brocade Brocade6510  1000000533eda031 OK
1000000533ed94d1 brcd6510-fcs45  Brocade Brocade6510  1000000533ed94d1 OK
4 entries were displayed.

controller_A_1::&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>If the worldwide name (WWN) of the switch is shown, the ONTAP health monitor can contact and monitor the FC switch.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Related information</strong></p>
</div>
<div class="paragraph">
<p><a href="https://docs.netapp.com/ontap-9/topic/com.netapp.doc.dot-cm-sag/home.html">System administration</a></p>
</div>
</div>
<div class="sect3">
<h4 id="configuring-fc-to-sas-bridges-for-health-monitoring">Configuring FC-to-SAS bridges for health monitoring</h4>
<div class="paragraph lead">
<p>In systems running ONTAP versions prior to 9.8, you must perform some special configuration steps to monitor the FC-to-SAS bridges in the MetroCluster configuration.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Third-party SNMP monitoring tools are not supported for FibreBridge bridges.</p>
</li>
<li>
<p>Starting with ONTAP 9.8, FC-to-SAS bridges are monitored via in-band connections by default, and additional configuration is not required.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Starting with ONTAP 9.8, the <code>storage bridge</code> command is replaced with <code>system bridge</code>. The following steps show the <code>storage bridge</code> command, but if you are running ONTAP 9.8 or later, the <code>system bridge</code> command is preferred.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>From the ONTAP cluster prompt, add the bridge to health monitoring:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Add the bridge, using the command for your version of ONTAP:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ONTAP version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>9.5 and later</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>storage bridge add -address 0.0.0.0 -managed-by in-band -name bridge-name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>9.4 and earlier</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>storage bridge add -address bridge-ip-address -name bridge-name</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Verify that the bridge has been added and is properly configured: <code>storage bridge show</code></p>
<div class="paragraph">
<p>It might take as long as 15 minutes to reflect all data because of the polling interval. The ONTAP health monitor can contact and monitor the bridge if the value in the <code>Status</code> column is <code>ok</code>, and other information, such as the worldwide name (WWN), is displayed.</p>
</div>
<div class="paragraph">
<p>The following example shows that the FC-to-SAS bridges are configured:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>controller_A_1::&gt; storage bridge show

Bridge              Symbolic Name Is Monitored  Monitor Status  Vendor Model                Bridge WWN
------------------  ------------- ------------  --------------  ------ -----------------    ----------
ATTO_10.10.20.10  atto01        true          ok              Atto   FibreBridge 7500N   	20000010867038c0
ATTO_10.10.20.11  atto02        true          ok              Atto   FibreBridge 7500N   	20000010867033c0
ATTO_10.10.20.12  atto03        true          ok              Atto   FibreBridge 7500N   	20000010867030c0
ATTO_10.10.20.13  atto04        true          ok              Atto   FibreBridge 7500N   	2000001086703b80

4 entries were displayed

 controller_A_1::&gt;</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="checking-the-metrocluster-configuration">Checking the MetroCluster configuration</h3>
<div class="paragraph lead">
<p>You can check that the components and relationships in the MetroCluster configuration are working correctly. You should do a check after initial configuration and after making any changes to the MetroCluster configuration. You should also do a check before a negotiated (planned) switchover or a switchback operation.</p>
</div>
<div class="paragraph">
<p>If the metrocluster check run command is issued twice within a short time on either or both clusters, a conflict can occur and the command might not collect all data. Subsequent metrocluster check show commands do not show the expected output.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Check the configuration: <code>metrocluster check run</code></p>
<div class="paragraph">
<p>The command runs as a background job and might not be completed immediately.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; metrocluster check run
The operation has been started and is running in the background. Wait for
it to complete and run "metrocluster check show" to view the results. To
check the status of the running metrocluster check operation, use the command,
"metrocluster operation history show -job-id 2245"</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; metrocluster check show
Last Checked On: 9/13/2017 20:41:37

Component           Result
------------------- ---------
nodes               ok
lifs                ok
config-replication  ok
aggregates          ok
clusters            ok
5 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>Display more detailed results from the most recent metrocluster check run command: <code>metrocluster check aggregate show<code>metrocluster check cluster show</code>metrocluster check config-replication show<code>metrocluster check lif show</code>metrocluster check node show</code></p>
<div class="paragraph">
<p>The metrocluster check show commands show the results of the most recent metrocluster check run command. You should always run the metrocluster check run command prior to using the metrocluster check show commands so that the information displayed is current.</p>
</div>
<div class="paragraph">
<p>The following example shows the metrocluster check aggregate show command output for a healthy four-node MetroCluster configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; metrocluster check aggregate show

Last Checked On: 8/5/2014 00:42:58

Node                  Aggregate                  Check                      Result
---------------       --------------------       ---------------------      ---------
controller_A_1        controller_A_1_aggr0
                                                 mirroring-status           ok
                                                 disk-pool-allocation       ok
                                                 ownership-state            ok
                      controller_A_1_aggr1
                                                 mirroring-status           ok
                                                 disk-pool-allocation       ok
                                                 ownership-state            ok
                      controller_A_1_aggr2
                                                 mirroring-status           ok
                                                 disk-pool-allocation       ok
                                                 ownership-state            ok


controller_A_2        controller_A_2_aggr0
                                                 mirroring-status           ok
                                                 disk-pool-allocation       ok
                                                 ownership-state            ok
                      controller_A_2_aggr1
                                                 mirroring-status           ok
                                                 disk-pool-allocation       ok
                                                 ownership-state            ok
                      controller_A_2_aggr2
                                                 mirroring-status           ok
                                                 disk-pool-allocation       ok
                                                 ownership-state            ok

18 entries were displayed.</pre>
</div>
</div>
<div class="paragraph">
<p>The following example shows the metrocluster check cluster show command output for a healthy four-node MetroCluster configuration. It indicates that the clusters are ready to perform a negotiated switchover if necessary.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Last Checked On: 9/13/2017 20:47:04

Cluster               Check                           Result
--------------------- ------------------------------- ---------
mccint-fas9000-0102
                      negotiated-switchover-ready     not-applicable
                      switchback-ready                not-applicable
                      job-schedules                   ok
                      licenses                        ok
                      periodic-check-enabled          ok
mccint-fas9000-0304
                      negotiated-switchover-ready     not-applicable
                      switchback-ready                not-applicable
                      job-schedules                   ok
                      licenses                        ok
                      periodic-check-enabled          ok
10 entries were displayed.</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Related information</strong></p>
</div>
<div class="paragraph">
<p><a href="https://docs.netapp.com/ontap-9/topic/com.netapp.doc.dot-cm-psmg/home.html">Disk and aggregate management</a></p>
</div>
<div class="paragraph">
<p><a href="https://docs.netapp.com/ontap-9/topic/com.netapp.doc.dot-cm-nmg/home.html">Network and LIF management</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="checking-for-metrocluster-configuration-errors-with-config-advisor">Checking for MetroCluster configuration errors with Config Advisor</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>You can go to the NetApp Support Site and download the Config Advisor tool to check for common configuration errors.</p>
</div>
<div class="paragraph">
<p>Config Advisor is a configuration validation and health check tool. You can deploy it at both secure sites and non-secure sites for data collection and system analysis.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Support for Config Advisor is limited, and available only online.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to the Config Advisor download page and download the tool.</p>
<div class="paragraph">
<p><a href="https://mysupport.netapp.com/site/tools/tool-eula/activeiq-configadvisor">NetApp Downloads: Config Advisor</a></p>
</div>
</li>
<li>
<p>Run Config Advisor, review the tool&#8217;s output and follow the recommendations in the output to address any issues discovered.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="verifying-local-ha-operation">Verifying local HA operation</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>If you have a four-node MetroCluster configuration, you should verify the operation of the local HA pairs in the MetroCluster configuration. This is not required for two-node configurations.</p>
</div>
<div class="paragraph">
<p>Two-node MetroCluster configurations do not consist of local HA pairs and this task does not apply.</p>
</div>
<div class="paragraph">
<p>The examples in this task use standard naming conventions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>cluster_A</p>
<div class="ulist">
<ul>
<li>
<p>controller_A_1</p>
</li>
<li>
<p>controller_A_2</p>
</li>
</ul>
</div>
</li>
<li>
<p>cluster_B</p>
<div class="ulist">
<ul>
<li>
<p>controller_B_1</p>
</li>
<li>
<p>controller_B_2</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>On cluster_A, perform a failover and giveback in both directions.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Confirm that storage failover is enabled: <code>storage failover show</code></p>
<div class="paragraph">
<p>The output should indicate that takeover is possible for both nodes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; storage failover show
                              Takeover
Node           Partner        Possible State Description
-------------- -------------- -------- ---------------------------
controller_A_1 controller_A_2 true     Connected to controller_A_2

controller_A_2 controller_A_1 true     Connected to controller_A_1
2 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>Take over controller_A_2 from controller_A_1: <code>storage failover takeover controller_A_2</code></p>
<div class="paragraph">
<p>You can use the storage failover show-takeover command to monitor the progress of the takeover operation.</p>
</div>
</li>
<li>
<p>Confirm that the takeover is complete: <code>storage failover show</code></p>
<div class="paragraph">
<p>The output should indicate that controller_A_1 is in takeover state, meaning that it has taken over its HA partner:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; storage failover show
                              Takeover
Node           Partner        Possible State Description
-------------- -------------- -------- -----------------
controller_A_1 controller_A_2 false    In takeover

controller_A_2 controller_A_1 -        Unknown
2 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>Give back controller_A_2: <code>storage failover giveback controller_A_2</code></p>
<div class="paragraph">
<p>You can use the storage failover show-giveback command to monitor the progress of the giveback operation.</p>
</div>
</li>
<li>
<p>Confirm that storage failover has returned to a normal state: <code>storage failover show</code></p>
<div class="paragraph">
<p>The output should indicate that takeover is possible for both nodes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; storage failover show
                              Takeover
Node           Partner        Possible State Description
-------------- -------------- -------- ---------------------------
controller_A_1 controller_A_2 true     Connected to controller_A_2

controller_A_2 controller_A_1 true     Connected to controller_A_1
2 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>Repeat the previous substeps, this time taking over controller_A_1 from controller_A_2.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Repeat the preceding steps on cluster_B.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Related information</strong></p>
</div>
<div class="paragraph">
<p><a href="https://docs.netapp.com/ontap-9/topic/com.netapp.doc.dot-cm-hacg/home.html">High-availability configuration</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="verifying-switchover-healing-and-switchback">Verifying switchover, healing, and switchback</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>You should verify the switchover, healing, and switchback operations of the MetroCluster configuration.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Use the procedures for negotiated switchover, healing, and switchback that are mentioned in the <em>MetroCluster Management and Disaster Recovery Guide</em>.</p>
<div class="paragraph">
<p><a href="https://docs.netapp.com/us-en/ontap-metrocluster/manage/index.html">MetroCluster management and disaster recovery</a></p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="protecting-configuration-backup-files">Protecting configuration backup files</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>You can provide additional protection for the cluster configuration backup files by specifying a remote URL (either HTTP or FTP) where the configuration backup files will be uploaded in addition to the default locations in the local cluster.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Set the URL of the remote destination for the configuration backup files: <code>system configuration backup settings modify URL-of-destination</code></p>
<div class="paragraph">
<p>The System Administration Guide contains additional information under the section <em>Managing configuration backups</em>.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Related information</strong></p>
</div>
<div class="paragraph">
<p><a href="https://docs.netapp.com/ontap-9/topic/com.netapp.doc.dot-cm-sag/home.html">System administration</a></p>
</div>
</div>
</div>

    </article>
    <!-- Page Container -->
  </div>

  
  <!-- Start Page Toolbar -->
  <div class="page-nav-toolbar">
    <div class="page-nav-contribute"  >
      <div class="page-nav-contribute-title">CONTRIBUTE</div>
      <a target="_blank" href="https://github.com/NetAppDocs/ontap-metrocluster/blob/main/install-fc/concept_configure_the_mcc_software_in_ontap.adoc" class="btn btn-default githubEditButton" role="button"><img src="/us-en/ontap-metrocluster/images/github.png" class="github-icon" />Edit on GitHub</a>
      <a target="_blank" href="https://github.com/NetAppDocs/ontap-metrocluster/issues/new?body=Page%3A%20[Configuring the MetroCluster software in ONTAP](https://docs.netapp.com/us-en/ontap-metrocluster/install-fc/concept_configure_the_mcc_software_in_ontap.html)" class="btn btn-default githubEditButton" role="button"><img src="/us-en/ontap-metrocluster/images/github.png" class="github-icon" />Request doc changes</a>
      <a target="_blank" href="https://docs.netapp.com/us-en/contribute/" class="page-nav-contribute-link"  >Contributor's Guide</a>
    </div>
    <div class="page-nav-container">
      <nav class="page-nav-fixed">
        <div class="page-nav-title">ON THIS PAGE</div>
        <div class="page-nav-links">
          <ul class="page-nav-inner" id="page-menu"></ul>
        </div>
      </nav>
    </div>
  </div>
  
  <div style="clear: both"></div><!-- Main needs to have height -->
</div>

        </main>

        <footer class="n-footer">
  <div class="n-footer__bottom">
    <div class="n-container">
      <div class="n-footer__bottom-left">

        <div class="n-footer__copyright">
          <ul class="n-footer__copyright-list">
            <li class="n-footer__copyright-link">
            <a href="https://www.netapp.com/us/legal/copyright.aspx"> 2021 NetApp, Inc.</a>
            </li>

</ul>
</div>
<div class="n-footer__social-links">
<ul class="n-footer__social-link-list">
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-blog" href="https://blog.netapp.com" target="_blank" title="blog" alt="blog">
<span class="n-footer__social-link-text">blog</span>
<svg class="n-icon-blog n-footer__social-link-icon" aria-labelledby="title">
  <title>blog@</title>
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-metrocluster/common/svg/sprite.svg#blog"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-community" href="https://community.netapp.com/" target="_blank" title="community" alt="community">
<span class="n-footer__social-link-text">community</span>
<svg class="n-icon-community n-footer__social-link-icon" aria-labelledby="title">
<title>community@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-metrocluster/common/svg/sprite.svg#comments"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-twitter" href="https://twitter.com/netapp" target="_blank" title="twitter" alt="twitter">
<span class="n-footer__social-link-text">twitter</span>
<svg class="n-icon-twitter n-footer__social-link-icon" aria-labelledby="title">
<title>twitter@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-metrocluster/common/svg/sprite.svg#twitter"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-facebook" href="https://www.facebook.com/NetApp" target="_blank" title="facebook" alt="facebook">
<span class="n-footer__social-link-text">facebook</span>
<svg class="n-icon-facebook n-footer__social-link-icon" aria-labelledby="title">
<title>facebook@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-metrocluster/common/svg/sprite.svg#facebook"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-linkedin" href="https://www.linkedin.com/company/netapp" target="_blank" title="linkedin" alt="linkedin">
<span class="n-footer__social-link-text">linkedin</span>
<svg class="n-icon-linkedin n-footer__social-link-icon" aria-labelledby="title">
<title>linkedin@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-metrocluster/common/svg/sprite.svg#linkedin"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-youtube" href="https://www.youtube.com/user/NetAppTV" target="_blank" title="youtube" alt="youtube">
<span class="n-footer__social-link-text">youtube</span>
<svg class="n-icon-youtube n-footer__social-link-icon" aria-labelledby="title">
<title>youtube@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-metrocluster/common/svg/sprite.svg#youtube"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-slideshare" href="https://www.slideshare.net/NetApp" target="_blank" title="slideshare" alt="slideshare">
<span class="n-footer__social-link-text">slideshare</span>
<svg class="n-icon-slideshare n-footer__social-link-icon" aria-labelledby="title">
<title>slideshare@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-metrocluster/common/svg/sprite.svg#slideshare"></use>
</svg>

</a>
</li>
</ul>
</div>

</div>
<div class="n-footer__bottom-right">
  <p class="n-footer__fine-print">Have feedback for our website?<a target="_self" href="javascript:netapp_mailto()" class="n-footer__copyright">Let us know</a>
  <a href="https://docs.netapp.com/us-en/announcements/" class="n-footer__copyright">Announcements</a>
  </p>
</div>
</div>
</div>
</footer>

      </div>

      <!-- Elasticsearch JS -->
      <script type="text/javascript" src='/us-en/ontap-metrocluster/js/bundle.js'></script>

      <!-- Syntax Highlighting -->
      <script type="text/javascript" src='/us-en/ontap-metrocluster/js/prism.js'></script>
      <script type="text/javascript" src='/us-en/ontap-metrocluster/js/prism-curl.js'></script>
    </div>
    <script>
      document.body.offsetWidth=1903;
      cookieLaw = {}
      cookieLaw.euCountry = "US";
      cookieLaw.invoke = function(){return false;}
    </script>
    <script src='/us-en/ontap-metrocluster/js/www-ntap.js'></script>
  </body>

  
</html>
