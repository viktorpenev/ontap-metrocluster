<!DOCTYPE html>
<html lang="en">
  <head class="at-element-marker">
  <title>Configuring the MetroCluster software in ONTAP</title>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge,chrome=1">
  <meta http-equiv="language" content="en">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:title" content="Configuring the MetroCluster software in ONTAP" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://docs.netapp.com/us-en/ontap-metrocluster/install-ip/concept_configure_the_mcc_software_in_ontap.html" />
	<meta property="og:description" content="You must set up each node in the MetroCluster configuration in ONTAP, including the node-level configurations and the configuration of the nodes into two sit..." />
  <meta property="og:image" content="https://docs.netapp.com/us-en/ontap-metrocluster/images/logo-tophat-social.png" />
  <meta property="og:image:alt" content="NetApp Logo" />
  <meta name="format-detection" content="telephone=no">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="encoding" content="utf-8">
  <meta http-equiv="nss-type" content="Product Documentation"/>
  <meta http-equiv="nss-subtype" content="User Guide"/>
  
  <meta name="description" content="You must set up each node in the MetroCluster configuration in ONTAP, including the node-level configurations and the configuration of the nodes into two sit...">
  <meta name="keywords" content=" metrocluster, configuration, ontap, node-level, configuration, node, site, relationship, configuring, configure, similarities, difference, standard, cluster, verify, ha-config, state, component, restoring, restore, controller, module, manual, drive, pool, set, up, eight-node">
  
  

  <!-- Icons -->
  <link rel="icon" href="/us-en/ontap-metrocluster/images/favicon.ico" type="image/x-icon">

  <!-- RSS Feed -->
  

  <!-- CSS Definitions: NetApp CSS should be defined after generic css -->

  <!-- Elastic Search -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/searchkit/0.10.0/theme.css">

  <!-- Controls AsciiDoctor Admonition Blocks -->
  <link rel="stylesheet" type="text/css" href="/us-en/ontap-metrocluster/css/font-awesome.min.css">

  <!-- Controls the shadow effect for search dropdown menu -->
  <link rel="stylesheet" href="/us-en/ontap-metrocluster/css/boxshadowproperties.css">

  <!-- NetApp CSS controls the technical content -->
  <link rel="stylesheet" type="text/css" href="/us-en/ontap-metrocluster/css/netapp.css">

  <!-- WWW CSS Content -->
  <link rel="stylesheet" type="text/css" href="/us-en/ontap-metrocluster/css/www-luci-dotcom.min.css">
  <link rel="stylesheet" type="text/css" href="/us-en/ontap-metrocluster/css/www-netapp-dotcom.css">
  <link rel="stylesheet" href="/us-en/ontap-metrocluster/css/www-netapp-library-critical.min.css" media="all" >
  <link rel="stylesheet" href="/us-en/ontap-metrocluster/css/www-netapp-library-non-critical.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="stylesheet" href="/us-en/ontap-metrocluster/css/www-netapp-library-global-header-footer.min.css">

  <!-- NetApp IE Customizations -->
  <link rel="stylesheet" href='/us-en/ontap-metrocluster/css/na-utility.css' type='text/css'>
  <link rel="stylesheet" href='/us-en/ontap-metrocluster/css/na-sidebar.css' type='text/css'>
  <link rel='stylesheet' href='/us-en/ontap-metrocluster/css/clouddocs.css' type='text/css'>
  <link rel='stylesheet' href='/us-en/ontap-metrocluster/css/na-pagenav.css' type='text/css'>

  
  <link rel="stylesheet" href="/us-en/ontap-metrocluster/css/astra.css" type="text/css">
  

  
  <link rel='stylesheet' href='/us-en/ontap-metrocluster/css/na-feature.css' type='text/css'>
  


  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <!-- Used to import Promise for IE. Required for SearchKit -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.5/bluebird.min.js"></script>
  
    <script src='/us-en/ontap-metrocluster/js/na-search.js'></script>
  

  
  <script src='/us-en/ontap-metrocluster/js/na-pagenav.js'></script>
  

  <link rel='stylesheet' href='/us-en/ontap-metrocluster/css/prism.css' type='text/css'>
  <link rel='stylesheet' href='/us-en/ontap-metrocluster/css/prism-netapp.css' type='text/css'>


  <script src='/us-en/ontap-metrocluster/js/na-utility.js'></script>
  <script src='/us-en/ontap-metrocluster/js/clouddocs.js'></script>
  <script>
  if (document.location.hostname === "docs.netapp.com") {
    var head = document.getElementsByTagName('head')[0];
    var adobe = document.createElement("script");
    adobe.type = "text/javascript";
    adobe.src = "//assets.adobedtm.com/60287eadf1ee/c284da483c83/launch-e9ff3acac59f.min.js";
    head.appendChild(adobe);
  }
  </script>
  <script src='/us-en/ontap-metrocluster/js/jquery.navgoco.min.js'></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script src='/us-en/ontap-metrocluster/js/toc.js'></script>
  <script src='/us-en/ontap-metrocluster/js/customscripts.js'></script>

  <script>
      $(document).ready(function() {
          
          var collapseOnInit = true;
          

          var navSettings = {
              "caretHtml": '',
              "accordion": collapseOnInit,
              "openClass": 'active', // open
              "save": false, // leave false or nav highlighting doesn't work right
              "cookie": {
                  "name": 'navgoco',
                  "expires": false,
                  "path": '/'
              },
              "slide": {
                  "duration": 400,
                  "easing": 'swing'
              }
          };

          // Initialize navgoco with default options
          $("#mysidebar").navgoco(navSettings);
          

          $("#collapseAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', false);
          });

          $("#expandAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', true);
          });

      });

  </script>
  <script>
      $(document).ready(function() {
          $("#tg-sb-link").click(function() {
              $("#tg-sb-sidebar").toggle();
              $("#tg-sb-content").toggleClass('col-md-9');
              $("#tg-sb-content").toggleClass('col-md-12');
              $("#tg-sb-icon").toggleClass('fa-toggle-on');
              $("#tg-sb-icon").toggleClass('fa-toggle-off');
          });
      });
  </script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-81697994-3"></script>
  <script>
  if (document.location.hostname === "docs.netapp.com") {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-81697994-3');
  }
  </script>
</head>


  <body class role="document">
    <div id="page" class="n-off-canvas-menu">
      <div class="n-off-canvas-menu__menu"><!--TODO: Add offcanvas code --></div>
      <div class="n-off-canvas-menu__content-wrap">
        <header class="site-header" id="banner">
  <!-- Start top_hat -->
  <div class="n-top-hat">
    <div class="n-container">
      <div class="n-top-hat__cross-property-nav">
        <ul class="n-top-hat__list">
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/products-a-z/" class="n-top-hat__link">Product and Solutions</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/support-and-training/netapp-university/" class="n-top-hat__link">Support and Training</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://cloud.netapp.com" class="n-top-hat__link">Cloud Central</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://community.netapp.com/" class="n-top-hat__link">Community</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://blog.netapp.com/" class="n-top-hat__link">Blog</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://customers.netapp.com/en/" class="n-top-hat__link">Customer Stories</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/us/contact-us/index.aspx" target="_self" class="n-top-hat__link" data-ntap-ui="contact-us">Contact</a>
          </li>
        </ul>
      </div>
      <div class="n-top-hat__utils">
        <ul class="n-top-hat__list">
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/us/contact-us/index.aspx" target="_self" class="n-top-hat__link" data-ntap-ui="contact-us">Contact</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <!-- End top_hat -->

  <!-- Start property bar -->
  <style>
    .n-property-navigation-bar__menus--desktop-experience .n-menu--mega__default-content__heading span {
    color: #34B0FF;
    }
  </style>
  <div class="n-property-bar " data-ntap-ui="sticky-nav">
    <div class="n-property-bar__inner-wrap">
      <div class="n-property-bar__menu-toggle">
        <a href="#" class="n-property-bar__menu-toggle-link">
          <span class="n-property-bar__menu-toggle-text">Menu</span>
          <svg class="n-icon-bars n-property-bar__menu-toggle-icon" aria-labelledby="title">
            <title>bars</title>
            <use xlink:href="/us-en/ontap-metrocluster/common/svg/sprite.svg#bars"></use>
          </svg>
        </a>
      </div>
      <div class="n-property-bar__property-mark ">
        <a href="https://www.netapp.com" class="n-property-bar__property-link">
          <div class="n-property-bar__logo">
            <svg class="n-icon-netapp-mark n-icon-netapp-mark n-property-bar__netapp-mark-icon" aria-labelledby="title">
              <title>netapp-mark</title>
              <use xlink:href="/us-en/ontap-metrocluster/common/svg/sprite.svg#netapp-mark"></use>
            </svg>
            <svg class="n-icon-netapp-logo n-property-bar__logo-svg" aria-labelledby="title">
              <title>netapp-logo</title>
              <use xlink:href="/us-en/ontap-metrocluster/common/svg/sprite.svg#netapp-logo"></use>
            </svg>
          </div>
        </a>
      </div>

      
      <div class="search-property-bar">
        <div id="search-demo-container" class="searchbox n-property-bar__search">
          <div id="react-search" data-type="widget" data-placeholder="Search Documentation" data-no-results-found="No results were found for {query}" data-did-you-mean="Search for {suggestion}." data-no-results-found-did-you-mean="No results found for {query}. Did you mean {suggestion}?" data-results-found="{hitCount} results found"  ></div>
          <button class="n-property-bar__search-toggle-button" type="button">
            <svg class="n-icon-search n-property-bar__search-toggle-button-icon" aria-labelledby="title">
              <title>search</title>
              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-metrocluster/common/svg/sprite.svg#search"></use>
            </svg>
          </button>
        </div>
      </div>
      
    </div>
  </div>
  <div class="n-property-bar__toolbar"><!-- Start Language Selector --><!-- End Language Selector -->

    <div class="n-property-bar__cta"></div>
  </div>
  <script>
    $(function(){
        var currentLocalization = $('html').attr('lang');

        var localizationsDictionary = {
            "en-CA" : "https://www.netapp.com/search/index.aspx?for_cr=canada&",
            "en-IN" : "https://www.netapp.com/search/index.aspx?for_cr=india&",
            "nl-NL" : "https://www.netapp.com/search/index.aspx?for_cr=netherlands&",
            "ru-RU" : "https://www.netapp.com/search/index.aspx?for_cr=russia&",
            "sv-SE" : "https://www.netapp.com/search/index.aspx?for_cr=sweden&",
            "it-IT" : "https://www.netapp.com/search/index.aspx?for_cr=italy&",
            "he-IL" : "https://www.netapp.com/search/index.aspx?for_cr=israel&",
            "ko-KR" : "https://www.netapp.com/search/index.aspx?for_cr=korea&",
            "zh-TW" : "https://www.netapp.com/search/index.aspx?for_cr=taiwan&",
            "en-GB" : "https://www.netapp.com/search/index.aspx?for_cr=unitedkingdom&",
            "en-SG" : "https://www.netapp.com/search/index.aspx?for_cr=asean&",
            "en-AU" : "https://www.netapp.com/search/index.aspx?for_cr=australia&",
            "pt-BR" : "https://www.netapp.com/search/index.aspx?for_cr=brasil&",
            "de-CH" : "https://www.netapp.com/search/index.aspx?for_cr=switzerland&",
            "es-MX" : "https://www.netapp.com/search/index.aspx?for_cr=mexico&"
        };

        if($('html').hasClass('ntap-whitelisted') && localizationsDictionary.hasOwnProperty(currentLocalization)) {
            $('.n-property-bar__property-link').attr('href', '/');
        }
    });
  </script>
  <!-- End property bar -->
</header>

        <div class="ie-utility">
  <div class="ie-menu">
    <div class="n-breadcrumb">
      <ul class="n-breadcrumb__list">
        <li class="n-breadcrumb__list-item">
          <a href="https://www.netapp.com">Home</a>
        </li>
        <li class="n-breadcrumb__list-item">
          <a href="https://docs.netapp.com">Documentation</a>
        </li>
        

        <li class="n-breadcrumb__list-item">
          <a href="/us-en/ontap-metrocluster/">ONTAP&nbsp;MetroCluster</a>
        </li>
        <li class="n-breadcrumb__list-item">
          Configuring the MetroCluster software in ONTAP
        </li>
      </ul>
    </div>

    <div style="clear: both"></div><!-- Main needs to have height -->
  </div>
</div>


        <main id="n-main-content" class="n-main-content">
          <!-- Start Documentation Content -->
<div class="ie-main">
  <!-- Sidebar Column -->
  
  <div class="col-md-3" >
      <div class="n-pdf-header">
  <a id="toggleButtonPdf" class="n-pdf-button" type="button">PDFs<span>
    </span>
  </a>
</div>
<ul id="toggleContainerPdf" class="n-pdf-body" style="display:none;"><div class="n-pdf-section">
      <span class="n-pdf-section-title">Site</span>
    </div>
    <li>
      <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/fullsite-sidebar/MetroCluster_Documentation.pdf" >
        <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
        MetroCluster Documentation
      </a>
    </li>





    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              Sections
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Install_a_fabric_attached_MetroCluster.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Install a fabric-attached MetroCluster
          </a>
        </li>
        <span>
          







    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Cabling_a_fabric_attached_MetroCluster_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Cabling a fabric-attached MetroCluster configuration
          </a>
        </li>
        <span>
          

    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Parts_of_a_fabric_MetroCluster_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Parts of a fabric MetroCluster configuration
          </a>
        </li>
        <span>
          










          
        </span>
      </span>
    

  







    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Installing_and_cabling_MetroCluster_components.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Installing and cabling MetroCluster components
          </a>
        </li>
        <span>
          






















          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Configuring_the_FC_switches.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Configuring the FC switches
          </a>
        </li>
        <span>
          

    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Configuring_Brocade_FC_switches_with_RCF_files.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Configuring Brocade FC switches with RCF files
          </a>
        </li>
        <span>
          








          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Configuring_the_Cisco_FC_switches_with_RCF_files.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Configuring the Cisco FC switches with RCF files
          </a>
        </li>
        <span>
          








          
        </span>
      </span>
    

  








          
        </span>
      </span>
    

  






          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Configuring_hardware_for_sharing_a_Brocade_6510_FC_fabric_during_transition.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Configuring hardware for sharing a Brocade 6510 FC fabric during transition
          </a>
        </li>
        <span>
          







    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Configuring_switch_fabrics_sharing_between_the_7_Mode_and_clustered_MetroCluster_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Configuring switch fabrics sharing between the 7-Mode and clustered MetroCluster configuration
          </a>
        </li>
        <span>
          










          
        </span>
      </span>
    

  




          
        </span>
      </span>
    

  











    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Planning_and_installing_a_MetroCluster_configuration_with_array_LUNs.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Planning and installing a MetroCluster configuration with array LUNs
          </a>
        </li>
        <span>
          







    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Installing_and_cabling_the_MetroCluster_components_in_a_configuration_with_array_LUNs.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Installing and cabling the MetroCluster components in a configuration with array LUNs
          </a>
        </li>
        <span>
          







    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Cabling_the_FC_VI_and_HBA_ports_in_a_MetroCluster_configuration_with_array_LUNs.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Cabling the FC-VI and HBA ports in a MetroCluster configuration with array LUNs
          </a>
        </li>
        <span>
          








          
        </span>
      </span>
    

  













    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Cabling_storage_arrays_to_FC_switches_in_a_MetroCluster_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Cabling storage arrays to FC switches in a MetroCluster configuration
          </a>
        </li>
        <span>
          








          
        </span>
      </span>
    

  




          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Switch_zoning_in_a_MetroCluster_configuration_with_array_LUNs.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Switch zoning in a MetroCluster configuration with array LUNs
          </a>
        </li>
        <span>
          










          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Setting_up_ONTAP_in_a_MetroCluster_configuration_with_array_LUNs.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Setting up ONTAP in a MetroCluster configuration with array LUNs
          </a>
        </li>
        <span>
          




















          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Implementing_a_MetroCluster_configuration_with_both_disks_and_array_LUNs.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Implementing a MetroCluster configuration with both disks and array LUNs
          </a>
        </li>
        <span>
          








          
        </span>
      </span>
    

  




          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Using_the_Active_IQ_Unified_Manager_and_ONTAP_System_Manager_for_further_configuration_and_monitoring.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Using the Active IQ Unified Manager and ONTAP System Manager for further configuration and monitoring
          </a>
        </li>
        <span>
          




          
        </span>
      </span>
    

  








          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              Sections
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Install_a_MetroCluster_IP_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Install a MetroCluster IP configuration
          </a>
        </li>
        <span>
          



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Preparing_for_the_MetroCluster_installation.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Preparing for the MetroCluster installation
          </a>
        </li>
        <span>
          




























          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Configuring_the_MetroCluster_hardware_components.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Configuring the MetroCluster hardware components
          </a>
        </li>
        <span>
          














          
        </span>
      </span>
    

  


    <div class="n-pdf-section">
  <span class="n-pdf-section-title">This page</span>
</div>

<li class="active">
  <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/pages/install-ip/concept_configure_the_mcc_software_in_ontap.pdf" >
    <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
    Configuring the MetroCluster software in ONTAP
  </a>
</li>


  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Configuring_the_ONTAP_Mediator_service_for_unplanned_automatic_switchover.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Configuring the ONTAP Mediator service for unplanned automatic switchover
          </a>
        </li>
        <span>
          
















          
        </span>
      </span>
    

  












          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              Sections
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Install_a_stretch_MetroCluster_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Install a stretch MetroCluster configuration
          </a>
        </li>
        <span>
          







    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Cabling_a_two_node_SAS_attached_stretch_MetroCluster_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Cabling a two-node SAS-attached stretch MetroCluster configuration
          </a>
        </li>
        <span>
          





    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Installing_and_cabling_MetroCluster_components_for_two_node_SAS_attached_stretch_configurations.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Installing and cabling MetroCluster components for two-node SAS-attached stretch configurations
          </a>
        </li>
        <span>
          










          
        </span>
      </span>
    

  




          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Cabling_a_two_node_bridge_attached_stretch_MetroCluster_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Cabling a two-node bridge-attached stretch MetroCluster configuration
          </a>
        </li>
        <span>
          







    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Installing_and_cabling_MetroCluster_components.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Installing and cabling MetroCluster components
          </a>
        </li>
        <span>
          










          
        </span>
      </span>
    

  






          
        </span>
      </span>
    

  









    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Connections_in_a_stretch_MetroCluster_configurations_with_array_LUNs.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Connections in a stretch MetroCluster configurations with array LUNs
          </a>
        </li>
        <span>
          








          
        </span>
      </span>
    

  





    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Using_the_Active_IQ_Unified_Manager_and_ONTAP_System_Manager_for_further_configuration_and_monitoring.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Using the Active IQ Unified Manager and ONTAP System Manager for further configuration and monitoring
          </a>
        </li>
        <span>
          




          
        </span>
      </span>
    

  










          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              Sections
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Maintain_the_MetroCluster_components.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Maintain the MetroCluster components
          </a>
        </li>
        <span>
          







    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Performing_FC_to_SAS_bridge_maintenance.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Performing FC-to-SAS bridge maintenance
          </a>
        </li>
        <span>
          






















          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Performing_FC_switch_maintenance_and_replacement.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Performing FC switch maintenance and replacement
          </a>
        </li>
        <span>
          






















          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Performing_IP_switch_maintenance_and_replacement.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Performing IP switch maintenance and replacement
          </a>
        </li>
        <span>
          










          
        </span>
      </span>
    

  







    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Hot_adding_storage_to_a_MetroCluster_FC_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Hot-adding storage to a MetroCluster FC configuration
          </a>
        </li>
        <span>
          



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Hot_adding_SAS_storage_to_a_bridge_attached_MetroCluster_FC_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Hot-adding SAS storage to a bridge-attached MetroCluster FC configuration
          </a>
        </li>
        <span>
          





    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Hot_adding_a_SAS_disk_shelf_to_a_stack_of_SAS_disk_shelves.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Hot-adding a SAS disk shelf to a stack of SAS disk shelves
          </a>
        </li>
        <span>
          






          
        </span>
      </span>
    

  






          
        </span>
      </span>
    

  




          
        </span>
      </span>
    

  























    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Port_assignments_for_FC_switches.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Port assignments for FC switches
          </a>
        </li>
        <span>
          








          
        </span>
      </span>
    

  








          
        </span>
      </span>
    

  





    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              Sections
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Performing_switchover__healing__and_switchback.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Performing switchover, healing, and switchback
          </a>
        </li>
        <span>
          

    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Performing_switchover_for_tests_or_maintenance.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Performing switchover for tests or maintenance
          </a>
        </li>
        <span>
          











    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Healing_the_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Healing the configuration
          </a>
        </li>
        <span>
          

    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Healing_the_configuration_in_a_MetroCluster_FC_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Healing the configuration in a MetroCluster FC configuration
          </a>
        </li>
        <span>
          






          
        </span>
      </span>
    

  






          
        </span>
      </span>
    

  








          
        </span>
      </span>
    

  












          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              Sections
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Install_and_Configure_MetroCluster_Tiebreaker.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Install and Configure MetroCluster Tiebreaker
          </a>
        </li>
        <span>
          




















          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              Sections
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Transition_from_MetroCluster_FC_to_MetroCluster_IP.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Transition from MetroCluster FC to MetroCluster IP
          </a>
        </li>
        <span>
          



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Transitioning_nondisruptively_from_a_MetroCluster_FC_to_a_MetroCluster_IP_configuration__ONTAP_9_8_and_later_.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Transitioning nondisruptively from a MetroCluster FC to a MetroCluster IP configuration (ONTAP 9.8 and later)
          </a>
        </li>
        <span>
          

    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Preparing_for_transition_from_a_MetroCluster_FC_to_a_MetroCluster_IP_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Preparing for transition from a MetroCluster FC to a MetroCluster IP configuration
          </a>
        </li>
        <span>
          
















          
        </span>
      </span>
    

  










          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Disruptively_transitioning_from_a_two_node_MetroCluster_FC_to_a_four_node_MetroCluster_IP_configuration__ONTAP_9_8_and_later_.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Disruptively transitioning from a two-node MetroCluster FC to a four-node MetroCluster IP configuration (ONTAP 9.8 and later)
          </a>
        </li>
        <span>
          














          
        </span>
      </span>
    

  














          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              Sections
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Upgrade_or_expand_the_MetroCluster_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Upgrade or expand the MetroCluster configuration
          </a>
        </li>
        <span>
          











    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Expanding_a_two_node_MetroCluster_FC_configuration_to_a_four_node_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Expanding a two-node MetroCluster FC configuration to a four-node configuration
          </a>
        </li>
        <span>
          







    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Adding_a_new_controller_module_to_each_cluster.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Adding a new controller module to each cluster
          </a>
        </li>
        <span>
          













    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Installing_and_cabling_the_new_controller_module.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Installing and cabling the new controller module
          </a>
        </li>
        <span>
          






          
        </span>
      </span>
    

  

















    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Configuring_intercluster_LIFs.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Configuring intercluster LIFs
          </a>
        </li>
        <span>
          






          
        </span>
      </span>
    

  












          
        </span>
      </span>
    

  










          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Expanding_a_four_node_MetroCluster_FC_configuration_to_an_eight_node_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Expanding a four-node MetroCluster FC configuration to an eight-node configuration
          </a>
        </li>
        <span>
          











    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Recabling_and_zoning_a_switch_fabric_for_the_new_nodes.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Recabling and zoning a switch fabric for the new nodes
          </a>
        </li>
        <span>
          






          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Configuring_ONTAP_on_the_new_controllers.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Configuring ONTAP on the new controllers
          </a>
        </li>
        <span>
          











    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Configuring_the_clusters_into_a_MetroCluster_configuration.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Configuring the clusters into a MetroCluster configuration
          </a>
        </li>
        <span>
          

    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Configuring_intercluster_LIFs.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Configuring intercluster LIFs
          </a>
        </li>
        <span>
          






          
        </span>
      </span>
    

  
















          
        </span>
      </span>
    

  




          
        </span>
      </span>
    

  










          
        </span>
      </span>
    

  










          
        </span>
      </span>
    

  



    
      <span class="subfolders" style="display:none;">
        
          <div class="n-pdf-section">
            <span class="n-pdf-section-title">
              Sections
            </span>
          </div>
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Disaster_Recovery.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Disaster Recovery
          </a>
        </li>
        <span>
          







    
      <span class="subfolders" style="display:none;">
        
        <li>
          <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/sidebar/Recovering_from_a_multi_controller_or_storage_failure.pdf" >
            <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>
            Recovering from a multi-controller or storage failure
          </a>
        </li>
        <span>
          












          
        </span>
      </span>
    

  






          
        </span>
      </span>
    

  




</ul>

<script>
  $("#toggleContainerPdf li.active").parents('li').toggle('display');
  $("#toggleContainerPdf li.active").parents('span.subfolders').toggle('display');
  $("#toggleButtonPdf").click(function () {
    $("#toggleContainerPdf").toggle('display');
  });
</script><ul id="mysidebar" class="nav"><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/index.html">
        MetroCluster
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/releasenotes.html">
        Release Notes
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/index.html">
        <div class="na-navbar-padding"> Install a fabric-attached MetroCluster</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_deciding_whether_to_use_this_guide_fabric_attached_mcc_installation_and_configuration_guide.html">
        Deciding whether to use the Fabric-attached MetroCluster Installation and Configuration Guide
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_prepare_for_the_mcc_installation.html">
        Preparing for the MetroCluster installation
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_choosing_the_correct_installation_procedure_for_your_configuration_mcc_install.html">
        Choosing the correct installation procedure for your configuration
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/task_configure_the_mcc_hardware_components_fabric.html">
        <div class="na-navbar-padding"> Cabling a fabric-attached MetroCluster configuration</div>
      </a>
      <ul><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/concept_parts_of_a_fabric_mcc_configuration.html">
        <div class="na-navbar-padding"> Parts of a fabric MetroCluster configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_illustration_of_the_local_ha_pairs_in_a_mcc_configuration.html">
        Illustration of the local HA pairs in a MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_illustration_of_redundant_fc_to_sas_bridges.html">
        Illustration of redundant FC-to-SAS bridges
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_redundant_fc_switch_fabrics.html">
        Redundant FC switch fabrics
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_cluster_peering_network_mcc.html">
        Illustration of the cluster peering network
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_required_mcc_components_and_naming_conventions_fabric_mcc.html">
        Required MetroCluster FC components and naming conventions
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/reference_configuration_gathering_worksheet_for_fc_switches_and_fc_to_sas_bridges.html">
        Configuration worksheet for FC switches and FC-to-SAS bridges
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/task_install_and_cable_the_mcc_components.html">
        <div class="na-navbar-padding"> Installing and cabling MetroCluster components</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_rack_the_hardware_components_mcc_fabric_and_ip.html">
        Racking the hardware components
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_controller_module_s_fc_vi_hba_ports_to_the_fc_switches_controller_to_fc_sw.html">
        Cabling the new controller module&#8217;s FC-VI and HBA ports to the FC switches
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_isl_between_the_mcc_sites_fabric_config.html">
        Cabling the ISLs between MetroCluster sites
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_port_assignments_for_systems_using_two_initiator_ports.html">
        Port assignments for systems using two initiator ports
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_port_assignments_for_fc_switches_when_using_ontap_9_0.html">
        Port assignments for FC switches when using ONTAP 9.0
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_port_assignments_for_fc_switches_when_using_ontap_9_1_and_later.html">
        Port assignments for FC switches when using ONTAP 9.1 and later
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_cluster_interconnect_in_four_node_configurations.html">
        Cabling the cluster interconnect in eight- or four-node configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_cluster_peering_connections.html">
        Cabling the cluster peering connections
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_ha_interconnect.html">
        Cabling the HA interconnect, if necessary
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_management_and_data_connections.html">
        Cabling the management and data connections
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/task_fcsw_configure_the_fc_switches_choice_topic.html">
        <div class="na-navbar-padding"> Configuring the FC switches</div>
      </a>
      <ul><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/task_fcsw_brocade_configure_the_brocade_fc_switches_with_rcf_files.html">
        <div class="na-navbar-padding"> Configuring Brocade FC switches with RCF files</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_reset_the_brocade_fc_switch_to_factory_defaults.html">
        Resetting the Brocade FC switch to factory defaults
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_download_the_brocade_fc_rcf_switch_software.html">
        Downloading the Brocade FC switch RCF file
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_install_the_brocade_fc_switch_rcf_file.html">
        Installing the Brocade FC switch RCF file
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/generaltask_fcsw_cisco_configure_the_cisco_fc_switches_with_rcf_files.html">
        <div class="na-navbar-padding"> Configuring the Cisco FC switches with RCF files</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_reset_the_cisco_fc_switch_to_factory_defaults.html">
        Resetting the Cisco FC switch to factory defaults
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_download_and_install_the_cisco_fc_switch_software.html">
        Downloading and installing the Cisco FC switch NX-OS software
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_download_and_install_the_cisco_fc_switch_rcf_files.html">
        Downloading and installing the Cisco FC RCF files
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_fcsw_brocade_configure_the_brocade_fc_switches_supertask.html">
        Configuring the Brocade FC switches manually
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_fcsw_cisco_configure_a_cisco_switch_supertask.html">
        Configuring the Cisco FC switches nanually
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_fb_new_install.html">
        Installing FC-to-SAS bridges and SAS disk shelves
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/task_fmc_mcc_transition_configure_the_mcc_hardware_for_share_a_7_mode_brocade_6510_fc_fabric_dure_transition.html">
        <div class="na-navbar-padding"> Configuring hardware for sharing a Brocade 6510 FC fabric during transition</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_fcsw_brocade_reviewing_brocade_license_requirements.html">
        Reviewing Brocade license requirements
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_rack_the_hardware_components_mcc_fabric_and_ip.html">
        Racking the hardware components
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_fmc_mcc_transition_cable_the_new_mcc_controllers_to_the_exist_fc_fabrics.html">
        Cabling the new MetroCluster controllers to the existing FC fabrics
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/task_fmc_mcc_transition_configure_a_switch_fabric_for_shar_with_the_7_mode_and_clustered_mcc_configuration.html">
        <div class="na-navbar-padding"> Configuring switch fabrics sharing between the 7-Mode and clustered MetroCluster configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_fmc_mcc_transition_disable_one_of_the_switch_fabrics.html">
        Disabling one of the switch fabrics
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_fmc_mcc_transition_configure_zone_and_qos.html">
        Deleting TI zoning and configuring IOD settings
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_fmc_mcc_transition_ensure_isls_are_in_the_same_port_group_and_configure_zon.html">
        Ensuring ISLs are in the same port group and configuring zoning
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_fmc_mcc_transition_reenable_the_switch_fabric_and_verify_operation.html">
        Reenabling the switch fabric and verify operation
      </a></li></ul></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_configure_the_mcc_software_in_ontap.html">
        Configuring the MetroCluster software in ONTAP
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_considerations_for_using_virtual_ip_and_border_gateway_protocol_with_a_mcc_configuration.html">
        Considerations for using virtual IP and Border Gateway Protocol with a MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_test_the_mcc_configuration.html">
        Testing the MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_considerations_when_removing_mcc_configurations.html">
        Considerations when removing MetroCluster configurations
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/concept_planning_and_installing_a_mcc_configuration_with_array_luns.html">
        <div class="na-navbar-padding"> Planning and installing a MetroCluster configuration with array LUNs</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_planning_for_a_mcc_configuration_with_array_luns.html">
        Planning for a MetroCluster configuration with array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/reference_supported_mcc_configuration_with_array_luns.html">
        Supported MetroCluster configuration with array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/reference_requirements_for_a_mcc_configuration_with_array_luns_reference.html">
        Requirements for a MetroCluster configuration with array LUNs
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/task_install_and_cable_the_mcc_components_in_a_configuration_with_array_luns.html">
        <div class="na-navbar-padding"> Installing and cabling the MetroCluster components in a configuration with array LUNs</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_rack_the_hardware_components_in_a_mcc_configuration_with_array_luns.html">
        Racking the hardware components in a MetroCluster configuration with array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_prepare_a_storage_array_for_use_with_ontap_systems.html">
        Preparing a storage array for use with ONTAP systems
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_switch_ports_required_for_a_eight_node_mcc_configuration_with_array_luns.html">
        Switch ports required for a MetroCluster configuration with array LUNs
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/task_cable_the_fc_vi_and_hba_ports_in_a_mcc_configuration_with_array_luns.html">
        <div class="na-navbar-padding"> Cabling the FC-VI and HBA ports in a MetroCluster configuration with array LUNs</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_fc_vi_and_hba_ports_to_switches_in_a_two_node_fabric_attached_mcc_configuration_with_array_luns.html">
        Cabling the FC-VI and HBA ports in a two-node fabric-attached MetroCluster configuration with array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_fc_vi_and_hba_ports_to_switches_in_a_four_node_fabric_attached_mcc_configuration_with_array_luns.html">
        Cabling the FC-VI and HBA ports in a four-node fabric-attached MetroCluster configuration with array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_fc_vi_and_hba_ports_to_switches_in_an_eight_node_fabric_attached_mcc_configuration_with_array_luns.html">
        Cabling the FC-VI and HBA ports in an eight-node fabric-attached MetroCluster configuration with array LUNs
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_isls_in_a_mcc_configuration_with_array_luns.html">
        Cabling the ISLs in a MetroCluster configuration with array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_cluster_interconnect_in_four_node_configurations.html">
        Cabling the cluster interconnect in eight- or four-node configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_cluster_peering_connections.html">
        Cabling the cluster peering connections
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_ha_interconnect.html">
        Cabling the HA interconnect, if necessary
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_cable_the_management_and_data_connections.html">
        Cabling the management and data connections
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/task_cable_storage_arrays_to_fc_switches_in_a_mcc_configuration.html">
        <div class="na-navbar-padding"> Cabling storage arrays to FC switches in a MetroCluster configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/reference_example_of_cabling_array_luns_to_fc_switches_in_a_two_node_mcc_configuration.html">
        Example of cabling storage array ports to FC switches in a two-node MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/reference_example_of_cabling_array_luns_to_fc_switches_in_a_four_node_mcc_configuration.html">
        Example of cabling storage array ports to FC switches in a four-node MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/reference_example_of_cabling_array_luns_to_fc_switches_in_an_eight_node_mcc_configuration.html">
        Example of cabling storage array ports to FC switches in an eight-node MetroCluster configuration
      </a></li></ul></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/concept_switch_zoning_in_a_mcc_configuration_with_array_luns.html">
        <div class="na-navbar-padding"> Switch zoning in a MetroCluster configuration with array LUNs</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/reference_requirements_for_switch_zoning_in_a_mcc_configuration_with_array_luns.html">
        Requirements for switch zoning in a MetroCluster configuration with array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_example_of_switch_zoning_in_a_two_node_mcc_configuration_with_array_luns.html">
        Example of switch zoning in a two-node MetroCluster configuration with array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_example_of_switch_zoning_in_a_four_node_mcc_configuration_with_array_luns.html">
        Example of switch zoning in a four-node MetroCluster configuration with array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_example_of_switch_zoning_in_an_eight_node_mcc_configuration_with_array_luns.html">
        Example of switch zoning in an eight-node MetroCluster configuration with array LUNs
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/task_configure_ontap_in_a_mcc_configuration_with_array_luns.html">
        <div class="na-navbar-padding"> Setting up ONTAP in a MetroCluster configuration with array LUNs</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_verify_the_ha_state_of_components_is_mcc_or_mcc_2n_in_maintenance_mode.html">
        Verifying and configuring the HA state of components in Maintenance mode
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_configure_ontap_on_a_system_that_uses_only_array_luns.html">
        Configuring ONTAP on a system that uses only array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_setting_up_the_cluster.html">
        Setting up the cluster
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_install_the_license_for_us_array_luns_in_a_mcc_configuration.html">
        Installing the license for using array LUNs in a MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_configure_fc_vi_ports_on_a_x1132a_r6_quad_port_card.html">
        Configuring FC-VI ports on a X1132A-R6 quad-port card on FAS8020 systems
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_assign_ownership_of_array_luns.html">
        Assigning ownership of array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_peer_the_clusters_mcc_with_array_luns.html">
        Peering the clusters
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_mirror_the_root_aggregates_mcc_with_array_luns.html">
        Mirroring the root aggregates
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_create_data_aggregates_and_implement_the_configuration_mcc_with_array_luns.html">
        Creating data aggregates on, implementing, and verifying the MetroCluster configuration
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/concept_implementing_a_mcc_configuration_with_both_disks_and_array_luns.html">
        <div class="na-navbar-padding"> Implementing a MetroCluster configuration with both disks and array LUNs</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_considerations_for_implementing_a_mcc_configuration_with_disks_and_array_luns.html">
        Considerations when implementing a MetroCluster configuration with disks and array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/reference_example_of_a_two_node_fabric_attached_mcc_configuration_with_disks_and_array_luns.html">
        Example of a two-node fabric-attached MetroCluster configuration with disks and array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_example_of_a_four_node_mcc_configuration_with_disks_and_array_luns.html">
        Example of a four-node MetroCluster configuration with disks and array LUNs
      </a></li></ul></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-fc/concept_using_the_oncommand_management_tools_for_further_configuration_and_monitoring.html">
        <div class="na-navbar-padding"> Using the Active IQ Unified Manager and ONTAP System Manager for further configuration and monitoring</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/task_synchronize_the_system_time_us_ntp.html">
        Synchronizing the system time using NTP
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/concept_considerations_when_using_ontap_in_a_mcc_configuration.html">
        Considerations when using ONTAP in a MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-fc/reference_where_to_find_additional_information_icg.html">
        Where to find additional information
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-ip/index.html">
        <div class="na-navbar-padding"> Install a MetroCluster IP configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_deciding_whether_to_use_this_guide_mcc_ip_installation_and_configuration_guide.html">
        Deciding whether to use the MetroCluster IP Installation and Configuration Guide
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-ip/concept_prepare_for_the_mcc_installation.html">
        <div class="na-navbar-padding"> Preparing for the MetroCluster installation</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_differences.html">
        Differences among the ONTAP MetroCluster configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_mediator.html">
        Deciding between ONTAP Mediator and MetroCluster Tiebreaker
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_mcip.html">
        Considerations for MetroCluster IP configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_drive_assignment.html">
        Automatic drive assignment and ADP systems in ONTAP 9.4 and later
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_peering.html">
        Cluster peering
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_isls.html">
        ISL requirements
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_layer_3.html">
        Using layer 3 wide-area networks
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_layer_2.html">
        Sharing private layer 2 networks
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_mc_compliant_switches.html">
        Using MetroCluster-compliant switches
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_tdm_encryption.html">
        Using TDM/xWDM and encryption equipment with MetroCluster IP configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_unmirrored_aggrs.html">
        Unmirrored aggregates in a MetroCluster IP configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_firewalls.html">
        Firewall usage at MetroCluster sites
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_for_using_virtual_ip_and_border_gateway_protocol_with_a_mcc_configuration.html">
        Considerations for using virtual IP and Border Gateway Protocol with a MetroCluster configuration
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-ip/task_configure_the_mcc_hardware_components_mcc_ip.html">
        <div class="na-navbar-padding"> Configuring the MetroCluster hardware components</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_parts_of_an_ip_mcc_configuration_mcc_ip.html">
        Parts of a MetroCluster IP configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_required_mcc_ip_components_and_naming_guidelines_mcc_ip.html">
        Required MetroCluster IP components and naming conventions
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/task_rack_hw_components.html">
        Rack the hardware components
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/task_cable_ip_switches.html">
        Cable the MetroCluster IP switches
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/task_cable_other_connections.html">
        Cable the controller data and management ports
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/task_install_and_cable_the_mcc_components.html">
        Configure the MetroCluster IP switches
      </a></li></ul></li><li class="  active "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_configure_the_mcc_software_in_ontap.html">
        Configuring the MetroCluster software in ONTAP
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-ip/concept_configure_the_ontap_mediator_for_unplanned_automatic_switchover.html">
        <div class="na-navbar-padding"> Configuring the ONTAP Mediator service for unplanned automatic switchover</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_mediator_requirements.html">
        Preparing to install the ONTAP Mediator service
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/task_install_configure_mediator.html">
        Installing or upgrading the ONTAP Mediator service
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/task_configuring_the_ontap_mediator_service_from_a_metrocluster_ip_configuration.html">
        Configuring the ONTAP Mediator service from a MetroCluster IP configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/task_connecting_mcc_to_different_mediator_instance.html">
        Connecting a MetroCluster configuration to a different ONTAP Mediator instance
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/task_changing_mediator_password.html">
        Changing the ONTAP Mediator password
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/task_changing_mediator_username.html">
        Changing the ONTAP Mediator user name
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/task_uninstall_mediator.html">
        Uninstalling the ONTAP Mediator service
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/task_test_the_mcc_configuration.html">
        Testing the MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_when_removing_mcc_configurations.html">
        Considerations when removing MetroCluster configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/concept_considerations_when_using_ontap_in_a_mcc_configuration.html">
        Considerations when using ONTAP in a MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-ip/reference_where_to_find_additional_information_mccip_icg.html">
        Where to find additional information
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-stretch/index.html">
        <div class="na-navbar-padding"> Install a stretch MetroCluster configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/concept_deciding_whether_to_use_this_guide_stretch_mcc_installation_and_configuration_guide.html">
        Deciding whether to use the Stretch MetroCluster Installation and Configuration Guide
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/concept_preparing_for_the_mcc_installation.html">
        Preparing for the MetroCluster installation
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/concept_choosing_the_correct_installation_procedure_for_your_configuration_mcc_install.html">
        Choosing the correct installation procedure for your configuration
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-stretch/task_configure_the_mcc_hardware_components_2_node_stretch_sas.html">
        <div class="na-navbar-padding"> Cabling a two-node SAS-attached stretch MetroCluster configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/concept_parts_of_a_two_node_sas_attached_stretch_mcc_configuration.html">
        Parts of a two-node SAS-attached stretch MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/concept_required_mcc_components_and_example_names_for_two_node_sas_attached_stretch_configurations_mcc.html">
        Required MetroCluster hardware components and naming guidelines for two-node SAS-attached stretch configurations
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-stretch/reference_sas_optical_mc_configuring_a_stretch_mcc_system_with_sas_disk_shelves_and_sas_optical_cables.html">
        <div class="na-navbar-padding"> Installing and cabling MetroCluster components for two-node SAS-attached stretch configurations</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_rack_the_hardware_components_2_node_stretch_sas.html">
        Racking the hardware components
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_cable_the_controllers_to_each_other_and_the_storage_shelves.html">
        Cabling the controllers to each other and the storage shelves
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_cable_the_cluster_peering_connections.html">
        Cabling the cluster peering connections
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_cable_the_management_and_data_connections.html">
        Cabling the management and data connections
      </a></li></ul></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-stretch/task_configure_the_mcc_hardware_components_2_node_stretch_atto.html">
        <div class="na-navbar-padding"> Cabling a two-node bridge-attached stretch MetroCluster configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/concept_parts_of_a_two_node_mcc_configuration_using_fc_to_sas_bridges.html">
        Parts of a two-node bridge-attached stretch MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/concept_required_mcc_components_and_naming_conventions_for_two_node_bridge_attached_stretch_configurations_mcc.html">
        Required MetroCluster hardware components and naming conventions for two-node bridge-attached stretch configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/reference_information_gathering_worksheet_for_fc_to_sas_bridges_2_node_atto.html">
        Information gathering worksheet for FC-to-SAS bridges
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-stretch/task_install_and_cable_the_mcc_components.html">
        <div class="na-navbar-padding"> Installing and cabling MetroCluster components</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_rack_the_hardware_components_mcc_2_node_stretch_atto.html">
        Racking the hardware components
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_cable_the_fc_vi_adapters_to_the_partner_controller_2_node_stretch_atto.html">
        Cabling the controllers to each other
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_cable_the_cluster_peering_connections.html">
        Cabling the cluster peering connections
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_cable_the_management_and_data_connections.html">
        Cabling the management and data connections
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_fb_new_install.html">
        Installing FC-to-SAS bridges and SAS disk shelves
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/concept_configuring_the_mcc_software_in_ontap.html">
        Configuring the MetroCluster software in ONTAP
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/concept_considerations_for_using_virtual_ip_and_border_gateway_protocol_with_a_mcc_configuration.html">
        Considerations for using virtual IP and Border Gateway Protocol with a MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_test_the_mcc_configuration.html">
        Testing the MetroCluster configuration
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-stretch/concept_stretch_mcc_configuration_with_array_luns.html">
        <div class="na-navbar-padding"> Connections in a stretch MetroCluster configurations with array LUNs</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/reference_example_of_a_stretch_mcc_configuration_with_array_luns.html">
        Example of a stretch MetroCluster configuration with array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/reference_examples_of_two_node_stretch_mcc_configurations_with_disks_and_array_luns.html">
        Examples of two-node stretch MetroCluster configurations with disks and array LUNs
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/reference_example_of_a_stretch_mcc_configuration_with_e_series_storage_arrays.html">
        Example of a stretch MetroCluster configuration with E-Series storage arrays
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/concept_considerations_when_removing_mcc_configurations.html">
        Considerations when removing MetroCluster configurations
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/install-stretch/concept_using_the_oncommand_management_tools_for_further_configuration_and_monitoring.html">
        <div class="na-navbar-padding"> Using the Active IQ Unified Manager and ONTAP System Manager for further configuration and monitoring</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_synchronize_the_system_time_us_ntp.html">
        Synchronizing the system time using NTP
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/concept_considerations_when_using_ontap_in_a_mcc_configuration.html">
        Considerations when using ONTAP in a MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/task_upgrade_the_configuration_to_fabric_attached_mcc.html">
        Transitioning from a stretch to a fabric-attached MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/install-stretch/reference_where_to_find_additional_information_icg.html">
        Where to find additional information
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/maintain/index.html">
        <div class="na-navbar-padding"> Maintain the MetroCluster components</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/concept_deciding_whether_to_use_this_guide_mcc_service_guide.html">
        Deciding whether to use the MetroCluster Maintenance Guide
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/concept_where_to_find_procedures_for_mcc_maintenance_tasks.html">
        Where to find procedures for MetroCluster maintenance tasks
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/reference_mcc_failure_scenarios.html">
        MetroCluster failure and recovery scenarios
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/maintain/concept_performing_fc_to_sas_bridge_maintenance.html">
        <div class="na-navbar-padding"> Performing FC-to-SAS bridge maintenance</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/concept_using_fibrebridge_7600n_bridges_in_mcc_configurations.html">
        Support for FibreBridge 7600N bridges in MetroCluster configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/concept_using_fibrebridge_7500n_bridges_in_mcc_configurations.html">
        Support for FibreBridge 7500N bridges in MetroCluster configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_enable_ip_port_access_on_the_fibrebridge_7600n_bridge_guides.html">
        Enabling IP port access on the FibreBridge 7600N bridge if necessary
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_update_firmware_on_a_fibrebridge_bridge_parent_topic.html">
        Updating firmware on a FibreBridge bridge
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_replace_a_sle_fc_to_sas_bridge.html">
        Replacing a single FC-to-SAS bridge
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_fb_consolidate_replace_a_pair_of_fibrebridge_6500n_bridges_with_7500n_bridges.html">
        Replacing a pair of FibreBridge 6500N bridges with 7600N or 7500N bridges
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/reference_requirements_for_using_other_interfaces_to_configure_and_manage_fibrebridge_bridges.html">
        Requirements for using other interfaces to configure and manage FibreBridge bridges
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/reference_fb_replace_a_power_supply.html">
        Hot-replacing a failed power supply module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/concept_in_band_management_of_the_fc_to_sas_bridges.html">
        In-band management of the FC-to-SAS bridges
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_secur_or_unsecur_a_fibrebridge_bridge.html">
        Securing or unsecuring the FibreBridge bridge
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/maintain/concept_performing_fc_switch_maintenance.html">
        <div class="na-navbar-padding"> Performing FC switch maintenance and replacement</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_upgrade_or_downgrad_the_firmware_on_a_brocade_fc_switch_mcc.html">
        Upgrading or downgrading the firmware on a Brocade FC switch
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_upgrade_or_downgrad_the_firmware_on_a_cisco_fc_switch_mcc.html">
        Upgrading or downgrading the firmware on a Cisco FC switch
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_upgrade_to_new_brocade_switches.html">
        Upgrading to new Brocade FC switches
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_replace_a_brocade_fc_switch_mcc.html">
        Replacing a Brocade FC switch
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_rename_a_brocade_fc_switch.html">
        Renaming a Brocade FC switch
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_disable_encryption_on_brocade_fc_switches.html">
        Disabling encryption on Brocade FC switches
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_change_isl_properties_isl_ports_or_the_iod_ood_configuration_on_a_brocade_switch.html">
        Changing ISL properties, ISL ports, or the IOD/OOD configuration on a Brocade switch
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_replace_a_cisco_fc_switch_mcc.html">
        Replacing a Cisco FC switch
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_change_speed_of_isl_ports_on_a_cisco_fc_switch.html">
        Changing speed of ISL ports on a Cisco FC switch
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_add_lsls_to_a_cisco_fc_switch.html">
        Adding lSLs to a Cisco switch
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/maintain/concept_performing_ip_switch_maintenance.html">
        <div class="na-navbar-padding"> Performing IP switch maintenance and replacement</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_replace_an_ip_switch.html">
        Replacing an IP switch
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_upgrade_firmware_on_mcc_ip_switches.html">
        Upgrading firmware on MetroCluster IP switches
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_upgrade_rcf_files_on_mcc_ip_switches.html">
        Upgrading RCF files on MetroCluster IP switches
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_rename_a_cisco_ip_switch.html">
        Renaming a Cisco IP switch
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_add_remove_or_change_isl_ports_nondisruptively.html">
        Adding, removing, or changing ISL ports nondisruptively
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/concept_identifying_storage_in_a_mcc_ip_configuration.html">
        Identifying storage in a MetroCluster IP configuration
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/maintain/task_hot_add_storage_to_a_mcc_fc_configuration_container_topic.html">
        <div class="na-navbar-padding"> Hot-adding storage to a MetroCluster FC configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_hot_add_a_sas_disk_shelf_in_a_direct_attached_mcc_configuration_us_sas_optical_cables.html">
        Hot-adding a SAS disk shelf in a direct-attached MetroCluster FC configuration using SAS optical cables
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/maintain/concept_atto_mc_hot_adding_storage_shelves_to_a_bridge_attached_mcc_configuration.html">
        <div class="na-navbar-padding"> Hot-adding SAS storage to a bridge-attached MetroCluster FC configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_hot_add_a_stack_to_exist_7500n_pair.html">
        Hot-adding a stack of SAS disk shelves to an existing pair of FibreBridge 7500N bridges
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_fb_hot_add_stack_of_shelves_and_bridges.html">
        Hot-adding a stack of SAS disk shelves and bridges to a MetroCluster system
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/maintain/task_fb_hot_add_shelf.html">
        <div class="na-navbar-padding"> Hot-adding a SAS disk shelf to a stack of SAS disk shelves</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_fb_hot_add_shelf_prepare_7500n.html">
        Preparing to hot-add SAS disk shelves
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_fb_hot_add_a_disk_shelf_install_7500n.html">
        Hot-adding a disk shelf
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_hot_add_an_iom12_disk_shelf_to_a_stack_of_iom6_disk_shelves.html">
        Hot-adding an IOM12 disk shelf to a stack of IOM6 disk shelves in a bridge-attached MetroCluster configuration
      </a></li></ul></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_hot_remove_storage_from_a_mcc_fc_configuration.html">
        Hot-removing storage from a MetroCluster FC configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_replace_a_shelf_nondisruptively_in_a_stretch_mcc_configuration.html">
        Replacing a shelf nondisruptively in a stretch MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_replace_a_shelf_nondisruptively_in_a_mcc_fc_configuration.html">
        Replacing a shelf nondisruptively in a fabric-attached MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/concept_migrating_root_volumes_to_a_new_destination.html">
        When to migrate root volumes to a new destination
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_move_a_metadata_volume_in_mcc_configurations.html">
        Moving a metadata volume in MetroCluster configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_rename_the_cluster_for_mcc_configuration.html">
        Renaming a cluster in MetroCluster configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_power_on_and_power_off_a_data_center.html">
        Powering off and powering on a data center
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_power_off_an_entire_mcc_ip_configuration.html">
        Powering off an entire MetroCluster IP configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_power_off_an_entire_mcc_fc_configuration.html">
        Powering off an entire MetroCluster FC configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/task_do_not_use_for_9_8_and_later_reconfigure_the_fc_switch_layout_for_ontap_9_1_or_later.html">
        Reconfiguring an FC switch layout configured before ONTAP 9.x
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/maintain/concept_port_assignments_for_fc_switches_parent_topic.html">
        <div class="na-navbar-padding"> Port assignments for FC switches</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/concept_port_assignments_for_systems_using_two_initiator_ports.html">
        Port assignments for systems using two initiator ports
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/concept_port_assignments_for_fc_switches_when_using_ontap_9_0.html">
        Port assignments for FC switches when using ONTAP 9.0
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/concept_port_assignments_for_fc_switches_when_using_ontap_9_1_and_later.html">
        Port assignments for FC switches when using ONTAP 9.1 and later
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/concept_using_the_interoperability_matrix_tool_to_find_mcc_information.html">
        Using the Interoperability Matrix Tool to find MetroCluster information
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/maintain/reference_where_to_find_additional_information_mcc_service_guide.html">
        Where to find additional information
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/concept_understanding_mcc_data_protection_and_disaster_recovery.html">
        Understanding MetroCluster data protection and disaster recovery
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/manage/index.html">
        <div class="na-navbar-padding"> Performing switchover, healing, and switchback</div>
      </a>
      <ul><li class="subfolders "><a href="/us-en/ontap-metrocluster/manage/task_perform_switchover_for_tests_or_maintenance.html">
        <div class="na-navbar-padding"> Performing switchover for tests or maintenance</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/task_verifiy_that_your_system_is_ready_for_a_switchover.html">
        Verifying that your system is ready for a switchover
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/task_send_a_custom_autosupport_message_prior_to_negotiated_switchover.html">
        Sending a custom AutoSupport message prior to negotiated switchover
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/task_perform_a_negotiated_switchover.html">
        Performing a negotiated switchover
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/concept_output_for_storage_aggregate_plex_show_after_a_mcc_switchover.html">
        Output for the storage aggregate plex show command is indeterminate after a MetroCluster switchover
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/task_confirm_that_dr_partners_have_come_online.html">
        Confirming that the DR partners have come online
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/manage/task_heal_the_configuration_choice_task.html">
        <div class="na-navbar-padding"> Healing the configuration</div>
      </a>
      <ul><li class="subfolders "><a href="/us-en/ontap-metrocluster/manage/task_heal_the_configuration_in_a_mcc_fc_configuration_supertask.html">
        <div class="na-navbar-padding"> Healing the configuration in a MetroCluster FC configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/task_heal_the_data_aggregates_after_negotiated_switchover.html">
        Healing the data aggregates after negotiated switchover
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/task_heal_the_root_aggregates_after_negotiated_switchover.html">
        Healing the root aggregates after negotiated switchover
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/task_heal_the_configuration_in_a_mcc_ip_configuration_ontap_9_4_and_earlier.html">
        Healing the configuration in a MetroCluster IP configuration (ONTAP 9.4 and earlier)
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/task_perform_a_switchback.html">
        Performing a switchback
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/task_verify_a_successful_switchback.html">
        Verifying a successful switchback
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/reference_commands_for_switchover_healing_and_switchback.html">
        Commands for switchover, healing, and switchback
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/concept_monitoring_the_mcc_configuration.html">
        Monitoring the MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/concept_monitoring_and_protecting_database_validity_by_using_nvfail.html">
        Monitoring and protecting the file system consistency using NVFAIL
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/manage/reference_where_to_find_additional_information_dr_guide.html">
        Where to find additional information
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/tiebreaker/index.html">
        <div class="na-navbar-padding"> Install and Configure MetroCluster Tiebreaker</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/tiebreaker/concept_deciding_whether_to_use_this_guide_mcc_tiebreaker_installation_and_configuration_guide.html">
        Deciding whether to use the MetroCluster Tiebreaker Software Installation and Configuration Guide
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/tiebreaker/concept_overview_of_the_tiebreaker_software.html">
        Overview of the Tiebreaker software
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/tiebreaker/task_install_the_tiebreaker_software.html">
        Installing the Tiebreaker software
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/tiebreaker/concept_configuring_the_tiebreaker_software.html">
        Configuring the Tiebreaker software
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/tiebreaker/task_configure_snmp_setts_for_tiebreaker_software.html">
        Configuring SNMP settings for Tiebreaker software
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/tiebreaker/concept_monitoring_the_mcc_configuration.html">
        Monitoring the MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/tiebreaker/concept_risks_and_limitation_of_using_mcc_tiebreaker_in_active_mode.html">
        Risks and limitations of using MetroCluster Tiebreaker in active mode
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/tiebreaker/reference_firewall_requirements_for_mcc_tiebreaker.html">
        Firewall requirements for MetroCluster Tiebreaker
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/tiebreaker/reference_where_to_find_additional_information_tb_icg.html">
        Where to find additional information
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/transition/index.html">
        <div class="na-navbar-padding"> Transition from MetroCluster FC to MetroCluster IP</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/concept_supported_platforms_for_transition.html">
        Supported platforms for nondisruptive transition
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/transition/concept_nondisruptively_transitioning_from_a_four_node_mcc_fc_to_a_mcc_ip_configuration.html">
        <div class="na-navbar-padding"> Transitioning nondisruptively from a MetroCluster FC to a MetroCluster IP configuration (ONTAP 9.8 and later)</div>
      </a>
      <ul><li class="subfolders "><a href="/us-en/ontap-metrocluster/transition/concept_preparing_for_transitioning_from_mcc_fc_to_an_mcc_ip_configuration.html">
        <div class="na-navbar-padding"> Preparing for transition from a MetroCluster FC to a MetroCluster IP configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/concept_requirements_for_fc_to_ip_transition_mcc.html">
        Requirements for nondisruptive FC-to-IP transition
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/concept_how_transition_impacts_the_mcc_hardware_components.html">
        How transition impacts the MetroCluster hardware components
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/concept_transition_workflow_fc_to_ip_transition.html">
        Workflow for nondisruptive MetroCluster transition
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/concept_considerations_for_using_existing_ip_switches.html">
        Considerations for IP switches
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/concept_switchover_and_switchback_operations_during_transition.html">
        Switchover, healing, and switchback operations during nondisruptive transition
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/concept_mcc_operation_during_transition.html">
        Alert messages and tool support during transition
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/concept_example_naming_in_this_procedure_mcc_ip_transition.html">
        Example naming in this procedure
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/task_transition_from_mcc_fc_to_mcc_ip_configurations.html">
        Transitioning from MetroCluster FC to MetroCluster IP configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/task_send_a_custom_autosupport_message_after_maintenance_4n_nondisruptive_mcc_transition.html">
        Sending a custom AutoSupport message after maintenance
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/task_restore_tiebreaker_monitor_4n_nondisruptive_mcc_transition.html">
        Restoring Tiebreaker or Mediator monitoring
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/transition/task_disruptively_transition_from_a_two_node_mcc_fc_to_a_four_node_mcc_ip_configuration.html">
        <div class="na-navbar-padding"> Disruptively transitioning from a two-node MetroCluster FC to a four-node MetroCluster IP configuration (ONTAP 9.8 and later)</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/concept_example_naming_in_this_procedure_2n_mcc_transition_disruptive.html">
        Example naming in this procedure
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/concept_requirements_for_fc_to_ip_transition_2n_mcc_transition.html">
        Preparing for disruptive FC-to-IP transition
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/task_transition_the_mcc_fc_nodes_2n_mcc_transition_supertask.html">
        Transitioning the MetroCluster FC nodes
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/task_connect_the_mcc_ip_controller_modules_2n_mcc_transition_supertask.html">
        Connecting the MetroCluster IP controller modules
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/task_configure_the_new_nodes_and_complete_transition.html">
        Configuring the new nodes and completing transition
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/task_return_the_system_to_normal_operation_2n_mcc_transition_supertask.html">
        Returning the system to normal operation
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/task_disruptively_transition_while_move_volumes_from_old_shelves_to_new_shelves.html">
        Disruptively transitioning from MetroCluster FC to MetroCluster IP when retiring storage shelves (ONTAP 9.8 and later)
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/task_disruptively_transition_when_exist_shelves_are_not_supported_on_new_controllers.html">
        Disruptively transitioning when existing shelves are not supported on new controllers (ONTAP 9.8 and later)
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/task_move_an_fc_san_workload_from_mcc_fc_to_mcc_ip_nodes.html">
        Moving an FC SAN workload from MetroCluster FC to MetroCluster IP nodes
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/task_move_linux_iscsi_hosts_from_mcc_fc_to_mcc_ip_nodes.html">
        Moving Linux iSCSI hosts from MetroCluster FC to MetroCluster IP nodes
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/transition/reference_where_to_find_additional_information_mcc_ug.html">
        Where to find additional information
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/upgrade/index.html">
        <div class="na-navbar-padding"> Upgrade or expand the MetroCluster configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/concept_choosing_an_upgrade_method_mcc.html">
        Choosing an upgrade or refresh method
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_upgrade_controllers_in_a_four_node_fc_mcc_us_switchover_and_switchback_mcc_fc_4n_cu.html">
        Upgrading controllers in a MetroCluster FC configuration using switchover and switchback
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_upgrade_controllers_in_a_four_node_ip_mcc_us_switchover_and_switchback_mcc_ip.html">
        Upgrading controllers in a MetroCluster IP configuration using switchover and switchback (ONTAP 9.8 and later)
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_refresh_4n_mcc_fc.html">
        Refreshing a four-node MetroCluster FC configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_refresh_4n_mcc_ip.html">
        Refreshing a four-node MetroCluster IP configuration (ONTAP 9.8 and later)
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/upgrade/task_expand_a_two_node_mcc_fc_configuration_to_a_four_node_fc_configuration_supertask.html">
        <div class="na-navbar-padding"> Expanding a two-node MetroCluster FC configuration to a four-node configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_verify_the_state_of_the_mcc_configuration_mcc_expansion.html">
        Verifying the state of the MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_send_a_custom_autosupport_message_before_add_nodes_to_the_mcc_configuration_2_node_to_4_node.html">
        Sending a custom AutoSupport message before adding nodes to the MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_zone_for_the_new_controller_ports_in_a_fabric_attached_mcc_configuration_four_node_expansion.html">
        Zoning for the new controller ports when adding a controller module in a fabric-attached MetroCluster configuration
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/upgrade/task_add_a_new_controller_to_each_cluster_mcc_expansion.html">
        <div class="na-navbar-padding"> Adding a new controller module to each cluster</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_prepare_for_the_upgrade_add_2nd_controller_to_create_ha_pair.html">
        Preparing for the upgrade
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_clear_the_configuration_on_a_controller_module_mcc.html">
        Clearing the configuration on a controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_prepare_cluster_ports_on_the_exist_controller.html">
        Preparing cluster ports on an existing controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_prepare_the_netboot_server_cluster_mode.html">
        Preparing the netboot server to download the image
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_enable_the_ha_mode_on_the_exist_controller_mcc_when_add_a_2nd_controller.html">
        Setting the HA mode on the existing controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_shut_down_the_exist_controller_when_add_a_2nd_controller_in_c_mode.html">
        Shutting down the existing controller module
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/upgrade/task_install_and_cable_the_new_controller.html">
        <div class="na-navbar-padding"> Installing and cabling the new controller module</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_cable_the_controller_module_s_fc_vi_hba_ports_to_the_fc_switches_controller_to_fc_sw.html">
        Cabling the new controller module&#8217;s FC-VI and HBA ports to the FC switches
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_cable_the_cluster_peering_connections.html">
        Cabling the new controller module&#8217;s cluster peering connections
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_power_up_both_controller_modules_and_display_the_loader_prompt_2_node_mcc_expansion.html">
        Powering up both controller modules and displaying the LOADER prompt
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_change_the_ha_config_setts_mcc_add_a_2nd_controller.html">
        Changing the ha-config setting on the existing and new controller modules
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_set_the_partner_system_id_for_both_controller_modules.html">
        Setting the partner system ID for both controller modules
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_boot_the_exist_controller_module.html">
        Booting the existing controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_assign_disks_to_the_new_controller_mcc_expansion.html">
        Assigning disks to the new controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_netboot_and_set_up_ontap_on_the_new_controller_module_mcc.html">
        Netbooting and setting up ONTAP on the new controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_mirror_the_root_aggregates_mcc_expansion_procedure.html">
        Mirroring the root aggregate on the new controller
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/upgrade/task_configure_intercluster_lifs.html">
        <div class="na-navbar-padding"> Configuring intercluster LIFs</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_configure_intercluster_lifs_to_use_dedicated_intercluster_ports.html">
        Configuring intercluster LIFs on dedicated ports
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_configure_intercluster_lifs_to_share_data_ports.html">
        Configuring intercluster LIFs on shared data ports
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_create_a_mirrored_data_aggregate_on_each_node_mcc.html">
        Creating a mirrored data aggregate on each node
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_install_licenses_on_the_new_controller_module_cluster_mode.html">
        Installing licenses for the new controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_create_unmirrored_data_aggregates_mcc.html">
        Creating unmirrored data aggregates
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_install_firmware_after_add_a_controller_module.html">
        Installing the firmware after adding a controller module
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_refresh_the_mcc_configuration_mcc_configure_refresh.html">
        Refreshing the MetroCluster configuration with new controllers
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_enable_storage_failover_both_controller_modules_and_set_cluster_ha.html">
        Enabling storage failover on both controller modules and enabling cluster HA
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_restart_the_svms.html">
        Restarting the SVMs
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/upgrade/task_expand_a_four_node_mcc_fc_configuration_to_an_eight_node_configuration.html">
        <div class="na-navbar-padding"> Expanding a four-node MetroCluster FC configuration to an eight-node configuration</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_determin_the_new_cable_layout_mcc_expansion.html">
        Determining the new cabling layout
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_rack_the_new_equipment_mcc_expansion.html">
        Racking the new equipment
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_verify_the_health_of_the_mcc_configuration.html">
        Verifying the health of the MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_check_for_mcc_configuration_errors_with_config_advisor.html">
        Checking for MetroCluster configuration errors with Config Advisor
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_send_a_custom_autosupport_message_before_add_nodes_to_the_mcc_configuration.html">
        Sending a custom AutoSupport message prior to adding nodes to the MetroCluster configuration
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/upgrade/task_recable_and_zone_a_switch_fabric_mcc_expansion.html">
        <div class="na-navbar-padding"> Recabling and zoning a switch fabric for the new nodes</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_disconnect_the_exist_dr_group_mcc_expansion.html">
        Disconnecting the existing DR group from the fabric
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_apply_the_rcf_files_and_recable_the_switches.html">
        Applying the RCF files and recabling the switches
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/upgrade/task_configure_ontap_on_the_new_controllers_mcc_expansion.html">
        <div class="na-navbar-padding"> Configuring ONTAP on the new controllers</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_clear_the_configuration_on_a_controller_module_mcc.html">
        Clearing the configuration on a controller module
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_assign_disk_ownership_in_aff_systems_mcc.html">
        Assigning disk ownership in AFF systems
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_assign_disk_ownership_to_non_aff_systems_mcc.html">
        Assigning disk ownership in non-AFF systems
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_verify_that_the_ha_state_of_components_is_mcc_dr_smok_crater_or_mcc_expansion.html">
        Verifying the ha-config state of components
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_boot_the_new_controllers_and_join_them_to_the_cluster.html">
        Booting the new controllers and joining them to the cluster
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/upgrade/task_configure_the_clusters_into_a_mcc_configuration.html">
        <div class="na-navbar-padding"> Configuring the clusters into a MetroCluster configuration</div>
      </a>
      <ul><li class="subfolders "><a href="/us-en/ontap-metrocluster/upgrade/task_configure_intercluster_lifs.html">
        <div class="na-navbar-padding"> Configuring intercluster LIFs</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_configure_intercluster_lifs_to_use_dedicated_intercluster_ports.html">
        Configuring intercluster LIFs on dedicated ports
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_configure_intercluster_lifs_to_share_data_ports.html">
        Configuring intercluster LIFs on shared data ports
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_mirror_the_root_aggregates_mcc.html">
        Mirroring the root aggregates
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_implement_the_mcc_configuration_mcc_refresh_mcc_expansion.html">
        Implementing the MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_create_a_mirrored_data_aggregate_on_each_node_mcc.html">
        Creating a mirrored data aggregate on each node
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_configure_the_fc_to_sas_bridges_for_health_monitor.html">
        Configuring FC-to-SAS bridges for health monitoring
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_move_a_metadata_volume_in_mcc_configurations.html">
        Moving a metadata volume in MetroCluster configurations
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_check_the_mcc_configuration.html">
        Checking the MetroCluster configuration
      </a></li></ul></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_check_for_mcc_configuration_errors_with_config_advisor.html">
        Checking for MetroCluster configuration errors with Config Advisor
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_send_a_custom_autosupport_message_after_add_nodes_to_the_mcc_configuration.html">
        Sending a custom AutoSupport message after to adding nodes to the MetroCluster configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_verify_switchover_heal_and_switchback.html">
        Verifying switchover, healing, and switchback
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/task_expand_a_four_node_mcc_ip_configuration.html">
        Expanding a four-node MetroCluster IP configuration to an eight-node configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/concept_removing_a_disaster_recovery_group.html">
        Removing a Disaster Recovery group
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/upgrade/reference_where_to_find_additional_information_mcc_ug.html">
        Where to find additional information
      </a></li></ul></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/disaster-recovery/index.html">
        <div class="na-navbar-padding"> Disaster Recovery</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/disaster-recovery/concept_dr_workflow.html">
        Workflow for disaster recovery
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/disaster-recovery/task_perform_a_forced_switchover_after_a_disaster.html">
        Performing a forced switchover after a disaster
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/disaster-recovery/concept_choosing_the_correct_recovery_procedure_parent_concept.html">
        Choosing the correct recovery procedure
      </a></li><li class="subfolders "><a href="/us-en/ontap-metrocluster/disaster-recovery/task_recover_from_a_multi_controller_and_or_storage_failure.html">
        <div class="na-navbar-padding"> Recovering from a multi-controller or storage failure</div>
      </a>
      <ul><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/disaster-recovery/task_replace_hardware_and_boot_new_controllers.html">
        Replacing hardware and booting new controllers
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/disaster-recovery/task_prepare_for_switchback_in_a_mcc_ip_configuration_supertask.html">
        Preparing for switchback in a MetroCluster IP configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/disaster-recovery/task_prepare_for_switchback_in_a_mcc_fc_configuration_supertask.html">
        Preparing for switchback in a MetroCluster FC configuration
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/disaster-recovery/task_prepare_the_nodes_for_switchback_in_a_mixed_configuration.html">
        Preparing the nodes for switchback in a mixed configuration (recovery during transition)
      </a></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/disaster-recovery/task_complete_recovery.html">
        Completing recovery
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/disaster-recovery/task_recover_from_a_non_controller_failure_mcc_dr.html">
        Recovering from a non-controller failure
      </a></li></ul></li><li class=" "><a class="na-navbar-padding" href="/us-en/ontap-metrocluster/reference_legal_notices.html">
        Legal notices
      </a></li></ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

  </div>
  

  <div class="ie-content-pane n-doc__component-detail-content n-doc__component-detail-content--show-code">
    <!-- Begin of page container -->
    <article class="page-content">
      



<div class="n-doc__component-detail-heading-wrap">
  <h1 class="n-doc__component-detail-heading">Configuring the MetroCluster software in ONTAP</h1>
</div>


<p class="page-details">
  
    
    <time datetime="2021-05-17 21:58:05 +0000">05/17/2021</time>
    
  


  <span>
    <a target="_blank" href="/us-en/ontap-metrocluster/pdfs/pages/install-ip/concept_configure_the_mcc_software_in_ontap.pdf" role="button">
      <img src="/us-en/ontap-metrocluster/images/pdf.png" width="20" height="20"/>Download PDF of this page</a>
  </span>


</p>


<div id="preamble">
<div class="sectionbody">
<div class="paragraph lead">
<p>You must set up each node in the MetroCluster configuration in ONTAP, including the node-level configurations and the configuration of the nodes into two sites. You must also implement the MetroCluster relationship between the two sites.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../media/delete_me_workflow_mcc_ip_high_level_node_and_cluster_configuration_software.gif" alt="delete me workflow mcc ip high level node and cluster configuration software">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="handling-eight-node-configurations">Handling eight-node Configurations</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>An eight-node configuration will consist of two DR groups. Configure the first DR group by using the tasks in this section.</p>
</div>
<div class="paragraph">
<p>Then perform the tasks in <a href="../upgrade/task_expand_a_four_node_mcc_ip_configuration.html">Expanding a four-node MetroCluster IP configuration to an eight-node configuration</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gathering-required-information">Gathering required information</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>You need to gather the required IP addresses for the controller modules before you begin the configuration process.</p>
</div>
<div class="paragraph">
<p><a href="../media/metrocluster_ip_setup_worksheet_site-a.csv">MetroCluster IP setup worksheet, site_A</a></p>
</div>
<div class="sect2">
<h3 id="ip-network-information-worksheet-for-site-a">IP network information worksheet for site A</h3>
<div class="paragraph lead">
<p>You must obtain IP addresses and other network information for the first MetroCluster site (site A) from your network administrator before you configure the system.</p>
</div>
<div class="sect3">
<h4 id="site-a-switch-information">Site A switch information</h4>
<div class="paragraph">
<p>When you cable the system, you need a host name and management IP address for each cluster switch.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Cluster switch</th>
<th class="tableblock halign-left valign-top">Host name</th>
<th class="tableblock halign-left valign-top">IP address</th>
<th class="tableblock halign-left valign-top">Network mask</th>
<th class="tableblock halign-left valign-top">Default gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Interconnect 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Interconnect 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Management 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Management 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-a-cluster-creation-information">Site A cluster creation information</h4>
<div class="paragraph">
<p>When you first create the cluster, you need the following information:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type of information</th>
<th class="tableblock halign-left valign-top">Your values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Cluster name</p>
</div>
<div class="paragraph">
<p>Example used in this guide: site_A</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DNS domain</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DNS name servers</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Location</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Administrator password</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-a-node-information">Site A node information</h4>
<div class="paragraph">
<p>For each node in the cluster, you need a management IP address, a network mask, and a default gateway.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node</th>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top">IP address</th>
<th class="tableblock halign-left valign-top">Network mask</th>
<th class="tableblock halign-left valign-top">Default gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 1 Example used in this guide: controller_A_1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 2Example used in this guide: controller_A_2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-a-lifs-and-ports-for-metrocluster-ip-back-end-connectivity">Site A LIFs and ports for MetroCluster IP back-end connectivity</h4>
<div class="paragraph">
<p>For each node in the cluster, you need the IP addresses of two MetroCluster IP LIFs, including a network mask and a default gateway. The MetroCluster IP LIFs are used for MetroCluster IP back-end connectivity.</p>
</div>
<div class="paragraph">
<p><a href="concept_prepare_for_the_mcc_installation.html#considerations-for-metrocluster-ip-configuration">Considerations for MetroCluster IP configuration</a></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node</th>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top">IP address of MetroCluster IP LIF</th>
<th class="tableblock halign-left valign-top">Network mask</th>
<th class="tableblock halign-left valign-top">Default gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 1 MetroCluster IP LIF 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e5a</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 1 MetroCluster IP LIF 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e5b</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 2 MetroCluster IP LIF 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e5a</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 2 MetroCluster IP LIF 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e5b</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-a-lifs-and-ports-for-cluster-peering">Site A LIFs and ports for cluster peering</h4>
<div class="paragraph">
<p>For each node in the cluster, you need the IP addresses of two intercluster LIFs, including a network mask and a default gateway. The intercluster LIFs are used to peer the clusters.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node</th>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top">IP address of intercluster LIF</th>
<th class="tableblock halign-left valign-top">Network mask</th>
<th class="tableblock halign-left valign-top">Default gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 1 IC LIF 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 1 IC LIF 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 2 IC LIF 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 2 IC LIF 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-a-time-server-information">Site A time server information</h4>
<div class="paragraph">
<p>You must synchronize the time, which requires one or more NTP time servers.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node</th>
<th class="tableblock halign-left valign-top">Host name</th>
<th class="tableblock halign-left valign-top">IP address</th>
<th class="tableblock halign-left valign-top">Network mask</th>
<th class="tableblock halign-left valign-top">Default gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>NTP server 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>NTP server 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-a-autosupport-information">Site A AutoSupport information</h4>
<div class="paragraph">
<p>You must configure AutoSupport on each node, which requires the following information:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2">Type of information</th>
<th class="tableblock halign-left valign-top">Your values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>From email address</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mail hosts</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>IP addresses or names</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Transport protocol</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>HTTP, HTTPS, or SMTP</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Proxy server</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p>Recipient email addresses or distribution lists</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Full-length messages</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Concise messages</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Partners</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-a-sp-information">Site A SP information</h4>
<div class="paragraph">
<p>You must enable access to the Service Processor (SP) of each node for troubleshooting and maintenance, which requires the following network information for each node:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node</th>
<th class="tableblock halign-left valign-top">IP address</th>
<th class="tableblock halign-left valign-top">Network mask</th>
<th class="tableblock halign-left valign-top">Default gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="ip-network-information-worksheet-for-site-b">IP network information worksheet for site B</h3>
<div class="paragraph lead">
<p>You must obtain IP addresses and other network information for the second MetroCluster site (site B) from your network administrator before you configure the system.</p>
</div>
<div class="sect3">
<h4 id="site-b-switch-information">Site B switch information</h4>
<div class="paragraph">
<p>When you cable the system, you need a host name and management IP address for each cluster switch.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Cluster switch</th>
<th class="tableblock halign-left valign-top">Host name</th>
<th class="tableblock halign-left valign-top">IP address</th>
<th class="tableblock halign-left valign-top">Network mask</th>
<th class="tableblock halign-left valign-top">Default gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Interconnect 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Interconnect 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Management 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Management 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-b-cluster-creation-information">Site B cluster creation information</h4>
<div class="paragraph">
<p>When you first create the cluster, you need the following information:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type of information</th>
<th class="tableblock halign-left valign-top">Your values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Cluster name</p>
</div>
<div class="paragraph">
<p>Example used in this guide: site_B</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DNS domain</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DNS name servers</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Location</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Administrator password</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-b-node-information">Site B node information</h4>
<div class="paragraph">
<p>For each node in the cluster, you need a management IP address, a network mask, and a default gateway.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node</th>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top">IP address</th>
<th class="tableblock halign-left valign-top">Network mask</th>
<th class="tableblock halign-left valign-top">Default gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 1 Example used in this guide: controller_B_1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 2Example used in this guide: controller_B_2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-b-lifs-and-ports-for-metrocluster-ip-back-end-connectivity">Site B LIFs and ports for MetroCluster IP back-end connectivity</h4>
<div class="paragraph">
<p>For each node in the cluster, you need the IP addresses of two MetroCluster IP LIFs, including a network mask and a default gateway. The MetroCluster IP LIFs are used for MetroCluster IP back-end connectivity.</p>
</div>
<div class="paragraph">
<p><a href="concept_prepare_for_the_mcc_installation.html#considerations-for-metrocluster-ip-configuration">Considerations for MetroCluster IP configuration</a></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node</th>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top">IP address of MetroCluster IP LIF</th>
<th class="tableblock halign-left valign-top">Network mask</th>
<th class="tableblock halign-left valign-top">Default gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 1 MetroCluster IP LIF 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e5a</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 1 MetroCluster IP LIF 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e5b</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 2 MetroCluster IP LIF 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e5a</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 2 MetroCluster IP LIF 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e5b</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-b-lifs-and-ports-for-cluster-peering">Site B LIFs and ports for cluster peering</h4>
<div class="paragraph">
<p>For each node in the cluster, you need the IP addresses of two intercluster LIFs, including a network mask and a default gateway. The intercluster LIFs are used to peer the clusters.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node</th>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top">IP address of intercluster LIF</th>
<th class="tableblock halign-left valign-top">Network mask</th>
<th class="tableblock halign-left valign-top">Default gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 1 IC LIF 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 1 IC LIF 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 2 IC LIF 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 2 IC LIF 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-b-time-server-information">Site B time server information</h4>
<div class="paragraph">
<p>You must synchronize the time, which requires one or more NTP time servers.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node</th>
<th class="tableblock halign-left valign-top">Host name</th>
<th class="tableblock halign-left valign-top">IP address</th>
<th class="tableblock halign-left valign-top">Network mask</th>
<th class="tableblock halign-left valign-top">Default gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>NTP server 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>NTP server 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-b-autosupport-information">Site B AutoSupport information</h4>
<div class="paragraph">
<p>You must configure AutoSupport on each node, which requires the following information:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2">Type of information</th>
<th class="tableblock halign-left valign-top">Your values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>From email address</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mail hosts</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>IP addresses or names</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Transport protocol</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>HTTP, HTTPS, or SMTP</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Proxy server</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p>Recipient email addresses or distribution lists</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Full-length messages</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Concise messages</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Partners</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="site-b-sp-information">Site B SP information</h4>
<div class="paragraph">
<p>You must enable access to the Service Processor (SP) of each node for troubleshooting and maintenance, which requires the following network information for each node:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node</th>
<th class="tableblock halign-left valign-top">IP address</th>
<th class="tableblock halign-left valign-top">Network mask</th>
<th class="tableblock halign-left valign-top">Default gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node 1 (controller_B_1)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="similarities-and-differences-between-standard-cluster-and-metrocluster-configurations">Similarities and differences between standard cluster and MetroCluster configurations</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>The configuration of the nodes in each cluster in a MetroCluster configuration is similar to that of nodes in a standard cluster.</p>
</div>
<div class="paragraph">
<p>The MetroCluster configuration is built on two standard clusters. Physically, the configuration must be symmetrical, with each node having the same hardware configuration, and all of the MetroCluster components must be cabled and configured. However, the basic software configuration for nodes in a MetroCluster configuration is the same as that for nodes in a standard cluster.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration step</th>
<th class="tableblock halign-left valign-top">Standard cluster configuration</th>
<th class="tableblock halign-left valign-top">MetroCluster configuration</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Configure management, cluster, and data LIFs on each node.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Same in both types of clusters</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Configure the root aggregate.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Same in both types of clusters</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set up the cluster on one node in the cluster.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Same in both types of clusters</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Join the other node to the cluster.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Same in both types of clusters</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Create a mirrored root aggregate.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Required</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Peer the clusters.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Required</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Enable the MetroCluster configuration.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="verifying-the-ha-config-state-of-components">Verifying the ha-config state of components</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>In a MetroCluster IP configuration that is not preconfigured at the factory, you must verify that the ha-config state of the controller and chassis components is set to mccip so that they boot up properly. For systems received from the factory, this value is preconfigured and you do not need to verify it.</p>
</div>
<div class="paragraph">
<p>The system must be in Maintenance mode.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Display the HA state of the controller module and chassis: <code>ha-config show</code></p>
<div class="paragraph">
<p>The controller module and chassis should show the value mccip.</p>
</div>
</li>
<li>
<p>If the displayed system state of the controller is not mccip, set the HA state for the controller: <code>ha-config modify controller mccip</code></p>
</li>
<li>
<p>If the displayed system state of the chassis is not mccip, set the HA state for the chassis: <code>ha-config modify chassis mccip</code></p>
</li>
<li>
<p>Repeat these steps on each node in the MetroCluster configuration.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="restoring-system-defaults-on-a-controller-module">Restoring system defaults on a controller module</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>Reset and restore defaults on the controller modules.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>At the LOADER prompt, return the environmental variables to their default setting: <code>set-defaults</code></p>
</li>
<li>
<p>Boot the node to the boot menu: <code>boot_ontap menu</code></p>
<div class="paragraph">
<p>After you run the command, wait until the boot menu is shown.</p>
</div>
</li>
<li>
<p>Clear the node configuration:</p>
<div class="ulist">
<ul>
<li>
<p>If you are using systems configured for ADP, select option <code>9a</code> from the boot menu, and respond <code>yes</code> when prompted.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This process is disruptive.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following screen shows the boot menu prompt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Please choose one of the following:

    (1) Normal Boot.
    (2) Boot without /etc/rc.
    (3) Change password.
    (4) Clean configuration and initialize all disks.
    (5) Maintenance mode boot.
    (6) Update flash from backup config.
    (7) Install new software first.
    (8) Reboot node.
    (9) Configure Advanced Drive Partitioning.
    Selection (1-9)?  9a
########## WARNING ##########

    This is a disruptive operation and will result in the
    loss of all filesystem data. Before proceeding further,
    make sure that:
    1) This option (9a) has been executed or will be executed
    on the HA partner node, prior to reinitializing either
    system in the HA-pair.
    2) The HA partner node is currently in a halted state or
    at the LOADER prompt.


    Do you still want to continue (yes/no)? yes</pre>
</div>
</div>
</li>
<li>
<p>If your system is not configured for ADP, type wipeconfig at the boot menu prompt, and then press Enter.</p>
<div class="paragraph">
<p>The following screen shows the boot menu prompt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Please choose one of the following:

    (1) Normal Boot.
    (2) Boot without /etc/rc.
    (3) Change password.
    (4) Clean configuration and initialize all disks.
    (5) Maintenance mode boot.
    (6) Update flash from backup config.
    (7) Install new software first.
    (8) Reboot node.
    (9) Configure Advanced Drive Partitioning.
    Selection (1-9)?  wipeconfig
This option deletes critical system configuration, including cluster membership.
Warning: do not run this option on a HA node that has been taken over.
Are you sure you want to continue?: yes
Rebooting to finish wipeconfig request.</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="manually-assigning-drives-to-pool-0">Manually assigning drives to pool 0</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>If you did not receive the systems pre-configured from the factory, you might have to manually assign the pool 0 drives. Depending on the platform model and whether the system is using ADP, you must manually assign drives to pool 0 for each node in the MetroCluster IP configuration. The procedure you use depends on the version of ONTAP you are using.</p>
</div>
<div class="sect2">
<h3 id="manually-assigning-drives-for-pool-0-ontap-9-4-and-later">Manually assigning drives for pool 0 (ONTAP 9.4 and later)</h3>
<div class="paragraph lead">
<p>If the system has not been pre-configured at the factory and does not meet the requirements for automatic drive assignment, you must manually assign the pool 0 drives.</p>
</div>
<div class="paragraph">
<p>This procedure applies to configurations running ONTAP 9.4 or later.</p>
</div>
<div class="paragraph">
<p>To determine if your system requires manual disk assignment, you should review <a href="concept_prepare_for_the_mcc_installation.html#considerations-for-automatic-drive-assignment-and-adp-systems-in-ontap-9-4-and-later">Considerations for automatic drive assignment and ADP systems in ONTAP 9.4 and later</a>.</p>
</div>
<div class="paragraph">
<p>You perform these steps in Maintenance mode. The procedure must be performed on each node in the configuration.</p>
</div>
<div class="paragraph">
<p>Examples in this section are based on the following assumptions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>node_A_1 and node_A_2 own drives on:</p>
<div class="ulist">
<ul>
<li>
<p>site_A-shelf_1 (local)</p>
</li>
<li>
<p>site_B-shelf_2 (remote)</p>
</li>
</ul>
</div>
</li>
<li>
<p>node_B_1 and node_B_2 own drives on:</p>
<div class="ulist">
<ul>
<li>
<p>site_B-shelf_1 (local)</p>
</li>
<li>
<p>site_A-shelf_2 (remote)</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Display the boot menu: <code>boot_ontap menu</code></p>
</li>
<li>
<p>Select option 9a.</p>
<div class="paragraph">
<p>The following screen shows the boot menu prompt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Please choose one of the following:

    (1) Normal Boot.
    (2) Boot without /etc/rc.
    (3) Change password.
    (4) Clean configuration and initialize all disks.
    (5) Maintenance mode boot.
    (6) Update flash from backup config.
    (7) Install new software first.
    (8) Reboot node.
    (9) Configure Advanced Drive Partitioning.
    Selection (1-9)?  9a
########## WARNING ##########

    This is a disruptive operation and will result in the
    loss of all filesystem data. Before proceeding further,
    make sure that:
    1) This option (9a) has been executed or will be executed
    on the HA partner node (and DR/DR-AUX partner nodes if
    applicable), prior to reinitializing any system in the
    HA-pair (or MetroCluster setup).
    2) The HA partner node (and DR/DR-AUX partner nodes if
    applicable) is currently waiting at the boot menu.

    Do you still want to continue (yes/no)? yes</pre>
</div>
</div>
</li>
<li>
<p>When the node restarts, press Ctrl-C when prompted to display the boot menu and then select the option for <strong>Maintenance mode boot</strong>.</p>
</li>
<li>
<p>In Maintenance mode, manually assign drives for the local aggregates on the node: <code>disk assign disk-id -p 0 -s local-node-sysid</code></p>
<div class="paragraph">
<p>The drives should be assigned symmetrically, so each node has an equal number of drives. The following steps are for a configuration with two storage shelves at each site.</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>When configuring node_A_1, manually assign drives from slot 0 to 11 to pool0 of node A1 from site_A-shelf_1.</p>
</li>
<li>
<p>When configuring node_A_2, manually assign drives from slot 12 to 23 to pool0 of node A2 from site_A-shelf_1.</p>
</li>
<li>
<p>When configuring node_B_1, manually assign drives from slot 0 to 11 to pool0 of node B1 from site_B-shelf_1.</p>
</li>
<li>
<p>When configuring node_B_2, manually assign drives from slot 12 to 23 to pool0 of node B2 from site_B-shelf_1.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Exit Maintenance mode: <code>halt</code></p>
</li>
<li>
<p>Display the boot menu: <code>boot_ontap menu</code></p>
</li>
<li>
<p>Select option 4 from the boot menu and let the system boot.</p>
</li>
<li>
<p>Repeat these steps on the other nodes in the MetroCluster IP configuration.</p>
</li>
<li>
<p>Proceed to <a href="concept_configure_the_mcc_software_in_ontap.html#setting-up-ontap">Setting up ONTAP</a>.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="manually-assigning-drives-for-pool-0-ontap-9-3">Manually assigning drives for pool 0 (ONTAP 9.3)</h3>
<div class="paragraph lead">
<p>If you have at least two disk shelves for each node, you use ONTAP&#8217;s auto-assignment functionality to automatically assign the local (pool 0) disks. While the node is in Maintenance mode, you must first assign a single disk on the appropriate shelves to pool 0. ONTAP then automatically assign the rest of the disks on the shelf to the same pool. This task is not required on systems received from the factory, which have pool 0 to contain the pre-configured root aggregate.</p>
</div>
<div class="paragraph">
<p>This procedure applies to configurations running ONTAP 9.3.</p>
</div>
<div class="paragraph">
<p>This procedure is not required if you received your MetroCluster configuration from the factory. Nodes from the factory are configured with pool 0 disks and root aggregates.</p>
</div>
<div class="paragraph">
<p>This procedure can be used only if you have at least two disk shelves for each node, which allows shelf-level autoassignment of disks. If you cannot use shelf-level autoassignment, you must manually assign your local disks so that each node has a local pool of disks (pool 0).</p>
</div>
<div class="paragraph">
<p>These steps must be performed in Maintenance mode.</p>
</div>
<div class="paragraph">
<p>Examples in this section assume the following disk shelves:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>node_A_1 owns disks on:</p>
<div class="ulist">
<ul>
<li>
<p>site_A-shelf_1 (local)</p>
</li>
<li>
<p>site_B-shelf_2 (remote)</p>
</li>
</ul>
</div>
</li>
<li>
<p>node_A_2 is connected to:</p>
<div class="ulist">
<ul>
<li>
<p>site_A-shelf_3 (local)</p>
</li>
<li>
<p>site_B-shelf_4 (remote)</p>
</li>
</ul>
</div>
</li>
<li>
<p>node_B_1 is connected to:</p>
<div class="ulist">
<ul>
<li>
<p>site_B-shelf_1 (local)</p>
</li>
<li>
<p>site_A-shelf_2 (remote)</p>
</li>
</ul>
</div>
</li>
<li>
<p>node_B_2 is connected to:</p>
<div class="ulist">
<ul>
<li>
<p>site_B-shelf_3 (local)</p>
</li>
<li>
<p>site_A-shelf_4 (remote)</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Manually assign a single disk for root aggregate on each node: <code>disk assign disk-id -p 0 -s local-node-sysid</code></p>
<div class="paragraph">
<p>The manual assignment of these disks allows the ONTAP autoassignment feature to assign the rest of the disks on each shelf.</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>On node_A_1, manually assign one disk from local site_A-shelf_1 to pool 0.</p>
</li>
<li>
<p>On node_A_2, manually assign one disk from local site_A-shelf_3 to pool 0.</p>
</li>
<li>
<p>On node_B_1, manually assign one disk from local site_B-shelf_1 to pool 0.</p>
</li>
<li>
<p>On node_B_2, manually assign one disk from local site_B-shelf_3 to pool 0.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Boot each node at site A, using option 4 on the boot menu:</p>
<div class="paragraph">
<p>You should complete this step on a node before proceeding to the next node.</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Exit Maintenance mode: <code>halt</code></p>
</li>
<li>
<p>Display the boot menu: <code>boot_ontap menu</code></p>
</li>
<li>
<p>Select option 4 from the boot menu and proceed.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Boot each node at site B, using option 4 on the boot menu:</p>
<div class="paragraph">
<p>You should complete this step on a node before proceeding to the next node.</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Exit Maintenance mode: <code>halt</code></p>
</li>
<li>
<p>Display the boot menu: <code>boot_ontap menu</code></p>
</li>
<li>
<p>Select option 4 from the boot menu and proceed.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting-up-ontap">Setting up ONTAP</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>After you boot each node, you are prompted to perform basic node and cluster configuration. After configuring the cluster, you return to the ONTAP CLI to create aggregates and create the MetroCluster configuration.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You must have cabled the MetroCluster configuration.</p>
</li>
<li>
<p>You must not have configured the Service Processor.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you need to netboot the new controllers, see <a href="../upgrade/task_upgrade_controllers_in_a_four_node_ip_mcc_us_switchover_and_switchback_mcc_ip.html#netbooting-the-new-controllers">Netbooting the new controller modules</a> in the <em>MetroCluster Upgrade, Transition, and Expansion Guide</em>.</p>
</div>
<div class="paragraph">
<p>This task must be performed on both clusters in the MetroCluster configuration.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Power up each node at the local site if you have not already done so and let them all boot completely.</p>
<div class="paragraph">
<p>If the system is in Maintenance mode, you need to issue the halt command to exit Maintenance mode, and then issue the boot_ontap command to boot the system and get to cluster setup.</p>
</div>
</li>
<li>
<p>On the first node in each cluster, proceed through the prompts to configure the cluster</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enable the AutoSupport tool by following the directions provided by the system.</p>
<div class="paragraph">
<p>The output should be similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Welcome to the cluster setup wizard.

    You can enter the following commands at any time:
    "help" or "?" - if you want to have a question clarified,
    "back" - if you want to change previously answered questions, and
    "exit" or "quit" - if you want to quit the cluster setup wizard.
    Any changes you made before quitting will be saved.

    You can return to cluster setup at any time by typing "cluster setup".
    To accept a default or omit a question, do not enter a value.

    This system will send event messages and periodic reports to NetApp Technical
    Support. To disable this feature, enter
    autosupport modify -support disable
    within 24 hours.

    Enabling AutoSupport can significantly speed problem determination and
    resolution should a problem occur on your system.
    For further information on AutoSupport, see:
    http://support.netapp.com/autosupport/

    Type yes to confirm and continue {yes}: yes

.
.
.</pre>
</div>
</div>
</li>
<li>
<p>Configure the node management interface by responding to the prompts.</p>
<div class="paragraph">
<p>The prompts are similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Enter the node management interface port [e0M]:
Enter the node management interface IP address: 172.17.8.229
Enter the node management interface netmask: 255.255.254.0
Enter the node management interface default gateway: 172.17.8.1
A node management interface on port e0M with IP address 172.17.8.229 has been created.</pre>
</div>
</div>
</li>
<li>
<p>Create the cluster by responding to the prompts.</p>
<div class="paragraph">
<p>The prompts are similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Do you want to create a new cluster or join an existing cluster? {create, join}:
create


Do you intend for this node to be used as a single node cluster? {yes, no} [no]:
no

Existing cluster interface configuration found:

Port MTU IP Netmask
e0a 1500 169.254.18.124 255.255.0.0
e1a 1500 169.254.184.44 255.255.0.0

Do you want to use this configuration? {yes, no} [yes]: no

System Defaults:
Private cluster network ports [e0a,e1a].
Cluster port MTU values will be set to 9000.
Cluster interface IP addresses will be automatically generated.

Do you want to use these defaults? {yes, no} [yes]: no

Enter the cluster administrator's (username "admin") password:

Retype the password:


Step 1 of 5: Create a Cluster
You can type "back", "exit", or "help" at any question.

List the private cluster network ports [e0a,e1a]:
Enter the cluster ports' MTU size [9000]:
Enter the cluster network netmask [255.255.0.0]: 255.255.254.0
Enter the cluster interface IP address for port e0a: 172.17.10.228
Enter the cluster interface IP address for port e1a: 172.17.10.229
Enter the cluster name: cluster_A

Creating cluster cluster_A

Starting cluster support services ...

Cluster cluster_A has been created.</pre>
</div>
</div>
</li>
<li>
<p>Add licenses, set up a Cluster Administration SVM, and enter DNS information by responding to the prompts.</p>
<div class="paragraph">
<p>The prompts are similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Step 2 of 5: Add Feature License Keys
You can type "back", "exit", or "help" at any question.

Enter an additional license key []:


Step 3 of 5: Set Up a Vserver for Cluster Administration
You can type "back", "exit", or "help" at any question.


Enter the cluster management interface port [e3a]:
Enter the cluster management interface IP address: 172.17.12.153
Enter the cluster management interface netmask: 255.255.252.0
Enter the cluster management interface default gateway: 172.17.12.1

A cluster management interface on port e3a with IP address 172.17.12.153 has been created. You can use this address to connect to and manage the cluster.

Enter the DNS domain names: lab.netapp.com
Enter the name server IP addresses: 172.19.2.30
DNS lookup for the admin Vserver will use the lab.netapp.com domain.

Step 4 of 5: Configure Storage Failover (SFO)
You can type "back", "exit", or "help" at any question.


SFO will be enabled when the partner joins the cluster.


Step 5 of 5: Set Up the Node
You can type "back", "exit", or "help" at any question.

Where is the controller located []: svl</pre>
</div>
</div>
</li>
<li>
<p>Enable storage failover and set up the node by responding to the prompts.</p>
<div class="paragraph">
<p>The prompts are similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Step 4 of 5: Configure Storage Failover (SFO)
You can type "back", "exit", or "help" at any question.


SFO will be enabled when the partner joins the cluster.


Step 5 of 5: Set Up the Node
You can type "back", "exit", or "help" at any question.

Where is the controller located []: site_A</pre>
</div>
</div>
</li>
<li>
<p>Complete the configuration of the node, but do not create data aggregates.</p>
<div class="paragraph">
<p>You can use ONTAP System Manager, pointing your web browser to the cluster management IP address (<a href="https://172.17.12.153" class="bare">https://172.17.12.153</a>).</p>
</div>
<div class="paragraph">
<p><a href="https://docs.netapp.com/ontap-9/topic/com.netapp.doc.onc-sm-help/GUID-DF04A607-30B0-4B98-99C8-CB065C64E670.html">Cluster management using System Manager</a></p>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Boot the next controller and join it to the cluster, following the prompts.</p>
</li>
<li>
<p>Confirm that nodes are configured in high-availability mode: <code>storage failover show -fields mode</code></p>
<div class="paragraph">
<p>If not, you must configure HA mode on each node, and then reboot the nodes: <code>storage failover modify -mode ha -node localhost</code></p>
</div>
<div class="paragraph">
<p>This command configures high-availability mode but does not enable storage failover. Storage failover is automatically enabled when you configure the MetroCluster configuration later in the process.</p>
</div>
</li>
<li>
<p>Confirm that you have four ports configured as cluster interconnects: <code>network port show</code></p>
<div class="paragraph">
<p>The MetroCluster IP interfaces are not configured at this time and do not appear in the command output.</p>
</div>
<div class="paragraph">
<p>The following example shows two cluster ports on node_A_1:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::*&gt; network port show -role cluster



Node: node_A_1

                                                                       Ignore

                                                  Speed(Mbps) Health   Health

Port      IPspace      Broadcast Domain Link MTU  Admin/Oper  Status   Status

--------- ------------ ---------------- ---- ---- ----------- -------- ------

e4a       Cluster      Cluster          up   9000  auto/40000 healthy  false

e4e       Cluster      Cluster          up   9000  auto/40000 healthy  false


Node: node_A_2

                                                                       Ignore

                                                  Speed(Mbps) Health   Health

Port      IPspace      Broadcast Domain Link MTU  Admin/Oper  Status   Status

--------- ------------ ---------------- ---- ---- ----------- -------- ------

e4a       Cluster      Cluster          up   9000  auto/40000 healthy  false

e4e       Cluster      Cluster          up   9000  auto/40000 healthy  false


4 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>Repeat these steps on the partner cluster.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Return to the ONTAP command-line interface and complete the MetroCluster configuration by performing the tasks that follow.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-the-clusters-into-a-metrocluster-configuration">Configuring the clusters into a MetroCluster configuration</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>You must peer the clusters, mirror the root aggregates, create a mirrored data aggregate, and then issue the command to implement the MetroCluster operations.</p>
</div>
<div class="sect2">
<h3 id="disabling-automatic-drive-assignment-if-doing-manual-assignment-in-ontap-9-4">Disabling automatic drive assignment (if doing manual assignment in ONTAP 9.4)</h3>
<div class="paragraph lead">
<p>In ONTAP 9.4, if your MetroCluster IP configuration has fewer than four external storage shelves per site, you must disable automatic drive assignment on all nodes and manually assign drives.</p>
</div>
<div class="paragraph">
<p>This task is not required in ONTAP 9.5 and later.</p>
</div>
<div class="paragraph">
<p>This task does not apply to an AFF A800 system with an internal shelf and no external shelves.</p>
</div>
<div class="paragraph">
<p><a href="concept_prepare_for_the_mcc_installation.html#considerations-for-automatic-drive-assignment-and-adp-systems-in-ontap-9-4-and-later">Considerations for automatic drive assignment and ADP systems in ONTAP 9.4 and later</a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Disable automatic drive assignment: <code>storage disk option modify -node node_name -autoassign off</code></p>
<div class="paragraph">
<p>You need to issue this command on all nodes in the MetroCluster IP configuration.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="verifying-drive-assignment-of-pool-0-drives">Verifying drive assignment of pool 0 drives</h3>
<div class="paragraph lead">
<p>You must verify that the remote drives are visible to the nodes and have been assigned correctly.</p>
</div>
<div class="paragraph">
<p>Automatic assignment depends on the storage system platform model and drive shelf arrangement.</p>
</div>
<div class="paragraph">
<p><a href="concept_prepare_for_the_mcc_installation.html#considerations-for-automatic-drive-assignment-and-adp-systems-in-ontap-9-4-and-later">Considerations for automatic drive assignment and ADP systems in ONTAP 9.4 and later</a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify that pool 0 drives are assigned automatically: <code>disk show</code></p>
<div class="paragraph">
<p>The following example shows the cluster_A output for an AFF A800 system with no external shelves.</p>
</div>
<div class="paragraph">
<p>One quarter (8 drives) were automatically assigned to node_A_1 and one quarter were automatically assigned to node_A_2. The remaining drives will be remote (pool 1) drives for node_B_1 and node_B_2.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::*&gt; disk show
                 Usable     Disk      Container           Container
Disk             Size       Shelf Bay Type    Type        Name      Owner
---------------- ---------- ----- --- ------- ----------- --------- --------
node_A_1:0n.12   1.75TB     0     12  SSD-NVM shared      aggr0     node_A_1
node_A_1:0n.13   1.75TB     0     13  SSD-NVM shared      aggr0     node_A_1
node_A_1:0n.14   1.75TB     0     14  SSD-NVM shared      aggr0     node_A_1
node_A_1:0n.15   1.75TB     0     15  SSD-NVM shared      aggr0     node_A_1
node_A_1:0n.16   1.75TB     0     16  SSD-NVM shared      aggr0     node_A_1
node_A_1:0n.17   1.75TB     0     17  SSD-NVM shared      aggr0     node_A_1
node_A_1:0n.18   1.75TB     0     18  SSD-NVM shared      aggr0     node_A_1
node_A_1:0n.19   1.75TB     0     19  SSD-NVM shared      -         node_A_1
node_A_2:0n.0    1.75TB     0     0   SSD-NVM shared      aggr0_node_A_2_0 node_A_2
node_A_2:0n.1    1.75TB     0     1   SSD-NVM shared      aggr0_node_A_2_0 node_A_2
node_A_2:0n.2    1.75TB     0     2   SSD-NVM shared      aggr0_node_A_2_0 node_A_2
node_A_2:0n.3    1.75TB     0     3   SSD-NVM shared      aggr0_node_A_2_0 node_A_2
node_A_2:0n.4    1.75TB     0     4   SSD-NVM shared      aggr0_node_A_2_0 node_A_2
node_A_2:0n.5    1.75TB     0     5   SSD-NVM shared      aggr0_node_A_2_0 node_A_2
node_A_2:0n.6    1.75TB     0     6   SSD-NVM shared      aggr0_node_A_2_0 node_A_2
node_A_2:0n.7    1.75TB     0     7   SSD-NVM shared      -         node_A_2
node_A_2:0n.24   -          0     24  SSD-NVM unassigned  -         -
node_A_2:0n.25   -          0     25  SSD-NVM unassigned  -         -
node_A_2:0n.26   -          0     26  SSD-NVM unassigned  -         -
node_A_2:0n.27   -          0     27  SSD-NVM unassigned  -         -
node_A_2:0n.28   -          0     28  SSD-NVM unassigned  -         -
node_A_2:0n.29   -          0     29  SSD-NVM unassigned  -         -
node_A_2:0n.30   -          0     30  SSD-NVM unassigned  -         -
node_A_2:0n.31   -          0     31  SSD-NVM unassigned  -         -
node_A_2:0n.36   -          0     36  SSD-NVM unassigned  -         -
node_A_2:0n.37   -          0     37  SSD-NVM unassigned  -         -
node_A_2:0n.38   -          0     38  SSD-NVM unassigned  -         -
node_A_2:0n.39   -          0     39  SSD-NVM unassigned  -         -
node_A_2:0n.40   -          0     40  SSD-NVM unassigned  -         -
node_A_2:0n.41   -          0     41  SSD-NVM unassigned  -         -
node_A_2:0n.42   -          0     42  SSD-NVM unassigned  -         -
node_A_2:0n.43   -          0     43  SSD-NVM unassigned  -         -
32 entries were displayed.</pre>
</div>
</div>
<div class="paragraph">
<p>The following example shows the cluster_B output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_B::&gt; disk show
                 Usable     Disk              Container   Container
Disk             Size       Shelf Bay Type    Type        Name      Owner
---------------- ---------- ----- --- ------- ----------- --------- --------

Info: This cluster has partitioned disks. To get a complete list of spare disk
capacity use "storage aggregate show-spare-disks".
node_B_1:0n.12   1.75TB     0     12  SSD-NVM shared      aggr0     node_B_1
node_B_1:0n.13   1.75TB     0     13  SSD-NVM shared      aggr0     node_B_1
node_B_1:0n.14   1.75TB     0     14  SSD-NVM shared      aggr0     node_B_1
node_B_1:0n.15   1.75TB     0     15  SSD-NVM shared      aggr0     node_B_1
node_B_1:0n.16   1.75TB     0     16  SSD-NVM shared      aggr0     node_B_1
node_B_1:0n.17   1.75TB     0     17  SSD-NVM shared      aggr0     node_B_1
node_B_1:0n.18   1.75TB     0     18  SSD-NVM shared      aggr0     node_B_1
node_B_1:0n.19   1.75TB     0     19  SSD-NVM shared      -         node_B_1
node_B_2:0n.0    1.75TB     0     0   SSD-NVM shared      aggr0_node_B_1_0 node_B_2
node_B_2:0n.1    1.75TB     0     1   SSD-NVM shared      aggr0_node_B_1_0 node_B_2
node_B_2:0n.2    1.75TB     0     2   SSD-NVM shared      aggr0_node_B_1_0 node_B_2
node_B_2:0n.3    1.75TB     0     3   SSD-NVM shared      aggr0_node_B_1_0 node_B_2
node_B_2:0n.4    1.75TB     0     4   SSD-NVM shared      aggr0_node_B_1_0 node_B_2
node_B_2:0n.5    1.75TB     0     5   SSD-NVM shared      aggr0_node_B_1_0 node_B_2
node_B_2:0n.6    1.75TB     0     6   SSD-NVM shared      aggr0_node_B_1_0 node_B_2
node_B_2:0n.7    1.75TB     0     7   SSD-NVM shared      -         node_B_2
node_B_2:0n.24   -          0     24  SSD-NVM unassigned  -         -
node_B_2:0n.25   -          0     25  SSD-NVM unassigned  -         -
node_B_2:0n.26   -          0     26  SSD-NVM unassigned  -         -
node_B_2:0n.27   -          0     27  SSD-NVM unassigned  -         -
node_B_2:0n.28   -          0     28  SSD-NVM unassigned  -         -
node_B_2:0n.29   -          0     29  SSD-NVM unassigned  -         -
node_B_2:0n.30   -          0     30  SSD-NVM unassigned  -         -
node_B_2:0n.31   -          0     31  SSD-NVM unassigned  -         -
node_B_2:0n.36   -          0     36  SSD-NVM unassigned  -         -
node_B_2:0n.37   -          0     37  SSD-NVM unassigned  -         -
node_B_2:0n.38   -          0     38  SSD-NVM unassigned  -         -
node_B_2:0n.39   -          0     39  SSD-NVM unassigned  -         -
node_B_2:0n.40   -          0     40  SSD-NVM unassigned  -         -
node_B_2:0n.41   -          0     41  SSD-NVM unassigned  -         -
node_B_2:0n.42   -          0     42  SSD-NVM unassigned  -         -
node_B_2:0n.43   -          0     43  SSD-NVM unassigned  -         -
32 entries were displayed.

cluster_B::&gt;</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="peering-the-clusters">Peering the clusters</h3>
<div class="paragraph lead">
<p>The clusters in the MetroCluster configuration must be in a peer relationship so that they can communicate with each other and perform the data mirroring essential to MetroCluster disaster recovery.</p>
</div>
<div class="paragraph">
<p><strong>Related information</strong></p>
</div>
<div class="paragraph">
<p><a href="http://docs.netapp.com/ontap-9/topic/com.netapp.doc.exp-clus-peer/home.html">Cluster and SVM peering express configuration</a></p>
</div>
<div class="paragraph">
<p><a href="concept_prepare_for_the_mcc_installation.html#considerations-when-using-dedicated-ports">Considerations when using dedicated ports</a></p>
</div>
<div class="paragraph">
<p><a href="concept_prepare_for_the_mcc_installation.html#considerations-when-sharing-data-ports">Considerations when sharing data ports</a></p>
</div>
</div>
<div class="sect2">
<h3 id="configuring-intercluster-lifs-for-cluster-peering">Configuring intercluster LIFs for cluster peering</h3>
<div class="paragraph lead">
<p>You must create intercluster LIFs on ports used for communication between the MetroCluster partner clusters. You can use dedicated ports or ports that also have data traffic.</p>
</div>
<div class="sect3">
<h4 id="configuring-intercluster-lifs-on-dedicated-ports">Configuring intercluster LIFs on dedicated ports</h4>
<div class="paragraph lead">
<p>You can configure intercluster LIFs on dedicated ports. Doing so typically increases the available bandwidth for replication traffic.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>List the ports in the cluster:<code>network port show</code></p>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="paragraph">
<p>The following example shows the network ports in cluster01:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; network port show
                                                             Speed (Mbps)
Node   Port      IPspace      Broadcast Domain Link   MTU    Admin/Oper
------ --------- ------------ ---------------- ----- ------- ------------
cluster01-01
       e0a       Cluster      Cluster          up     1500   auto/1000
       e0b       Cluster      Cluster          up     1500   auto/1000
       e0c       Default      Default          up     1500   auto/1000
       e0d       Default      Default          up     1500   auto/1000
       e0e       Default      Default          up     1500   auto/1000
       e0f       Default      Default          up     1500   auto/1000
cluster01-02
       e0a       Cluster      Cluster          up     1500   auto/1000
       e0b       Cluster      Cluster          up     1500   auto/1000
       e0c       Default      Default          up     1500   auto/1000
       e0d       Default      Default          up     1500   auto/1000
       e0e       Default      Default          up     1500   auto/1000
       e0f       Default      Default          up     1500   auto/1000</pre>
</div>
</div>
</li>
<li>
<p>Determine which ports are available to dedicate to intercluster communication:<code>network interface show -fields home-port,curr-port</code></p>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="paragraph">
<p>The following example shows that ports e0e and e0f have not been assigned LIFs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; network interface show -fields home-port,curr-port
vserver lif                  home-port curr-port
------- -------------------- --------- ---------
Cluster cluster01-01_clus1   e0a       e0a
Cluster cluster01-01_clus2   e0b       e0b
Cluster cluster01-02_clus1   e0a       e0a
Cluster cluster01-02_clus2   e0b       e0b
cluster01
        cluster_mgmt         e0c       e0c
cluster01
        cluster01-01_mgmt1   e0c       e0c
cluster01
        cluster01-02_mgmt1   e0c       e0c</pre>
</div>
</div>
</li>
<li>
<p>Create a failover group for the dedicated ports:<code>network interface failover-groups create -vserver system_SVM -failover-group failover_group -targets physical_or_logical_ports</code></p>
<div class="paragraph">
<p>The following example assigns ports e0e and e0f to the failover group intercluster01 on the system SVMcluster01:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; network interface failover-groups create -vserver cluster01 -failover-group
intercluster01 -targets
cluster01-01:e0e,cluster01-01:e0f,cluster01-02:e0e,cluster01-02:e0f</pre>
</div>
</div>
</li>
<li>
<p>Verify that the failover group was created:<code>network interface failover-groups show</code></p>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; network interface failover-groups show
                                  Failover
Vserver          Group            Targets
---------------- ---------------- --------------------------------------------
Cluster
                 Cluster
                                  cluster01-01:e0a, cluster01-01:e0b,
                                  cluster01-02:e0a, cluster01-02:e0b
cluster01
                 Default
                                  cluster01-01:e0c, cluster01-01:e0d,
                                  cluster01-02:e0c, cluster01-02:e0d,
                                  cluster01-01:e0e, cluster01-01:e0f
                                  cluster01-02:e0e, cluster01-02:e0f
                 intercluster01
                                  cluster01-01:e0e, cluster01-01:e0f
                                  cluster01-02:e0e, cluster01-02:e0f</pre>
</div>
</div>
</li>
<li>
<p>Create intercluster LIFs on the system SVM and assign them to the failover group.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ONTAP version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>9.6 and later</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface create -vserver system_SVM -lif LIF_name -service-policy default-intercluster -home-node node -home-port port -address port_IP -netmask netmask -failover-group failover_group</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>9.5 and earlier</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface create -vserver system_SVM -lif LIF_name -role intercluster -home-node node -home-port port -address port_IP -netmask netmask -failover-group failover_group</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="paragraph">
<p>The following example creates intercluster LIFs cluster01_icl01 and cluster01_icl02 in the failover group intercluster01:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; network interface create -vserver cluster01 -lif cluster01_icl01 -service-
policy default-intercluster -home-node cluster01-01 -home-port e0e -address 192.168.1.201
-netmask 255.255.255.0 -failover-group intercluster01

cluster01::&gt; network interface create -vserver cluster01 -lif cluster01_icl02 -service-
policy default-intercluster -home-node cluster01-02 -home-port e0e -address 192.168.1.202
-netmask 255.255.255.0 -failover-group intercluster01</pre>
</div>
</div>
</li>
<li>
<p>Verify that the intercluster LIFs were created:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>In ONTAP 9.6 and later:</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface show -service-policy default-intercluster</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>In ONTAP 9.5 and earlier:</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface show -role intercluster</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; network interface show -service-policy default-intercluster
            Logical    Status     Network            Current       Current Is
Vserver     Interface  Admin/Oper Address/Mask       Node          Port    Home
----------- ---------- ---------- ------------------ ------------- ------- ----
cluster01
            cluster01_icl01
                       up/up      192.168.1.201/24   cluster01-01  e0e     true
            cluster01_icl02
                       up/up      192.168.1.202/24   cluster01-02  e0f     true</pre>
</div>
</div>
</li>
<li>
<p>Verify that the intercluster LIFs are redundant:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>In ONTAP 9.6 and later:</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface show -service-policy default-intercluster -failover</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>In ONTAP 9.5 and earlier:</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface show -role intercluster -failover</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="paragraph">
<p>The following example shows that the intercluster LIFs cluster01_icl01 and cluster01_icl02 on the SVMe0e port will fail over to the e0f port.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; network interface show -service-policy default-intercluster failover
         Logical         Home                  Failover        Failover
Vserver  Interface       Node:Port             Policy          Group
-------- --------------- --------------------- --------------- --------
cluster01
         cluster01_icl01 cluster01-01:e0e   local-only      intercluster01
                            Failover Targets:  cluster01-01:e0e,
                                               cluster01-01:e0f
         cluster01_icl02 cluster01-02:e0e   local-only      intercluster01
                            Failover Targets:  cluster01-02:e0e,
                                               cluster01-02:e0f</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Related information</strong></p>
</div>
<div class="paragraph">
<p><a href="concept_prepare_for_the_mcc_installation.html#considerations-when-using-dedicated-ports">Considerations when using dedicated ports</a></p>
</div>
</div>
<div class="sect3">
<h4 id="configuring-intercluster-lifs-on-shared-data-ports">Configuring intercluster LIFs on shared data ports</h4>
<div class="paragraph lead">
<p>You can configure intercluster LIFs on ports shared with the data network. Doing so reduces the number of ports you need for intercluster networking.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>List the ports in the cluster:<code>network port show</code></p>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="paragraph">
<p>The following example shows the network ports in cluster01:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; network port show
                                                             Speed (Mbps)
Node   Port      IPspace      Broadcast Domain Link   MTU    Admin/Oper
------ --------- ------------ ---------------- ----- ------- ------------
cluster01-01
       e0a       Cluster      Cluster          up     1500   auto/1000
       e0b       Cluster      Cluster          up     1500   auto/1000
       e0c       Default      Default          up     1500   auto/1000
       e0d       Default      Default          up     1500   auto/1000
cluster01-02
       e0a       Cluster      Cluster          up     1500   auto/1000
       e0b       Cluster      Cluster          up     1500   auto/1000
       e0c       Default      Default          up     1500   auto/1000
       e0d       Default      Default          up     1500   auto/1000</pre>
</div>
</div>
</li>
<li>
<p>Create intercluster LIFs on the system SVM:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>In ONTAP 9.6 and later:</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface create -vserver system_SVM -lif LIF_name -service-policy default-intercluster -home-node node -home-port port -address port_IP -netmask netmask</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>In ONTAP 9.5 and earlier:</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface create -vserver system_SVM -lif LIF_name -role intercluster -home-node node -home-port port -address port_IP -netmask netmask</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="paragraph">
<p>The following example creates intercluster LIFs cluster01_icl01 and cluster01_icl02:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; network interface create -vserver cluster01 -lif cluster01_icl01 -service-
policy default-intercluster -home-node cluster01-01 -home-port e0c -address 192.168.1.201
-netmask 255.255.255.0

cluster01::&gt; network interface create -vserver cluster01 -lif cluster01_icl02 -service-
policy default-intercluster -home-node cluster01-02 -home-port e0c -address 192.168.1.202
-netmask 255.255.255.0</pre>
</div>
</div>
</li>
<li>
<p>Verify that the intercluster LIFs were created:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>In ONTAP 9.6 and later:</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface show -service-policy default-intercluster</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>In ONTAP 9.5 and earlier:</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface show -role intercluster</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; network interface show -service-policy default-intercluster
            Logical    Status     Network            Current       Current Is
Vserver     Interface  Admin/Oper Address/Mask       Node          Port    Home
----------- ---------- ---------- ------------------ ------------- ------- ----
cluster01
            cluster01_icl01
                       up/up      192.168.1.201/24   cluster01-01  e0c     true
            cluster01_icl02
                       up/up      192.168.1.202/24   cluster01-02  e0c     true</pre>
</div>
</div>
</li>
<li>
<p>Verify that the intercluster LIFs are redundant:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>In ONTAP 9.6 and later:</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface show service-policy default-intercluster -failover</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>In ONTAP 9.5 and earlier:</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>network interface show -role intercluster -failover</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="paragraph">
<p>The following example shows that the intercluster LIFs cluster01_icl01 and cluster01_icl02 on the e0c port will fail over to the e0d port.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; network interface show -service-policy default-intercluster failover
         Logical         Home                  Failover        Failover
Vserver  Interface       Node:Port             Policy          Group
-------- --------------- --------------------- --------------- --------
cluster01
         cluster01_icl01 cluster01-01:e0c   local-only      192.168.1.201/24
                            Failover Targets: cluster01-01:e0c,
                                              cluster01-01:e0d
         cluster01_icl02 cluster01-02:e0c   local-only      192.168.1.201/24
                            Failover Targets: cluster01-02:e0c,
                                              cluster01-02:e0d</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Related information</strong></p>
</div>
<div class="paragraph">
<p><a href="concept_prepare_for_the_mcc_installation.html#considerations-when-sharing-data-ports">Considerations when sharing data ports</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-a-cluster-peer-relationship">Creating a cluster peer relationship</h3>
<div class="paragraph lead">
<p>You can use the cluster peer create command to create a peer relationship between a local and remote cluster. After the peer relationship has been created, you can run cluster peer create on the remote cluster to authenticate it to the local cluster.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You must have created intercluster LIFs on every node in the clusters that are being peered.</p>
</li>
<li>
<p>The clusters must be running ONTAP 9.3 or later.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>On the destination cluster, create a peer relationship with the source cluster: <code>cluster peer create -generate-passphrase -offer-expiration MM/DD/YYYY HH:MM:SS|1...7days|1...168hours -peer-addrs peer_LIF_IPs -ipspace ipspace</code></p>
<div class="paragraph">
<p>If you specify both -generate-passphrase and -peer-addrs, only the cluster whose intercluster LIFs are specified in -peer-addrs can use the generated password.</p>
</div>
<div class="paragraph">
<p>You can ignore the -ipspace option if you are not using a custom IPspace. For complete command syntax, see the man page.</p>
</div>
<div class="paragraph">
<p>The following example creates a cluster peer relationship on an unspecified remote cluster:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster02::&gt; cluster peer create -generate-passphrase -offer-expiration 2days

                     Passphrase: UCa+6lRVICXeL/gq1WrK7ShR
                Expiration Time: 6/7/2017 08:16:10 EST
  Initial Allowed Vserver Peers: -
            Intercluster LIF IP: 192.140.112.101
              Peer Cluster Name: Clus_7ShR (temporary generated)

Warning: make a note of the passphrase - it cannot be displayed again.</pre>
</div>
</div>
</li>
<li>
<p>On source cluster, authenticate the source cluster to the destination cluster: <code>cluster peer create -peer-addrs peer_LIF_IPs -ipspace ipspace</code></p>
<div class="paragraph">
<p>For complete command syntax, see the man page.</p>
</div>
<div class="paragraph">
<p>The following example authenticates the local cluster to the remote cluster at intercluster LIF IP addresses 192.140.112.101 and 192.140.112.102:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; cluster peer create -peer-addrs 192.140.112.101,192.140.112.102

Notice: Use a generated passphrase or choose a passphrase of 8 or more characters.
        To ensure the authenticity of the peering relationship, use a phrase or sequence of characters that would be hard to guess.

Enter the passphrase:
Confirm the passphrase:

Clusters cluster02 and cluster01 are peered.</pre>
</div>
</div>
<div class="paragraph">
<p>Enter the passphrase for the peer relationship when prompted.</p>
</div>
</li>
<li>
<p>Verify that the cluster peer relationship was created: <code>cluster peer show -instance</code></p>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; cluster peer show -instance

                               Peer Cluster Name: cluster02
                   Remote Intercluster Addresses: 192.140.112.101, 192.140.112.102
              Availability of the Remote Cluster: Available
                             Remote Cluster Name: cluster2
                             Active IP Addresses: 192.140.112.101, 192.140.112.102
                           Cluster Serial Number: 1-80-123456
                  Address Family of Relationship: ipv4
            Authentication Status Administrative: no-authentication
               Authentication Status Operational: absent
                                Last Update Time: 02/05 21:05:41
                    IPspace for the Relationship: Default</pre>
</div>
</div>
</li>
<li>
<p>Check the connectivity and status of the nodes in the peer relationship: <code>cluster peer health show</code></p>
<div class="listingblock">
<div class="content">
<pre>cluster01::&gt; cluster peer health show
Node       cluster-Name                Node-Name
             Ping-Status               RDB-Health Cluster-Health  Avail
---------- --------------------------- ---------  --------------- --------
cluster01-01
           cluster02                   cluster02-01
             Data: interface_reachable
             ICMP: interface_reachable true       true            true
                                       cluster02-02
             Data: interface_reachable
             ICMP: interface_reachable true       true            true
cluster01-02
           cluster02                   cluster02-01
             Data: interface_reachable
             ICMP: interface_reachable true       true            true
                                       cluster02-02
             Data: interface_reachable
             ICMP: interface_reachable true       true            true</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="creating-the-dr-group">Creating the DR group</h3>
<div class="paragraph lead">
<p>You must create the disaster recovery (DR) group relationships between the clusters.</p>
</div>
<div class="paragraph">
<p>You perform this procedure on one of the clusters in the MetroCluster configuration to create the DR relationships between the nodes in both clusters.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The DR relationships cannot be changed after the DR groups are created.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="../media/delete_me_mcc_dr_groups_4_node.gif" alt="delete me mcc dr groups 4 node">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify that the nodes are ready for creation of the DR group by entering the following command on each: <code>metrocluster configuration-settings show-status</code></p>
<div class="paragraph">
<p>The command output should show that the nodes are ready:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; metrocluster configuration-settings show-status
Cluster                    Node          Configuration Settings Status
-------------------------- ------------- --------------------------------
cluster_A                  node_A_1      ready for DR group create
                           node_A_2      ready for DR group create
2 entries were displayed.</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_B::&gt; metrocluster configuration-settings show-status
Cluster                    Node          Configuration Settings Status
-------------------------- ------------- --------------------------------
cluster_B                  node_B_1      ready for DR group create
                           node_B_2      ready for DR group create
2 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>Create the DR group: <code>metrocluster configuration-settings dr-group create -partner-cluster partner-cluster-name -local-node local-node-name -remote-node remote-node-name</code></p>
<div class="paragraph">
<p>This command is issued only once. It does not need to be repeated on the partner cluster. In the command, you specify the name of the remote cluster and the name of one local node and one node on the partner cluster.</p>
</div>
<div class="paragraph">
<p>The two nodes you specify are configured as DR partners and the other two nodes (which are not specified in the command) are configured as the second DR pair in the DR group. These relationships cannot be changed after you enter this command.</p>
</div>
<div class="paragraph">
<p>The following command creates these DR pairs:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>node_A_1 and node_B_1</p>
</li>
<li>
<p>node_A_2 and node_B_2</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>Cluster_A::&gt; metrocluster configuration-settings dr-group create -partner-cluster cluster_B -local-node node_A_1 -remote-node node_B_1
[Job 27] Job succeeded: DR Group Create is successful.</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="configuring-and-connecting-the-metrocluster-ip-interfaces">Configuring and connecting the MetroCluster IP interfaces</h3>
<div class="paragraph lead">
<p>You must configure the MetroCluster IP interfaces that are used for replication of each node&#8217;s storage and nonvolatile cache. You then establish the connections using the MetroCluster IP interfaces. This creates iSCSI connections for storage replication.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You must choose the MetroCluster IP addresses carefully because you cannot change them after initial configuration.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>You must create two interfaces for each node. The interfaces must be associated with the VLANs defined in the MetroCluster RCF file.</p>
</li>
<li>
<p>You must create all MetroCluster IP interface 'A' ports in the same VLAN and all MetroCluster IP interface 'B' ports in the other VLAN.  Refer to <a href="concept_prepare_for_the_mcc_installation.html#Considerations-for-metrocluster-ip-configuration">Considerations for MetroCluster IP configuration</a>.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Notes:</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Starting with ONTAP 9.8, certain platforms use a VLAN for the MetroCluster IP interface. By default, each of the two ports uses a different VLAN: 10 and 20. You can also specify a different (non-default) VLAN higher than 100 (between 101&#8212;&#8203;4095) using the -vlan-id parameter in the <code>metrocluster configuration-settings interface create</code> command.</p>
</li>
<li>
<p>Starting with ONTAP 9.9.1, if you are using a layer 3 configuration, you must also specify the <code>-gateway</code> parameter when creating MetroCluster IP interfaces. Refer to link:../install-ip/concept_considerations_layer_3.adoc.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following platform models use VLANs and allow configuration of a non-default VLAN ID.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AFF platforms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FAS platforms</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>AFF A220</p>
</li>
<li>
<p>AFF A250</p>
</li>
<li>
<p>AFF A400</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>FAS2750</p>
</li>
<li>
<p>FAS500f</p>
</li>
<li>
<p>FAS8300</p>
</li>
<li>
<p>FAS8700</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following IP addresses and subnets are used in the examples:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node</th>
<th class="tableblock halign-left valign-top">Interface</th>
<th class="tableblock halign-left valign-top">IP address</th>
<th class="tableblock halign-left valign-top">Subnet</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>node_A_1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>MetroCluster IP interface 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10.1.1.1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10.1.1/24</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>MetroCluster IP interface 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10.1.2.1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10.1.2/24</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>node_A_2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>MetroCluster IP interface 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10.1.1.2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10.1.1/24</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>MetroCluster IP interface 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10.1.2.2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10.1.2/24</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>node_B_1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>MetroCluster IP interface 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10.1.1.3</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10.1.1/24</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>MetroCluster IP interface 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10.1.2.3</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10.1.2/24</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>node_B_2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>MetroCluster IP interface 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10.1.1.4</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10.1.1/24</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>MetroCluster IP interface 2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10.1.2.4</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10.1.2/24</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The physical ports used by the MetroCluster IP interfaces depends on the platform model, as shown in the following table.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Platform model</th>
<th class="tableblock halign-left valign-top">MetroCluster IP port</th>
<th class="tableblock halign-left valign-top">VLAN ID</th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>AFF A800</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e0b</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="10"><div class="content"><div class="paragraph">
<p>Not used</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e1b</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>AFF A700 and FAS9000</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e5a</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e5b</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>AFF A400</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e3a</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e3b</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>AFF A320</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e0g</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e0h</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>AFF A300 and FAS8200</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e1a</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e1b</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>AFF A220 and FAS2750</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e0a</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10</p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>On these systems, these physical ports are also used as cluster interfaces.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e0b</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>20</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>AFF A250 and FAS500f</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e0c</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e0d</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>20</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>FAS8300 and FAS8700</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e0c</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>e0d</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The port usage in the following examples is for an AFF A700 or a FAS9000 system.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Confirm that each node has disk automatic assignment enabled: <code>storage disk option show</code></p>
<div class="paragraph">
<p>Disk automatic assignment will assign pool 0 and pool 1 disks on a shelf-by-shelf basis.</p>
</div>
<div class="paragraph">
<p>The Auto Assign column indicates whether disk automatic assignment is enabled.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Node        BKg. FW. Upd.  Auto Copy   Auto Assign  Auto Assign Policy
----------  -------------  ----------  -----------  ------------------
node_A_1             on           on           on           default
node_A_2             on           on           on           default
2 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>Verify you can create MetroCluster IP interfaces on the nodes: <code>metrocluster configuration-settings show-status</code></p>
<div class="paragraph">
<p>All nodes should be ready:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Cluster       Node         Configuration Settings Status
----------    -----------  ---------------------------------
cluster_A
              node_A_1     ready for interface create
              node_A_2     ready for interface create
cluster_B
              node_B_1     ready for interface create
              node_B_2     ready for interface create
4 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>Create the interfaces on node_A_1.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes:</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>The port usage in the following examples is for an AFF A700 or a FAS9000 system (e5a and e5b). You must configure the interfaces on the correct ports for your platform model, as given above.</p>
</li>
<li>
<p>Starting with ONTAP 9.9.1, if you are using a layer 3 configuration, you must also specify the <code>-gateway</code> parameter when creating MetroCluster IP interfaces. Refer to <a href="concept_prepare_for_the_mcc_installation.html#Considerations-for-layer-3-wide-area-networks">Considerations for layer 3 wide-area networks</a>.</p>
</li>
<li>
<p>On platform models that support VLANs for the MetroCluster IP interface, you can include the <code>-vlan-id</code> parameter if you dont want to use the default VLAN IDs.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Configure the interface on port e5a on node_A_1: <code>metrocluster configuration-settings interface create -cluster-name cluster-name -home-node node-name -home-port e5a -address ip-address -netmask netmask</code></p>
<div class="paragraph">
<p>The following example shows the creation of the interface on port e5a on node_A_1 with IP address 10.1.1.1:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; metrocluster configuration-settings interface create -cluster-name cluster_A -home-node node_A_1 -home-port e5a -address 10.1.1.1 -netmask 255.255.255.0
[Job 28] Job succeeded: Interface Create is successful.
cluster_A::&gt;</pre>
</div>
</div>
</li>
<li>
<p>Configure the interface on port e5b on node_A_1: <code>metrocluster configuration-settings interface create -cluster-name cluster-name -home-node node-name -home-port e5b -address ip-address -netmask netmask</code></p>
<div class="paragraph">
<p>The following example shows the creation of the interface on port e5b on node_A_1 with IP address 10.1.2.1:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; metrocluster configuration-settings interface create -cluster-name cluster_A -home-node node_A_1 -home-port e5b -address 10.1.2.1 -netmask 255.255.255.0
[Job 28] Job succeeded: Interface Create is successful.
cluster_A::&gt;</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You can verify that these interfaces are present using the <code>metrocluster configuration-settings interface show</code> command.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create the interfaces on node_A_2.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes:</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>The port usage in the following examples is for an AFF A700 or a FAS9000 system (e5a and e5b). You must configure the interfaces on the correct ports for your platform model, as given above.</p>
</li>
<li>
<p>Starting with ONTAP 9.9.1, if you are using a layer 3 configuration, you must also specify the <code>-gateway</code> parameter when creating MetroCluster IP interfaces. Refer to <a href="concept_prepare_for_the_mcc_installation.html#Considerations-for-layer-3-wide-area-networks">Considerations for layer 3 wide-area networks</a>.</p>
</li>
<li>
<p>On platform models that support VLANs for the MetroCluster IP interface, you can include the <code>-vlan-id</code> parameter if you dont want to use the default VLAN IDs.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Configure the interface on port e5a on node_A_2: <code>metrocluster configuration-settings interface create -cluster-name cluster-name -home-node node-name -home-port e5a -address ip-address -netmask netmask</code></p>
<div class="paragraph">
<p>The following example shows the creation of the interface on port e5a on node_A_2 with IP address 10.1.1.2:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; metrocluster configuration-settings interface create -cluster-name cluster_A -home-node node_A_2 -home-port e5a -address 10.1.1.2 -netmask 255.255.255.0
[Job 28] Job succeeded: Interface Create is successful.
cluster_A::&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>On platform models that support VLANs for the MetroCluster IP interface, you can include the -vlan-id paramter if you don&#8217;t want to use the default VLAN IDs. The following example shows the command for an AFF A220 system with a VLAN ID of 120:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; metrocluster configuration-settings interface create -cluster-name cluster_A -home-node node_A_2 -home-port e0a -address 10.1.1.2 -netmask 255.255.255.0 -vlan-id 120
[Job 28] Job succeeded: Interface Create is successful.
cluster_A::&gt;</pre>
</div>
</div>
</li>
<li>
<p>Configure the interface on port e5b on node_A_2: <code>metrocluster configuration-settings interface create -cluster-name cluster-name -home-node node-name -home-port e5b -address ip-address -netmask netmask</code></p>
<div class="paragraph">
<p>The following example shows the creation of the interface on port e5b on node_A_2 with IP address 10.1.2.2:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; metrocluster configuration-settings interface create -cluster-name cluster_A -home-node node_A_2 -home-port e5b -address 10.1.2.2 -netmask 255.255.255.0
[Job 28] Job succeeded: Interface Create is successful.
cluster_A::&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>On platform models that support VLANs for the MetroCluster IP interface, you can include the -vlan-id paramter if you don&#8217;t want to use the default VLAN IDs. The following example shows the command for an AFF A220 system with a VLAN ID of 220:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; metrocluster configuration-settings interface create -cluster-name cluster_A -home-node node_A_2 -home-port e0b -address 10.1.2.2 -netmask 255.255.255.0 -vlan-id 220
[Job 28] Job succeeded: Interface Create is successful.
cluster_A::&gt;</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Create the interfaces on node_B_1.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes:</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>The port usage in the following examples is for an AFF A700 or a FAS9000 system (e5a and e5b). You must configure the interfaces on the correct ports for your platform model, as given above.</p>
</li>
<li>
<p>Starting with ONTAP 9.9.1, if you are using a layer 3 configuration, you must also specify the <code>-gateway</code> parameter when creating MetroCluster IP interfaces. Refer to <a href="concept_prepare_for_the_mcc_installation.html#Considerations-for-layer-3-wide-area-networks">Considerations for layer 3 wide-area networks</a>.</p>
</li>
<li>
<p>On platform models that support VLANs for the MetroCluster IP interface, you can include the <code>-vlan-id</code> parameter if you dont want to use the default VLAN IDs.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Configure the interface on port e5a on node_B_1:<code>metrocluster configuration-settings interface create -cluster-namecluster-name-home-nodenode-name-home-port e5a -addressip-address-netmask netmask</code></p>
<div class="paragraph">
<p>The following example shows the creation of the interface on port e5a on node_B_1 with IP address 10.1.1.3:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; metrocluster configuration-settings interface create -cluster-name cluster_A -home-node node_B_1 -home-port e5a -address 10.1.1.3 -netmask 255.255.255.0
[Job 28] Job succeeded: Interface Create is successful.cluster_A::&gt;</pre>
</div>
</div>
</li>
<li>
<p>Configure the interface on port e5b on node_B_1: <code>metrocluster configuration-settings interface create -cluster-name cluster-name -home-node node-name -home-port e5a -addressip-address -netmask netmask</code></p>
<div class="paragraph">
<p>The following example shows the creation of the interface on port e5b on node_B_1 with IP address 10.1.2.3:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; metrocluster configuration-settings interface create -cluster-name cluster_A -home-node node_B_1 -home-port e5b -address 10.1.2.3 -netmask 255.255.255.0
[Job 28] Job succeeded: Interface Create is successful.cluster_A::&gt;</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Create the interfaces on node_B_2.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes:</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>The port usage in the following examples is for an AFF A700 or a FAS9000 system (e5a and e5b). You must configure the interfaces on the correct ports for your platform model, as given above.</p>
</li>
<li>
<p>Starting with ONTAP 9.9.1, if you are using a layer 3 configuration, you must also specify the <code>-gateway</code> parameter when creating MetroCluster IP interfaces. Refer to <a href="concept_prepare_for_the_mcc_installation.html#Considerations-for-layer-3-wide-area-networks">Considerations for layer 3 wide-area networks</a>.</p>
</li>
<li>
<p>On platform models that support VLANs for the MetroCluster IP interface, you can include the <code>-vlan-id</code> parameter if you dont want to use the default VLAN IDs.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Configure the interface on port e5a on node_B_2:<code>metrocluster configuration-settings interface create -cluster-name cluster-name -home-nodenode-name -home-port e5a -addressip-addresip-addresss ip-address -netmask netmask</code></p>
<div class="paragraph">
<p>The following example shows the creation of the interface on port e5a on node_B_2 with IP address 10.1.1.4:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_B::&gt;metrocluster configuration-settings interface create -cluster-name cluster_B -home-node node_B_2 -home-port e5a -address 10.1.1.4 -netmask 255.255.255.0
[Job 28] Job succeeded: Interface Create is successful.cluster_A::&gt;</pre>
</div>
</div>
</li>
<li>
<p>Configure the interface on port e5b on node_B_2:<code>metrocluster configuration-settings interface create -cluster-name cluster-name -home-node node-name -home-port e5b -address ip-address -netmask netmask</code></p>
<div class="paragraph">
<p>The following example shows the creation of the interface on port e5b on node_B_2 with IP address 10.1.2.4:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_B::&gt; metrocluster configuration-settings interface create -cluster-name cluster_B -home-node node_B_2 -home-port e5b -address 10.1.2.4 -netmask 255.255.255.0
[Job 28] Job succeeded: Interface Create is successful.
cluster_A::&gt;</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Verify that the interfaces have been configured: <code>metrocluster configuration-settings interface show</code></p>
<div class="paragraph">
<p>The following example shows that the configuration state for each interface is completed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; metrocluster configuration-settings interface show
DR                                                              Config
Group Cluster Node    Network Address Netmask         Gateway   State
----- ------- ------- --------------- --------------- --------- ----------
1     cluster_A  node_A_1
                 Home Port: e5a
                      10.1.1.1     255.255.255.0   -         completed
                 Home Port: e5b
                      10.1.2.1     255.255.255.0   -         completed
                 node_A_2
                 Home Port: e5a
                      10.1.1.2     255.255.255.0   -         completed
                 Home Port: e5b
                      10.1.2.2     255.255.255.0   -         completed
      cluster_B  node_B_1
                 Home Port: e5a
                      10.1.1.3     255.255.255.0   -         completed
                 Home Port: e5b
                      10.1.2.3     255.255.255.0   -         completed
                 node_B_2
                 Home Port: e5a
                      10.1.1.4     255.255.255.0   -         completed
                 Home Port: e5b
                      10.1.2.4     255.255.255.0   -         completed
8 entries were displayed.
cluster_A::&gt;</pre>
</div>
</div>
</li>
<li>
<p>Verify that the nodes are ready to connect the MetroCluster interfaces: <code>metrocluster configuration-settings show-status</code></p>
<div class="paragraph">
<p>The following example shows all nodes in the "ready for connection" state:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Cluster       Node         Configuration Settings Status
----------    -----------  ---------------------------------
cluster_A
              node_A_1     ready for connection connect
              node_A_2     ready for connection connect
cluster_B
              node_B_1     ready for connection connect
              node_B_2     ready for connection connect
4 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>Establish the connections: <code>metrocluster configuration-settings connection connect</code></p>
<div class="paragraph">
<p>The IP addresses cannot be changed after you issue this command.</p>
</div>
<div class="paragraph">
<p>The following example shows cluster_A is successfully connected:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; metrocluster configuration-settings connection connect
[Job 53] Job succeeded: Connect is successful.
cluster_A::&gt;</pre>
</div>
</div>
</li>
<li>
<p>Verify that the connections have been established: <code>metrocluster configuration-settings show-status</code></p>
<div class="paragraph">
<p>The configuration settings status for all nodes should be completed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Cluster       Node         Configuration Settings Status
----------    -----------  ---------------------------------
cluster_A
              node_A_1     completed
              node_A_2     completed
cluster_B
              node_B_1     completed
              node_B_2     completed
4 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>Verify that the iSCSI connections have been established:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Change to the advanced privilege level: <code>set -privilege advanced</code></p>
<div class="paragraph">
<p>You need to respond with <code>y</code> when you are prompted to continue into advanced mode and you see the advanced mode prompt (<code>*&gt;</code>).</p>
</div>
</li>
<li>
<p>Display the connections: <code>storage iscsi-initiator show</code></p>
<div class="paragraph">
<p>On systems running ONTAP 9.5, there are eight MetroCluster IP initiators on each cluster that should appear in the output.</p>
</div>
<div class="paragraph">
<p>On systems running ONTAP 9.4 and earlier, there are four MetroCluster IP initiators on each cluster that should appear in the output.</p>
</div>
<div class="paragraph">
<p>The following example shows the eight MetroCluster IP initiators on a cluster running ONTAP 9.5:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::*&gt; storage iscsi-initiator show
Node Type Label    Target Portal           Target Name                      Admin/Op
---- ---- -------- ------------------      -------------------------------- --------

cluster_A-01
     dr_auxiliary
              mccip-aux-a-initiator
                   10.227.16.113:65200     prod506.com.company:abab44       up/up
              mccip-aux-a-initiator2
                   10.227.16.113:65200     prod507.com.company:abab44       up/up
              mccip-aux-b-initiator
                   10.227.95.166:65200     prod506.com.company:abab44       up/up
              mccip-aux-b-initiator2
                   10.227.95.166:65200     prod507.com.company:abab44       up/up
     dr_partner
              mccip-pri-a-initiator
                   10.227.16.112:65200     prod506.com.company:cdcd88       up/up
              mccip-pri-a-initiator2
                   10.227.16.112:65200     prod507.com.company:cdcd88       up/up
              mccip-pri-b-initiator
                   10.227.95.165:65200     prod506.com.company:cdcd88       up/up
              mccip-pri-b-initiator2
                   10.227.95.165:65200     prod507.com.company:cdcd88       up/up
cluster_A-02
     dr_auxiliary
              mccip-aux-a-initiator
                   10.227.16.112:65200     prod506.com.company:cdcd88       up/up
              mccip-aux-a-initiator2
                   10.227.16.112:65200     prod507.com.company:cdcd88       up/up
              mccip-aux-b-initiator
                   10.227.95.165:65200     prod506.com.company:cdcd88       up/up
              mccip-aux-b-initiator2
                   10.227.95.165:65200     prod507.com.company:cdcd88       up/up
     dr_partner
              mccip-pri-a-initiator
                   10.227.16.113:65200     prod506.com.company:abab44       up/up
              mccip-pri-a-initiator2
                   10.227.16.113:65200     prod507.com.company:abab44       up/up
              mccip-pri-b-initiator
                   10.227.95.166:65200     prod506.com.company:abab44       up/up
              mccip-pri-b-initiator2
                   10.227.95.166:65200     prod507.com.company:abab44       up/up
16 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>Return to the admin privilege level: <code>set -privilege admin</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Verify that the nodes are ready for final implementation of the MetroCluster configuration: <code>metrocluster node show</code></p>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; metrocluster node show
DR                               Configuration  DR
Group Cluster Node               State          Mirroring Mode
----- ------- ------------------ -------------- --------- ----
-     cluster_A
              node_A_1           ready to configure -     -
              node_A_2           ready to configure -     -
2 entries were displayed.
cluster_A::&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_B::&gt; metrocluster node show
DR                               Configuration  DR
Group Cluster Node               State          Mirroring Mode
----- ------- ------------------ -------------- --------- ----
-     cluster_B
              node_B_1           ready to configure -     -
              node_B_2           ready to configure -     -
2 entries were displayed.
cluster_B::&gt;</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="verifying-or-manually-performing-pool-1-drives-assignment">Verifying or manually performing pool 1 drives assignment</h3>
<div class="paragraph lead">
<p>Depending on the storage configuration, you must either verify pool 1 drive assignment or manually assign drives to pool 1 for each node in the MetroCluster IP configuration. The procedure you use depends on the version of ONTAP you are using.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration type</th>
<th class="tableblock halign-left valign-top">Procedure</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The systems meet the requirements for automatic drive assignment or, if running ONTAP 9.3, were received from the factory.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#verifying-disk-assignment-for-pool-1-disks">Verifying disk assignment for pool 1 disks</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The configuration includes either three shelves, or, if it contains more than four shelves, has an uneven multiple of four shelves (for example, seven shelves), and is running ONTAP 9.5.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#manually-assigning-drives-for-pool-1-ontap-9-4-or-later">Manually assigning drives for pool 1 (ONTAP 9.4 or later)</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The configuration does not include four storage shelves per site and is running ONTAP 9.4</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#manually-assigning-drives-for-pool-1-ontap-9-4-or-later">Manually assigning drives for pool 1 (ONTAP 9.4 or later)</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The systems were not received from the factory and are running ONTAP 9.3Systems received from the factory are pre-configured with assigned drives.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#manually-assigning-disks-for-pool-1-ontap-9-3">Manually assigning disks for pool 1 (ONTAP 9.3)</a></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="verifying-disk-assignment-for-pool-1-disks">Verifying disk assignment for pool 1 disks</h4>
<div class="paragraph lead">
<p>You must verify that the remote disks are visible to the nodes and have been assigned correctly.</p>
</div>
<div class="paragraph">
<p>You must wait at least ten minutes for disk auto-assignment to complete after the MetroCluster IP interfaces and connections were created with the <code>metrocluster configuration-settings connection connect</code> command.</p>
</div>
<div class="paragraph">
<p>Command output will show disk names in the form: node-name:0m.i1.0L1</p>
</div>
<div class="paragraph">
<p><a href="concept_prepare_for_the_mcc_installation.html#considerations-for-automatic-drive-assignment-and-adp-systems-in-ontap-9-4-and-later">Considerations for automatic drive assignment and ADP systems in ONTAP 9.4 and later</a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify pool 1 disks are auto-assigned: <code>disk show</code></p>
<div class="paragraph">
<p>The following output shows the output for an AFF A800 system with no external shelves.</p>
</div>
<div class="paragraph">
<p>Drive autoassignment has assigned one quarter (8 drives) to node_A_1 and one quarter to node_A_2. The remaining drives will be remote (pool1) disks for node_B_1 and node_B_2.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_B::&gt; disk show -host-adapter 0m -owner node_B_2
                    Usable     Disk              Container   Container
Disk                Size       Shelf Bay Type    Type        Name      Owner
----------------    ---------- ----- --- ------- ----------- --------- --------
node_B_2:0m.i0.2L4  894.0GB    0     29  SSD-NVM shared      -         node_B_2
node_B_2:0m.i0.2L10 894.0GB    0     25  SSD-NVM shared      -         node_B_2
node_B_2:0m.i0.3L3  894.0GB    0     28  SSD-NVM shared      -         node_B_2
node_B_2:0m.i0.3L9  894.0GB    0     24  SSD-NVM shared      -         node_B_2
node_B_2:0m.i0.3L11 894.0GB    0     26  SSD-NVM shared      -         node_B_2
node_B_2:0m.i0.3L12 894.0GB    0     27  SSD-NVM shared      -         node_B_2
node_B_2:0m.i0.3L15 894.0GB    0     30  SSD-NVM shared      -         node_B_2
node_B_2:0m.i0.3L16 894.0GB    0     31  SSD-NVM shared      -         node_B_2
8 entries were displayed.

cluster_B::&gt; disk show -host-adapter 0m -owner node_B_1
                    Usable     Disk              Container   Container
Disk                Size       Shelf Bay Type    Type        Name      Owner
----------------    ---------- ----- --- ------- ----------- --------- --------
node_B_1:0m.i2.3L19 1.75TB     0     42  SSD-NVM shared      -         node_B_1
node_B_1:0m.i2.3L20 1.75TB     0     43  SSD-NVM spare       Pool1     node_B_1
node_B_1:0m.i2.3L23 1.75TB     0     40  SSD-NVM shared       -        node_B_1
node_B_1:0m.i2.3L24 1.75TB     0     41  SSD-NVM spare       Pool1     node_B_1
node_B_1:0m.i2.3L29 1.75TB     0     36  SSD-NVM shared       -        node_B_1
node_B_1:0m.i2.3L30 1.75TB     0     37  SSD-NVM shared       -        node_B_1
node_B_1:0m.i2.3L31 1.75TB     0     38  SSD-NVM shared       -        node_B_1
node_B_1:0m.i2.3L32 1.75TB     0     39  SSD-NVM shared       -        node_B_1
8 entries were displayed.

cluster_B::&gt; disk show
                    Usable     Disk              Container   Container
Disk                Size       Shelf Bay Type    Type        Name      Owner
----------------    ---------- ----- --- ------- ----------- --------- --------
node_B_1:0m.i1.0L6  1.75TB     0     1   SSD-NVM shared      -         node_A_2
node_B_1:0m.i1.0L8  1.75TB     0     3   SSD-NVM shared      -         node_A_2
node_B_1:0m.i1.0L17 1.75TB     0     18  SSD-NVM shared      -         node_A_1
node_B_1:0m.i1.0L22 1.75TB     0     17 SSD-NVM shared - node_A_1
node_B_1:0m.i1.0L25 1.75TB     0     12 SSD-NVM shared - node_A_1
node_B_1:0m.i1.2L2  1.75TB     0     5 SSD-NVM shared - node_A_2
node_B_1:0m.i1.2L7  1.75TB     0     2 SSD-NVM shared - node_A_2
node_B_1:0m.i1.2L14 1.75TB     0     7 SSD-NVM shared - node_A_2
node_B_1:0m.i1.2L21 1.75TB     0     16 SSD-NVM shared - node_A_1
node_B_1:0m.i1.2L27 1.75TB     0     14 SSD-NVM shared - node_A_1
node_B_1:0m.i1.2L28 1.75TB     0     15 SSD-NVM shared - node_A_1
node_B_1:0m.i2.1L1  1.75TB     0     4 SSD-NVM shared - node_A_2
node_B_1:0m.i2.1L5  1.75TB     0     0 SSD-NVM shared - node_A_2
node_B_1:0m.i2.1L13 1.75TB     0     6 SSD-NVM shared - node_A_2
node_B_1:0m.i2.1L18 1.75TB     0     19 SSD-NVM shared - node_A_1
node_B_1:0m.i2.1L26 1.75TB     0     13 SSD-NVM shared - node_A_1
node_B_1:0m.i2.3L19 1.75TB     0 42 SSD-NVM shared - node_B_1
node_B_1:0m.i2.3L20 1.75TB     0 43 SSD-NVM shared - node_B_1
node_B_1:0m.i2.3L23 1.75TB     0 40 SSD-NVM shared - node_B_1
node_B_1:0m.i2.3L24 1.75TB     0 41 SSD-NVM shared - node_B_1
node_B_1:0m.i2.3L29 1.75TB     0 36 SSD-NVM shared - node_B_1
node_B_1:0m.i2.3L30 1.75TB     0 37 SSD-NVM shared - node_B_1
node_B_1:0m.i2.3L31 1.75TB     0 38 SSD-NVM shared - node_B_1
node_B_1:0m.i2.3L32 1.75TB     0 39 SSD-NVM shared - node_B_1
node_B_1:0n.12      1.75TB     0 12 SSD-NVM shared aggr0 node_B_1
node_B_1:0n.13      1.75TB     0 13 SSD-NVM shared aggr0 node_B_1
node_B_1:0n.14      1.75TB     0 14 SSD-NVM shared aggr0 node_B_1
node_B_1:0n.15      1.75TB 0 15 SSD-NVM shared aggr0 node_B_1
node_B_1:0n.16      1.75TB 0 16 SSD-NVM shared aggr0 node_B_1
node_B_1:0n.17      1.75TB 0 17 SSD-NVM shared aggr0 node_B_1
node_B_1:0n.18      1.75TB 0 18 SSD-NVM shared aggr0 node_B_1
node_B_1:0n.19      1.75TB 0 19 SSD-NVM shared - node_B_1
node_B_1:0n.24      894.0GB 0 24 SSD-NVM shared - node_A_2
node_B_1:0n.25      894.0GB 0 25 SSD-NVM shared - node_A_2
node_B_1:0n.26      894.0GB 0 26 SSD-NVM shared - node_A_2
node_B_1:0n.27      894.0GB 0 27 SSD-NVM shared - node_A_2
node_B_1:0n.28      894.0GB 0 28 SSD-NVM shared - node_A_2
node_B_1:0n.29      894.0GB 0 29 SSD-NVM shared - node_A_2
node_B_1:0n.30      894.0GB 0 30 SSD-NVM shared - node_A_2
node_B_1:0n.31      894.0GB 0 31 SSD-NVM shared - node_A_2
node_B_1:0n.36      1.75TB 0 36 SSD-NVM shared - node_A_1
node_B_1:0n.37      1.75TB 0 37 SSD-NVM shared - node_A_1
node_B_1:0n.38      1.75TB 0 38 SSD-NVM shared - node_A_1
node_B_1:0n.39      1.75TB 0 39 SSD-NVM shared - node_A_1
node_B_1:0n.40      1.75TB 0 40 SSD-NVM shared - node_A_1
node_B_1:0n.41      1.75TB 0 41 SSD-NVM shared - node_A_1
node_B_1:0n.42      1.75TB 0 42 SSD-NVM shared - node_A_1
node_B_1:0n.43      1.75TB 0 43 SSD-NVM shared - node_A_1
node_B_2:0m.i0.2L4  894.0GB 0 29 SSD-NVM shared - node_B_2
node_B_2:0m.i0.2L10 894.0GB 0 25 SSD-NVM shared - node_B_2
node_B_2:0m.i0.3L3  894.0GB 0 28 SSD-NVM shared - node_B_2
node_B_2:0m.i0.3L9  894.0GB 0 24 SSD-NVM shared - node_B_2
node_B_2:0m.i0.3L11 894.0GB 0 26 SSD-NVM shared - node_B_2
node_B_2:0m.i0.3L12 894.0GB 0 27 SSD-NVM shared - node_B_2
node_B_2:0m.i0.3L15 894.0GB 0 30 SSD-NVM shared - node_B_2
node_B_2:0m.i0.3L16 894.0GB 0 31 SSD-NVM shared - node_B_2
node_B_2:0n.0       1.75TB 0 0 SSD-NVM shared aggr0_rha12_b1_cm_02_0 node_B_2
node_B_2:0n.1 1.75TB 0 1 SSD-NVM shared aggr0_rha12_b1_cm_02_0 node_B_2
node_B_2:0n.2 1.75TB 0 2 SSD-NVM shared aggr0_rha12_b1_cm_02_0 node_B_2
node_B_2:0n.3 1.75TB 0 3 SSD-NVM shared aggr0_rha12_b1_cm_02_0 node_B_2
node_B_2:0n.4 1.75TB 0 4 SSD-NVM shared aggr0_rha12_b1_cm_02_0 node_B_2
node_B_2:0n.5 1.75TB 0 5 SSD-NVM shared aggr0_rha12_b1_cm_02_0 node_B_2
node_B_2:0n.6 1.75TB 0 6 SSD-NVM shared aggr0_rha12_b1_cm_02_0 node_B_2
node_B_2:0n.7 1.75TB 0 7 SSD-NVM shared - node_B_2
64 entries were displayed.

cluster_B::&gt;


cluster_A::&gt; disk show
Usable Disk Container Container
Disk Size Shelf Bay Type Type Name Owner
---------------- ---------- ----- --- ------- ----------- --------- --------
node_A_1:0m.i1.0L2 1.75TB 0 5 SSD-NVM shared - node_B_2
node_A_1:0m.i1.0L8 1.75TB 0 3 SSD-NVM shared - node_B_2
node_A_1:0m.i1.0L18 1.75TB 0 19 SSD-NVM shared - node_B_1
node_A_1:0m.i1.0L25 1.75TB 0 12 SSD-NVM shared - node_B_1
node_A_1:0m.i1.0L27 1.75TB 0 14 SSD-NVM shared - node_B_1
node_A_1:0m.i1.2L1 1.75TB 0 4 SSD-NVM shared - node_B_2
node_A_1:0m.i1.2L6 1.75TB 0 1 SSD-NVM shared - node_B_2
node_A_1:0m.i1.2L7 1.75TB 0 2 SSD-NVM shared - node_B_2
node_A_1:0m.i1.2L14 1.75TB 0 7 SSD-NVM shared - node_B_2
node_A_1:0m.i1.2L17 1.75TB 0 18 SSD-NVM shared - node_B_1
node_A_1:0m.i1.2L22 1.75TB 0 17 SSD-NVM shared - node_B_1
node_A_1:0m.i2.1L5 1.75TB 0 0 SSD-NVM shared - node_B_2
node_A_1:0m.i2.1L13 1.75TB 0 6 SSD-NVM shared - node_B_2
node_A_1:0m.i2.1L21 1.75TB 0 16 SSD-NVM shared - node_B_1
node_A_1:0m.i2.1L26 1.75TB 0 13 SSD-NVM shared - node_B_1
node_A_1:0m.i2.1L28 1.75TB 0 15 SSD-NVM shared - node_B_1
node_A_1:0m.i2.3L19 1.75TB 0 42 SSD-NVM shared - node_A_1
node_A_1:0m.i2.3L20 1.75TB 0 43 SSD-NVM shared - node_A_1
node_A_1:0m.i2.3L23 1.75TB 0 40 SSD-NVM shared - node_A_1
node_A_1:0m.i2.3L24 1.75TB 0 41 SSD-NVM shared - node_A_1
node_A_1:0m.i2.3L29 1.75TB 0 36 SSD-NVM shared - node_A_1
node_A_1:0m.i2.3L30 1.75TB 0 37 SSD-NVM shared - node_A_1
node_A_1:0m.i2.3L31 1.75TB 0 38 SSD-NVM shared - node_A_1
node_A_1:0m.i2.3L32 1.75TB 0 39 SSD-NVM shared - node_A_1
node_A_1:0n.12 1.75TB 0 12 SSD-NVM shared aggr0 node_A_1
node_A_1:0n.13 1.75TB 0 13 SSD-NVM shared aggr0 node_A_1
node_A_1:0n.14 1.75TB 0 14 SSD-NVM shared aggr0 node_A_1
node_A_1:0n.15 1.75TB 0 15 SSD-NVM shared aggr0 node_A_1
node_A_1:0n.16 1.75TB 0 16 SSD-NVM shared aggr0 node_A_1
node_A_1:0n.17 1.75TB 0 17 SSD-NVM shared aggr0 node_A_1
node_A_1:0n.18 1.75TB 0 18 SSD-NVM shared aggr0 node_A_1
node_A_1:0n.19 1.75TB 0 19 SSD-NVM shared - node_A_1
node_A_1:0n.24 894.0GB 0 24 SSD-NVM shared - node_B_2
node_A_1:0n.25 894.0GB 0 25 SSD-NVM shared - node_B_2
node_A_1:0n.26 894.0GB 0 26 SSD-NVM shared - node_B_2
node_A_1:0n.27 894.0GB 0 27 SSD-NVM shared - node_B_2
node_A_1:0n.28 894.0GB 0 28 SSD-NVM shared - node_B_2
node_A_1:0n.29 894.0GB 0 29 SSD-NVM shared - node_B_2
node_A_1:0n.30 894.0GB 0 30 SSD-NVM shared - node_B_2
node_A_1:0n.31 894.0GB 0 31 SSD-NVM shared - node_B_2
node_A_1:0n.36 1.75TB 0 36 SSD-NVM shared - node_B_1
node_A_1:0n.37 1.75TB 0 37 SSD-NVM shared - node_B_1
node_A_1:0n.38 1.75TB 0 38 SSD-NVM shared - node_B_1
node_A_1:0n.39 1.75TB 0 39 SSD-NVM shared - node_B_1
node_A_1:0n.40 1.75TB 0 40 SSD-NVM shared - node_B_1
node_A_1:0n.41 1.75TB 0 41 SSD-NVM shared - node_B_1
node_A_1:0n.42 1.75TB 0 42 SSD-NVM shared - node_B_1
node_A_1:0n.43 1.75TB 0 43 SSD-NVM shared - node_B_1
node_A_2:0m.i2.3L3 894.0GB 0 28 SSD-NVM shared - node_A_2
node_A_2:0m.i2.3L4 894.0GB 0 29 SSD-NVM shared - node_A_2
node_A_2:0m.i2.3L9 894.0GB 0 24 SSD-NVM shared - node_A_2
node_A_2:0m.i2.3L10 894.0GB 0 25 SSD-NVM shared - node_A_2
node_A_2:0m.i2.3L11 894.0GB 0 26 SSD-NVM shared - node_A_2
node_A_2:0m.i2.3L12 894.0GB 0 27 SSD-NVM shared - node_A_2
node_A_2:0m.i2.3L15 894.0GB 0 30 SSD-NVM shared - node_A_2
node_A_2:0m.i2.3L16 894.0GB 0 31 SSD-NVM shared - node_A_2
node_A_2:0n.0 1.75TB 0 0 SSD-NVM shared aggr0_node_A_2_0 node_A_2
node_A_2:0n.1 1.75TB 0 1 SSD-NVM shared aggr0_node_A_2_0 node_A_2
node_A_2:0n.2 1.75TB 0 2 SSD-NVM shared aggr0_node_A_2_0 node_A_2
node_A_2:0n.3 1.75TB 0 3 SSD-NVM shared aggr0_node_A_2_0 node_A_2
node_A_2:0n.4 1.75TB 0 4 SSD-NVM shared aggr0_node_A_2_0 node_A_2
node_A_2:0n.5 1.75TB 0 5 SSD-NVM shared aggr0_node_A_2_0 node_A_2
node_A_2:0n.6 1.75TB 0 6 SSD-NVM shared aggr0_node_A_2_0 node_A_2
node_A_2:0n.7 1.75TB 0 7 SSD-NVM shared - node_A_2
64 entries were displayed.

cluster_A::&gt;</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="manually-assigning-drives-for-pool-1-ontap-9-4-or-later">Manually assigning drives for pool 1 (ONTAP 9.4 or later)</h4>
<div class="paragraph lead">
<p>If the system was not preconfigured at the factory and does not meet the requirements for automatic drive assignment, you must manually assign the remote pool 1 drives.</p>
</div>
<div class="paragraph">
<p>This procedure applies to configurations running ONTAP 9.4 or later.</p>
</div>
<div class="paragraph">
<p>Details for determining whether your system requires manual disk assignment are included in <a href="concept_prepare_for_the_mcc_installation.html#considerations-for-automatic-drive-assignment-and-adp-systems-in-ontap-9-4-and-later">Considerations for automatic drive assignment and ADP systems in ONTAP 9.4 and later</a>.</p>
</div>
<div class="paragraph">
<p>When the configuration includes only two external shelves per site, pool 1 drives for each site should be shared from the same shelf as shown in the following examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>node_A_1 is assigned drives in bays 0-11 on site_B-shelf_2 (remote)</p>
</li>
<li>
<p>node_A_2 is assigned drives in bays 12-23 on site_B-shelf_2 (remote)</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>From each node in the MetroCluster IP configuration, assign remote drives to pool 1.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Display the list of unassigned drives: <code>disk show -host-adapter 0m -container-type unassigned</code></p>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; disk show -host-adapter 0m -container-type unassigned
                     Usable           Disk    Container   Container
Disk                   Size Shelf Bay Type    Type        Name      Owner
---------------- ---------- ----- --- ------- ----------- --------- --------
6.23.0                    -    23   0 SSD     unassigned  -         -
6.23.1                    -    23   1 SSD     unassigned  -         -
.
.
.
node_A_2:0m.i1.2L51       -    21  14 SSD     unassigned  -         -
node_A_2:0m.i1.2L64       -    21  10 SSD     unassigned  -         -
.
.
.
48 entries were displayed.

cluster_A::&gt;</pre>
</div>
</div>
</li>
<li>
<p>Assign ownership of remote drives (0m) to pool 1 of the first node (for example, node_A_1): <code>disk assign -disk disk-id -pool 1 -owner owner-node-name</code></p>
<div class="paragraph">
<p>disk-id must identify a drive on a remote shelf of owner-node-name.</p>
</div>
</li>
<li>
<p>Confirm that the drives were assigned to pool 1: <code>disk show -host-adapter 0m -container-type unassigned</code></p>
<div class="paragraph">
<p><strong>NOTE</strong>: The iSCSI connection used to access the remote drives appears as device 0m.</p>
</div>
<div class="paragraph">
<p>The following output shows that the drives on shelf 23 were assigned because they no longer appear in the list of unassigned drives:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; disk show -host-adapter 0m -container-type unassigned
                     Usable           Disk    Container   Container
Disk                   Size Shelf Bay Type    Type        Name      Owner
---------------- ---------- ----- --- ------- ----------- --------- --------
node_A_2:0m.i1.2L51       -    21  14 SSD     unassigned  -         -
node_A_2:0m.i1.2L64       -    21  10 SSD     unassigned  -         -
.
.
.
node_A_2:0m.i2.1L90       -    21  19 SSD     unassigned  -         -
24 entries were displayed.

cluster_A::&gt;</pre>
</div>
</div>
</li>
<li>
<p>Repeat these steps to assign pool 1 drives to the second node on site A (for example, node_A_2).</p>
</li>
<li>
<p>Repeat these steps on site B.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="manually-assigning-disks-for-pool-1-ontap-9-3">Manually assigning disks for pool 1 (ONTAP 9.3)</h4>
<div class="paragraph lead">
<p>If you have at least two disk shelves for each node, you use ONTAP&#8217;s auto-assignment functionality to automatically assign the remote (pool1) disks. You must first assign a disk on the shelf to pool1. ONTAP then automatically assigns the rest of the disks on the shelf to the same pool.</p>
</div>
<div class="paragraph">
<p>This procedure applies to configurations running ONTAP 9.3.</p>
</div>
<div class="paragraph">
<p>This procedure can be used only if you have at least two disk shelves for each node, which allows shelf-level autoassignment of disks.</p>
</div>
<div class="paragraph">
<p>If you cannot use shelf-level autoassignment, you must manually assign your remote disks so that each node has a remote pool of disks (pool 1).</p>
</div>
<div class="paragraph">
<p>The ONTAP automatic disk assignment feature assigns the disks on a shelf-by-shelf basis. For example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All the disks on site_B-shelf_2 are autoassigned to pool1 of node_A_1</p>
</li>
<li>
<p>All the disks on site_B-shelf_4 are autoassigned to pool1 of node_A_2</p>
</li>
<li>
<p>All the disks on site_A-shelf_2 are autoassigned to pool1 of node_B_1</p>
</li>
<li>
<p>All the disks on site_A-shelf_4 are autoassigned to pool1 of node_B_2</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You must "seed" the autoassignment by specifying a single disk on each shelf.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>From each node in the MetroCluster IP configuration, assign a remote disk to pool 1.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Display the list of unassigned disks: <code>disk show -host-adapter 0m -container-type unassigned</code></p>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; disk show -host-adapter 0m -container-type unassigned
                     Usable           Disk    Container   Container
Disk                   Size Shelf Bay Type    Type        Name      Owner
---------------- ---------- ----- --- ------- ----------- --------- --------
6.23.0                    -    23   0 SSD     unassigned  -         -
6.23.1                    -    23   1 SSD     unassigned  -         -
.
.
.
node_A_2:0m.i1.2L51       -    21  14 SSD     unassigned  -         -
node_A_2:0m.i1.2L64       -    21  10 SSD     unassigned  -         -
.
.
.
48 entries were displayed.

cluster_A::&gt;</pre>
</div>
</div>
</li>
<li>
<p>Select a remote disk (0m) and assign ownership of the disk to pool1 of the first node (for example, node_A_1): <code>disk assign -disk disk-id -pool 1 -owner owner-node-name</code></p>
<div class="paragraph">
<p>The disk-id must identify a disk on a remote shelf of owner-node-name.</p>
</div>
<div class="paragraph">
<p>The ONTAP disk autoassignment feature assigns all disks on the remote shelf that contains the specified disk.</p>
</div>
</li>
<li>
<p>After waiting at least 60 seconds for disk autoassignment to take place, verify that the remote disks on the shelf were auto-assigned to pool 1: <code>disk show -host-adapter 0m -container-type unassigned</code></p>
<div class="paragraph">
<p><strong>Note</strong>: The iSCSI connection used to access the remote disks appears as device 0m.</p>
</div>
<div class="paragraph">
<p>The following output shows that the disks on shelf 23 have now been assigned and no longer appear:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; disk show -host-adapter 0m -container-type unassigned
                     Usable           Disk    Container   Container
Disk                   Size Shelf Bay Type    Type        Name      Owner
---------------- ---------- ----- --- ------- ----------- --------- --------
node_A_2:0m.i1.2L51       -    21  14 SSD     unassigned  -         -
node_A_2:0m.i1.2L64       -    21  10 SSD     unassigned  -         -
node_A_2:0m.i1.2L72       -    21  23 SSD     unassigned  -         -
node_A_2:0m.i1.2L74       -    21   1 SSD     unassigned  -         -
node_A_2:0m.i1.2L83       -    21  22 SSD     unassigned  -         -
node_A_2:0m.i1.2L90       -    21   7 SSD     unassigned  -         -
node_A_2:0m.i1.3L52       -    21   6 SSD     unassigned  -         -
node_A_2:0m.i1.3L59       -    21  13 SSD     unassigned  -         -
node_A_2:0m.i1.3L66       -    21  17 SSD     unassigned  -         -
node_A_2:0m.i1.3L73       -    21  12 SSD     unassigned  -         -
node_A_2:0m.i1.3L80       -    21   5 SSD     unassigned  -         -
node_A_2:0m.i1.3L81       -    21   2 SSD     unassigned  -         -
node_A_2:0m.i1.3L82       -    21  16 SSD     unassigned  -         -
node_A_2:0m.i1.3L91       -    21   3 SSD     unassigned  -         -
node_A_2:0m.i2.0L49       -    21  15 SSD     unassigned  -         -
node_A_2:0m.i2.0L50       -    21   4 SSD     unassigned  -         -
node_A_2:0m.i2.1L57       -    21  18 SSD     unassigned  -         -
node_A_2:0m.i2.1L58       -    21  11 SSD     unassigned  -         -
node_A_2:0m.i2.1L59       -    21  21 SSD     unassigned  -         -
node_A_2:0m.i2.1L65       -    21  20 SSD     unassigned  -         -
node_A_2:0m.i2.1L72       -    21   9 SSD     unassigned  -         -
node_A_2:0m.i2.1L80       -    21   0 SSD     unassigned  -         -
node_A_2:0m.i2.1L88       -    21   8 SSD     unassigned  -         -
node_A_2:0m.i2.1L90       -    21  19 SSD     unassigned  -         -
24 entries were displayed.

cluster_A::&gt;</pre>
</div>
</div>
</li>
<li>
<p>Repeat these steps to assign pool 1 disks to the second node on site A (for example, node_A_2).</p>
</li>
<li>
<p>Repeat these steps on site B.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enabling-automatic-drive-assignment-in-ontap-9-4">Enabling automatic drive assignment in ONTAP 9.4</h3>
<div class="paragraph lead">
<p>In ONTAP 9.4, if you disabled automatic drive assignment as directed previously in this procedure, you must reenable it on all nodes.</p>
</div>
<div class="paragraph">
<p><a href="concept_prepare_for_the_mcc_installation.html#considerations-for-automatic-drive-assignment-and-adp-systems-in-ontap-9-4-and-later">Considerations for automatic drive assignment and ADP systems in ONTAP 9.4 and later</a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Enable automatic drive assignment: <code>storage disk option modify -node node_name -autoassign on</code></p>
<div class="paragraph">
<p>You must issue this command on all nodes in the MetroCluster IP configuration.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="mirroring-the-root-aggregates">Mirroring the root aggregates</h3>
<div class="paragraph lead">
<p>You must mirror the root aggregates to provide data protection.</p>
</div>
<div class="paragraph">
<p>By default, the root aggregate is created as RAID-DP type aggregate. You can change the root aggregate from RAID-DP to RAID4 type aggregate. The following command modifies the root aggregate for RAID4 type aggregate:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>storage aggregate modify aggregate aggr_name -raidtype raid4</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
On non-ADP systems, the RAID type of the aggregate can be modified from the default RAID-DP to RAID4 before or after the aggregate is mirrored.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Mirror the root aggregate: <code>storage aggregate mirror aggr_name</code></p>
<div class="paragraph">
<p>The following command mirrors the root aggregate for controller_A_1:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>controller_A_1::&gt; storage aggregate mirror aggr0_controller_A_1</pre>
</div>
</div>
<div class="paragraph">
<p>This mirrors the aggregate, so it consists of a local plex and a remote plex located at the remote MetroCluster site.</p>
</div>
</li>
<li>
<p>Repeat the previous step for each node in the MetroCluster configuration.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Related information</strong></p>
</div>
<div class="paragraph">
<p><a href="https://docs.netapp.com/ontap-9/topic/com.netapp.doc.dot-cm-vsmg/home.html">Logical storage management</a></p>
</div>
</div>
<div class="sect2">
<h3 id="creating-a-mirrored-data-aggregate-on-each-node">Creating a mirrored data aggregate on each node</h3>
<div class="paragraph lead">
<p>You must create a mirrored data aggregate on each node in the DR group.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You should know what drives will be used in the new aggregate.</p>
</li>
<li>
<p>If you have multiple drive types in your system (heterogeneous storage), you should understand how you can ensure that the correct drive type is selected.</p>
</li>
<li>
<p>Drives are owned by a specific node; when you create an aggregate, all drives in that aggregate must be owned by the same node, which becomes the home node for that aggregate.</p>
<div class="paragraph">
<p>In systems using ADP, aggregates are created using partitions in which each drive is partitioned in to P1, P2 and P3 partitions.</p>
</div>
</li>
<li>
<p>Aggregate names should conform to the naming scheme you determined when you planned your MetroCluster configuration.</p>
<div class="paragraph">
<p><a href="https://docs.netapp.com/ontap-9/topic/com.netapp.doc.dot-cm-psmg/home.html">Disk and aggregate management</a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Display a list of available spares: <code>storage disk show -spare -owner node_name</code></p>
</li>
<li>
<p>Create the aggregate by using the storage aggregate create -mirror true command.</p>
<div class="paragraph">
<p>If you are logged in to the cluster on the cluster management interface, you can create an aggregate on any node in the cluster. To ensure that the aggregate is created on a specific node, use the -node parameter or specify drives that are owned by that node.</p>
</div>
<div class="paragraph">
<p>You can specify the following options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Aggregate&#8217;s home node (that is, the node that owns the aggregate in normal operation)</p>
</li>
<li>
<p>List of specific drives that are to be added to the aggregate</p>
</li>
<li>
<p>Number of drives to include</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In the minimum supported configuration, in which a limited number of drives are available, you must use the force-small-aggregate option to allow the creation of a three disk RAID-DP aggregate.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Checksum style to use for the aggregate</p>
</li>
<li>
<p>Type of drives to use</p>
</li>
<li>
<p>Size of drives to use</p>
</li>
<li>
<p>Drive speed to use</p>
</li>
<li>
<p>RAID type for RAID groups on the aggregate</p>
</li>
<li>
<p>Maximum number of drives that can be included in a RAID group</p>
</li>
<li>
<p>Whether drives with different RPM are allowed
For more information about these options, see the storage aggregate create man page.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The following command creates a mirrored aggregate with 10 disks:</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; storage aggregate create aggr1_node_A_1 -diskcount 10 -node node_A_1 -mirror true
[Job 15] Job is queued: Create aggr1_node_A_1.
[Job 15] The job is starting.
[Job 15] Job succeeded: DONE</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify the RAID group and drives of your new aggregate: <code>storage aggregate show-status -aggregate aggregate-name</code></p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="implementing-the-metrocluster-configuration">Implementing the MetroCluster configuration</h3>
<div class="paragraph lead">
<p>You must run the metrocluster configure command to start data protection in a MetroCluster configuration.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>There should be at least two non-root mirrored data aggregates on each cluster.</p>
<div class="paragraph">
<p>You can verify this with the storage aggregate show command.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you want to use a single mirrored data aggregate, then see <a href="concept_configure_the_mcc_software_in_ontap.adocSTEP_429E7F7532ED4B468B67B9B22968D686">step 1</a> for instructions.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>The ha-config state of the controllers and chassis must be mccip.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You issue the metrocluster configure command once, on any of the nodes, to enable the MetroCluster configuration. You do not need to issue the command on each of the sites or nodes, and it does not matter which node or site you choose to issue the command on.</p>
</div>
<div class="paragraph">
<p>The metrocluster configure command automatically pairs the two nodes with the lowest system IDs in each of the two clusters as disaster recovery (DR) partners. In a four-node MetroCluster configuration, there are two DR partner pairs. The second DR pair is created from the two nodes with higher system IDs.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Configure the MetroCluster in the following format:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">If your MetroCluster configuration has&#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">Then do this&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Multiple data aggregates</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>From any node&#8217;s prompt, configure MetroCluster: <code>metrocluster configure node-name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A single mirrored data aggregate</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>From any node&#8217;s prompt, change to the advanced privilege level: <code>set -privilege advanced</code></p>
<div class="paragraph">
<p>You need to respond with <code>y</code> when you are prompted to continue into advanced mode and you see the advanced mode prompt (*&gt;).</p>
</div>
</li>
<li>
<p>Configure the MetroCluster with the -allow-with-one-aggregate true parameter: <code>metrocluster configure -allow-with-one-aggregate true node-name</code></p>
</li>
<li>
<p>Return to the admin privilege level: <code>set -privilege admin</code></p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Note:</strong> The best practice is to have multiple data aggregates. If the first DR group has only one aggregate and you want to add a DR group with one aggregate, you must move the metadata volume off the single data aggregate. For more information on this procedure, see <a href="../maintain/task_move_a_metadata_volume_in_mcc_configurations.html">Moving a metadata volume in MetroCluster configurations</a>.</p>
</div>
<div class="paragraph">
<p>The following command enables the MetroCluster configuration on all of the nodes in the DR group that contains controller_A_1:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::*&gt; metrocluster configure -node-name controller_A_1

[Job 121] Job succeeded: Configure is successful.</pre>
</div>
</div>
</li>
<li>
<p>Verify the networking status on site A: <code>network port show</code></p>
<div class="paragraph">
<p>The following example shows the network port usage on a four-node MetroCluster configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; network port show
                                                          Speed (Mbps)
Node   Port      IPspace   Broadcast Domain Link   MTU    Admin/Oper
------ --------- --------- ---------------- ----- ------- ------------
controller_A_1
       e0a       Cluster   Cluster          up     9000  auto/1000
       e0b       Cluster   Cluster          up     9000  auto/1000
       e0c       Default   Default          up     1500  auto/1000
       e0d       Default   Default          up     1500  auto/1000
       e0e       Default   Default          up     1500  auto/1000
       e0f       Default   Default          up     1500  auto/1000
       e0g       Default   Default          up     1500  auto/1000
controller_A_2
       e0a       Cluster   Cluster          up     9000  auto/1000
       e0b       Cluster   Cluster          up     9000  auto/1000
       e0c       Default   Default          up     1500  auto/1000
       e0d       Default   Default          up     1500  auto/1000
       e0e       Default   Default          up     1500  auto/1000
       e0f       Default   Default          up     1500  auto/1000
       e0g       Default   Default          up     1500  auto/1000
14 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>Verify the MetroCluster configuration from both sites in the MetroCluster configuration.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Verify the configuration from site A: <code>metrocluster show</code></p>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; metrocluster show

Configuration: IP fabric

Cluster                   Entry Name          State
------------------------- ------------------- -----------
 Local: cluster_A         Configuration state configured
                          Mode                normal
Remote: cluster_B         Configuration state configured
                          Mode                normal</pre>
</div>
</div>
</li>
<li>
<p>Verify the configuration from site B: <code>metrocluster show</code></p>
<div class="listingblock">
<div class="content">
<pre>cluster_B::&gt; metrocluster show

Configuration: IP fabric

Cluster                   Entry Name          State
------------------------- ------------------- -----------
 Local: cluster_B         Configuration state configured
                          Mode                normal
Remote: cluster_A         Configuration state configured
                          Mode                normal</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>To avoid possible issues with nonvolatile memory mirroring, reboot each of the four nodes:
<code>node reboot -node <em>node-name</em> -inhibit-takeover true</code></p>
</li>
<li>
<p>Issue the <code>metrocluster show</code> command on both clusters to again verify the configuration.
=== Configuring the second DR group in an eight-node configuration</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Repeat the previous tasks to configure the nodes in the second DR group.</p>
</div>
</div>
<div class="sect2">
<h3 id="creating-unmirrored-data-aggregates">Creating unmirrored data aggregates</h3>
<div class="paragraph lead">
<p>You can optionally create unmirrored data aggregates for data that does not require the redundant mirroring provided by MetroCluster configurations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You should know what drives or array LUNs will be used in the new aggregate.</p>
</li>
<li>
<p>If you have multiple drive types in your system (heterogeneous storage), you should understand how you can verify that the correct drive type is selected.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>IMPORTANT:</p>
</div>
<div class="paragraph">
<p>In MetroCluster IP configurations, remote unmirrored aggregates are not accessible after a switchover</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The unmirrored aggregates must be local to the node owning them.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Drives and array LUNs are owned by a specific node; when you create an aggregate, all drives in that aggregate must be owned by the same node, which becomes the home node for that aggregate.</p>
</li>
<li>
<p>Aggregate names should conform to the naming scheme you determined when you planned your MetroCluster configuration.</p>
</li>
<li>
<p>The <em>Disks and Aggregates Power Guide</em> contains more information about mirroring aggregates.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Enable unmirrored aggregate deployment: <code>metrocluster modify -enable-unmirrored-aggr-deployment true</code></p>
</li>
<li>
<p>Verify that disk autoassignment is disabled: <code>disk option show</code></p>
</li>
<li>
<p>Install and cable the disk shelves that will contain the unmirrored aggregates.</p>
<div class="paragraph">
<p>You can use the procedures in the Installation and Setup documentation for your platform and disk shelves.</p>
</div>
<div class="paragraph">
<p><a href="https://docs.netapp.com/platstor/index.jsp">AFF and FAS Documentation Center</a></p>
</div>
</li>
<li>
<p>Manually assign all disks on the new shelf to the appropriate node: <code>disk assign -disk disk-id -owner owner-node-name</code></p>
</li>
<li>
<p>Create the aggregate: <code>storage aggregate create</code></p>
<div class="paragraph">
<p>If you are logged in to the cluster on the cluster management interface, you can create an aggregate on any node in the cluster. To verify that the aggregate is created on a specific node, you should use the -node parameter or specify drives that are owned by that node.</p>
</div>
<div class="paragraph">
<p>You must also ensure that you are only including drives on the unmirrored shelf to the aggregate.</p>
</div>
<div class="paragraph">
<p>You can specify the following options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Aggregate&#8217;s home node (that is, the node that owns the aggregate in normal operation)</p>
</li>
<li>
<p>List of specific drives or array LUNs that are to be added to the aggregate</p>
</li>
<li>
<p>Number of drives to include</p>
</li>
<li>
<p>Checksum style to use for the aggregate</p>
</li>
<li>
<p>Type of drives to use</p>
</li>
<li>
<p>Size of drives to use</p>
</li>
<li>
<p>Drive speed to use</p>
</li>
<li>
<p>RAID type for RAID groups on the aggregate</p>
</li>
<li>
<p>Maximum number of drives or array LUNs that can be included in a RAID group</p>
</li>
<li>
<p>Whether drives with different RPM are allowed
For more information about these options, see the storage aggregate create man page.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The following command creates a unmirrored aggregate with 10 disks:</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre>controller_A_1::&gt; storage aggregate create aggr1_controller_A_1 -diskcount 10 -node controller_A_1
[Job 15] Job is queued: Create aggr1_controller_A_1.
[Job 15] The job is starting.
[Job 15] Job succeeded: DONE</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify the RAID group and drives of your new aggregate: <code>storage aggregate show-status -aggregate aggregate-name</code></p>
</li>
<li>
<p>Disable unmirrored aggregate deployment: <code>metrocluster modify -enable-unmirrored-aggr-deployment false</code></p>
</li>
<li>
<p>Verify that disk autoassignment is enabled: <code>disk option show</code></p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Related information</strong></p>
</div>
<div class="paragraph">
<p><a href="https://docs.netapp.com/ontap-9/topic/com.netapp.doc.dot-cm-psmg/home.html">Disk and aggregate management</a></p>
</div>
</div>
<div class="sect2">
<h3 id="checking-the-metrocluster-configuration">Checking the MetroCluster configuration</h3>
<div class="paragraph lead">
<p>You can check that the components and relationships in the MetroCluster configuration are working correctly. You should do a check after initial configuration and after making any changes to the MetroCluster configuration. You should also do a check before a negotiated (planned) switchover or a switchback operation.</p>
</div>
<div class="paragraph">
<p>If the metrocluster check run command is issued twice within a short time on either or both clusters, a conflict can occur and the command might not collect all data. Subsequent metrocluster check show commands do not show the expected output.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Check the configuration: <code>metrocluster check run</code></p>
<div class="paragraph">
<p>The command runs as a background job and might not be completed immediately.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; metrocluster check run
The operation has been started and is running in the background. Wait for
it to complete and run "metrocluster check show" to view the results. To
check the status of the running metrocluster check operation, use the command,
"metrocluster operation history show -job-id 2245"</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; metrocluster check show
Last Checked On: 9/13/2018 20:41:37

Component           Result
------------------- ---------
nodes               ok
lifs                ok
config-replication  ok
aggregates          ok
clusters            ok
connections         ok
6 entries were displayed.</pre>
</div>
</div>
</li>
<li>
<p>Display more detailed results from the most recent metrocluster check run command: <code>metrocluster check aggregate show<code>metrocluster check cluster show</code>metrocluster check config-replication show<code>metrocluster check lif show</code>metrocluster check node show</code></p>
<div class="paragraph">
<p>The metrocluster check show commands show the results of the most recent metrocluster check run command. You should always run the metrocluster check run command prior to using the metrocluster check show commands so that the information displayed is current.</p>
</div>
<div class="paragraph">
<p>The following example shows the metrocluster check aggregate show command output for a healthy four-node MetroCluster configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster_A::&gt; metrocluster check aggregate show

Last Checked On: 8/5/2014 00:42:58

Node                  Aggregate                  Check                      Result
---------------       --------------------       ---------------------      ---------
controller_A_1        controller_A_1_aggr0
                                                 mirroring-status           ok
                                                 disk-pool-allocation       ok
                                                 ownership-state            ok
                      controller_A_1_aggr1
                                                 mirroring-status           ok
                                                 disk-pool-allocation       ok
                                                 ownership-state            ok
                      controller_A_1_aggr2
                                                 mirroring-status           ok
                                                 disk-pool-allocation       ok
                                                 ownership-state            ok


controller_A_2        controller_A_2_aggr0
                                                 mirroring-status           ok
                                                 disk-pool-allocation       ok
                                                 ownership-state            ok
                      controller_A_2_aggr1
                                                 mirroring-status           ok
                                                 disk-pool-allocation       ok
                                                 ownership-state            ok
                      controller_A_2_aggr2
                                                 mirroring-status           ok
                                                 disk-pool-allocation       ok
                                                 ownership-state            ok

18 entries were displayed.</pre>
</div>
</div>
<div class="paragraph">
<p>The following example shows the metrocluster check cluster show command output for a healthy four-node MetroCluster configuration. It indicates that the clusters are ready to perform a negotiated switchover if necessary.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Last Checked On: 9/13/2017 20:47:04

Cluster               Check                           Result
--------------------- ------------------------------- ---------
mccint-fas9000-0102
                      negotiated-switchover-ready     not-applicable
                      switchback-ready                not-applicable
                      job-schedules                   ok
                      licenses                        ok
                      periodic-check-enabled          ok
mccint-fas9000-0304
                      negotiated-switchover-ready     not-applicable
                      switchback-ready                not-applicable
                      job-schedules                   ok
                      licenses                        ok
                      periodic-check-enabled          ok
10 entries were displayed.</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Related information</strong></p>
</div>
<div class="paragraph">
<p><a href="https://docs.netapp.com/ontap-9/topic/com.netapp.doc.dot-cm-psmg/home.html">Disk and aggregate management</a></p>
</div>
<div class="paragraph">
<p><a href="https://docs.netapp.com/ontap-9/topic/com.netapp.doc.dot-cm-nmg/home.html">Network and LIF management</a></p>
</div>
</div>
<div class="sect2">
<h3 id="completing-ontap-configuration">Completing ONTAP configuration</h3>
<div class="paragraph lead">
<p>After configuring, enabling, and checking the MetroCluster configuration, you can proceed to complete the cluster configuration by adding additional SVMs, network interfaces and other ONTAP functionality as needed.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="verifying-switchover-healing-and-switchback">Verifying switchover, healing, and switchback</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>You should verify the switchover, healing, and switchback operations of the MetroCluster configuration.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Use the procedures for negotiated switchover, healing, and switchback that are mentioned in the <em>MetroCluster Management and Disaster Recovery Guide</em>.</p>
<div class="paragraph">
<p><a href="https://docs.netapp.com/ontap-9/topic/com.netapp.doc.dot-mcc-mgmt-dr/home.html">MetroCluster management and disaster recovery</a></p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-the-metrocluster-tiebreaker-or-ontap-mediator-software">Configuring the MetroCluster Tiebreaker or ONTAP Mediator software</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>You can download and install on a third site either the MetroCluster Tiebreaker software, or, starting with ONTAP 9.7, the ONTAP Mediator.</p>
</div>
<div class="paragraph">
<p>You must have a Linux host available that has network connectivity to both clusters in the MetroCluster configuration. The specific requirements are in the MetroCluster Tiebreaker or ONTAP Mediator documentation.</p>
</div>
<div class="paragraph">
<p>If you are connecting to an existing Tiebreaker or ONTAP Mediator instance, you need the username, password, and IP address of the Tiebreaker or Mediator service.</p>
</div>
<div class="paragraph">
<p>If you must install a new instance of the ONTAP Mediator, follow the directions to install and configure the software.</p>
</div>
<div class="paragraph">
<p><a href="concept_configure_the_ontap_mediator_for_unplanned_automatic_switchover.html">Configuring the ONTAP Mediator service for unplanned automatic switchover</a></p>
</div>
<div class="paragraph">
<p>If you must install a new instance of the Tiebreaker software, follow the directions to install and configure the software.</p>
</div>
<div class="paragraph">
<p><a href="https://docs.netapp.com/ontap-9/topic/com.netapp.doc.hw-metrocluster-tiebreaker/home.html">MetroCluster Tiebreaker Software Installation and Configuration Guide</a></p>
</div>
<div class="paragraph">
<p>You cannot use both the MetroCluster Tiebreaker software and the ONTAP Mediator with the same MetroCluster configuration.</p>
</div>
<div class="paragraph">
<p><a href="concept_prepare_for_the_mcc_installation.html#considerations-for-using-ontap-mediator-or-metrocluster-tiebreaker">Considerations for using ONTAP Mediator or MetroCluster Tiebreaker</a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Configure the ONTAP Mediator service or the Tiebreaker software:</p>
<div class="ulist">
<ul>
<li>
<p>If you are using an existing instance of the ONTAP Mediator, add the ONTAP Mediator service to ONTAP using the following command:<code>metrocluster configuration-settings mediator add -mediator-address ip-address-of-mediator-host</code></p>
</li>
<li>
<p>If you are using the Tiebreaker software, refer to the Tiebreaker documentation.</p>
<div class="paragraph">
<p><a href="https://docs.netapp.com/ontap-9/topic/com.netapp.doc.hw-metrocluster-tiebreaker/home.html">MetroCluster Tiebreaker Software Installation and Configuration Guide</a></p>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="protecting-configuration-backup-files">Protecting configuration backup files</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>You can provide additional protection for the cluster configuration backup files by specifying a remote URL (either HTTP or FTP) where the configuration backup files will be uploaded in addition to the default locations in the local cluster.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Set the URL of the remote destination for the configuration backup files: <code>system configuration backup settings modify URL-of-destination</code></p>
<div class="paragraph">
<p>The System Administration Guide contains additional information under the section <em>Managing configuration backups</em>.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Related information</strong></p>
</div>
<div class="paragraph">
<p><a href="https://docs.netapp.com/ontap-9/topic/com.netapp.doc.dot-cm-sag/home.html">System administration</a></p>
</div>
</div>
</div>

    </article>
    <!-- Page Container -->
  </div>

  
  <!-- Start Page Toolbar -->
  <div class="page-nav-toolbar">
    <div class="page-nav-contribute"  >
      <div class="page-nav-contribute-title">CONTRIBUTE</div>
      <a target="_blank" href="https://github.com/NetAppDocs/ontap-metrocluster/blob/main/install-ip/concept_configure_the_mcc_software_in_ontap.adoc" class="btn btn-default githubEditButton" role="button"><img src="/us-en/ontap-metrocluster/images/github.png" class="github-icon" />Edit on GitHub</a>
      <a target="_blank" href="https://github.com/NetAppDocs/ontap-metrocluster/issues/new?body=Page%3A%20[Configuring the MetroCluster software in ONTAP](https://docs.netapp.com/us-en/ontap-metrocluster/install-ip/concept_configure_the_mcc_software_in_ontap.html)" class="btn btn-default githubEditButton" role="button"><img src="/us-en/ontap-metrocluster/images/github.png" class="github-icon" />Request doc changes</a>
      <a target="_blank" href="https://docs.netapp.com/us-en/contribute/" class="page-nav-contribute-link"  >Contributor's Guide</a>
    </div>
    <div class="page-nav-container">
      <nav class="page-nav-fixed">
        <div class="page-nav-title">ON THIS PAGE</div>
        <div class="page-nav-links">
          <ul class="page-nav-inner" id="page-menu"></ul>
        </div>
      </nav>
    </div>
  </div>
  
  <div style="clear: both"></div><!-- Main needs to have height -->
</div>

        </main>

        <footer class="n-footer">
  <div class="n-footer__bottom">
    <div class="n-container">
      <div class="n-footer__bottom-left">

        <div class="n-footer__copyright">
          <ul class="n-footer__copyright-list">
            <li class="n-footer__copyright-link">
            <a href="https://www.netapp.com/us/legal/copyright.aspx"> 2021 NetApp, Inc.</a>
            </li>

</ul>
</div>
<div class="n-footer__social-links">
<ul class="n-footer__social-link-list">
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-blog" href="https://blog.netapp.com" target="_blank" title="blog" alt="blog">
<span class="n-footer__social-link-text">blog</span>
<svg class="n-icon-blog n-footer__social-link-icon" aria-labelledby="title">
  <title>blog@</title>
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-metrocluster/common/svg/sprite.svg#blog"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-community" href="https://community.netapp.com/" target="_blank" title="community" alt="community">
<span class="n-footer__social-link-text">community</span>
<svg class="n-icon-community n-footer__social-link-icon" aria-labelledby="title">
<title>community@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-metrocluster/common/svg/sprite.svg#comments"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-twitter" href="https://twitter.com/netapp" target="_blank" title="twitter" alt="twitter">
<span class="n-footer__social-link-text">twitter</span>
<svg class="n-icon-twitter n-footer__social-link-icon" aria-labelledby="title">
<title>twitter@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-metrocluster/common/svg/sprite.svg#twitter"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-facebook" href="https://www.facebook.com/NetApp" target="_blank" title="facebook" alt="facebook">
<span class="n-footer__social-link-text">facebook</span>
<svg class="n-icon-facebook n-footer__social-link-icon" aria-labelledby="title">
<title>facebook@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-metrocluster/common/svg/sprite.svg#facebook"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-linkedin" href="https://www.linkedin.com/company/netapp" target="_blank" title="linkedin" alt="linkedin">
<span class="n-footer__social-link-text">linkedin</span>
<svg class="n-icon-linkedin n-footer__social-link-icon" aria-labelledby="title">
<title>linkedin@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-metrocluster/common/svg/sprite.svg#linkedin"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-youtube" href="https://www.youtube.com/user/NetAppTV" target="_blank" title="youtube" alt="youtube">
<span class="n-footer__social-link-text">youtube</span>
<svg class="n-icon-youtube n-footer__social-link-icon" aria-labelledby="title">
<title>youtube@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-metrocluster/common/svg/sprite.svg#youtube"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-slideshare" href="https://www.slideshare.net/NetApp" target="_blank" title="slideshare" alt="slideshare">
<span class="n-footer__social-link-text">slideshare</span>
<svg class="n-icon-slideshare n-footer__social-link-icon" aria-labelledby="title">
<title>slideshare@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/ontap-metrocluster/common/svg/sprite.svg#slideshare"></use>
</svg>

</a>
</li>
</ul>
</div>

</div>
<div class="n-footer__bottom-right">
  <p class="n-footer__fine-print">Have feedback for our website?<a target="_self" href="javascript:netapp_mailto()" class="n-footer__copyright">Let us know</a>
  <a href="https://docs.netapp.com/us-en/announcements/" class="n-footer__copyright">Announcements</a>
  </p>
</div>
</div>
</div>
</footer>

      </div>

      <!-- Elasticsearch JS -->
      <script type="text/javascript" src='/us-en/ontap-metrocluster/js/bundle.js'></script>

      <!-- Syntax Highlighting -->
      <script type="text/javascript" src='/us-en/ontap-metrocluster/js/prism.js'></script>
      <script type="text/javascript" src='/us-en/ontap-metrocluster/js/prism-curl.js'></script>
    </div>
    <script>
      document.body.offsetWidth=1903;
      cookieLaw = {}
      cookieLaw.euCountry = "US";
      cookieLaw.invoke = function(){return false;}
    </script>
    <script src='/us-en/ontap-metrocluster/js/www-ntap.js'></script>
  </body>

  
</html>
